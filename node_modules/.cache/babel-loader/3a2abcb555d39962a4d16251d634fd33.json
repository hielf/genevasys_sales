{"ast":null,"code":"function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*!\n * @license\n * TradingView Lightweight Charts v3.3.0\n * Copyright (c) 2020 TradingView, Inc.\n * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0\n */\nimport { bindToDevicePixelRatio as t } from \"fancy-canvas/coordinate-space\";\nvar i, n;\n\nfunction h(t, i) {\n  var n,\n      h = ((n = {})[0] = [], n[1] = [t.lineWidth, t.lineWidth], n[2] = [2 * t.lineWidth, 2 * t.lineWidth], n[3] = [6 * t.lineWidth, 6 * t.lineWidth], n[4] = [t.lineWidth, 4 * t.lineWidth], n)[i];\n  t.setLineDash(h);\n}\n\nfunction s(t, i, n, h) {\n  t.beginPath();\n  var s = t.lineWidth % 2 ? .5 : 0;\n  t.moveTo(n, i + s), t.lineTo(h, i + s), t.stroke();\n}\n\n!function (t) {\n  t[t.Simple = 0] = \"Simple\", t[t.WithSteps = 1] = \"WithSteps\";\n}(i || (i = {})), function (t) {\n  t[t.Solid = 0] = \"Solid\", t[t.Dotted = 1] = \"Dotted\", t[t.Dashed = 2] = \"Dashed\", t[t.LargeDashed = 3] = \"LargeDashed\", t[t.SparseDotted = 4] = \"SparseDotted\";\n}(n || (n = {}));\n\nvar _r = function r(t, i) {\n  return (_r = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (t, i) {\n    t.__proto__ = i;\n  } || function (t, i) {\n    for (var n in i) {\n      Object.prototype.hasOwnProperty.call(i, n) && (t[n] = i[n]);\n    }\n  })(t, i);\n};\n\nfunction e(t, i) {\n  if (\"function\" != typeof i && null !== i) throw new TypeError(\"Class extends value \" + String(i) + \" is not a constructor or null\");\n\n  function n() {\n    this.constructor = t;\n  }\n\n  _r(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n());\n}\n\nvar _u = function u() {\n  return (_u = Object.assign || function (t) {\n    for (var i, n = 1, h = arguments.length; n < h; n++) {\n      for (var s in i = arguments[n]) {\n        Object.prototype.hasOwnProperty.call(i, s) && (t[s] = i[s]);\n      }\n    }\n\n    return t;\n  }).apply(this, arguments);\n};\n\nfunction a() {\n  for (var t = 0, i = 0, n = arguments.length; i < n; i++) {\n    t += arguments[i].length;\n  }\n\n  var h = Array(t),\n      s = 0;\n\n  for (i = 0; i < n; i++) {\n    for (var r = arguments[i], e = 0, u = r.length; e < u; e++, s++) {\n      h[s] = r[e];\n    }\n  }\n\n  return h;\n}\n\nfunction o(t, i) {\n  if (!t) throw new Error(\"Assertion failed\" + (i ? \": \" + i : \"\"));\n}\n\nfunction l(t) {\n  if (void 0 === t) throw new Error(\"Value is undefined\");\n  return t;\n}\n\nfunction f(t) {\n  if (null === t) throw new Error(\"Value is null\");\n  return t;\n}\n\nfunction c(t) {\n  return f(l(t));\n}\n\nfunction v(t) {\n  for (var i = [], n = 1; n < arguments.length; n++) {\n    i[n - 1] = arguments[n];\n  }\n\n  for (var h = 0, s = i; h < s.length; h++) {\n    var r = s[h];\n\n    for (var e in r) {\n      void 0 !== r[e] && (\"object\" != _typeof(r[e]) || void 0 === t[e] ? t[e] = r[e] : v(t[e], r[e]));\n    }\n  }\n\n  return t;\n}\n\nfunction _(t) {\n  return \"number\" == typeof t && isFinite(t);\n}\n\nfunction d(t) {\n  return \"number\" == typeof t && t % 1 == 0;\n}\n\nfunction w(t) {\n  return \"string\" == typeof t;\n}\n\nfunction M(t) {\n  return \"boolean\" == typeof t;\n}\n\nfunction b(t) {\n  var i,\n      n,\n      h,\n      s = t;\n  if (!s || \"object\" != _typeof(s)) return s;\n\n  for (n in i = Array.isArray(s) ? [] : {}, s) {\n    s.hasOwnProperty(n) && (h = s[n], i[n] = h && \"object\" == _typeof(h) ? b(h) : h);\n  }\n\n  return i;\n}\n\nfunction m(t) {\n  return null !== t;\n}\n\nfunction g(t) {\n  return null === t ? void 0 : t;\n}\n\nvar p = function () {\n  function t() {\n    this.t = [];\n  }\n\n  return t.prototype.i = function (t) {\n    this.t = t;\n  }, t.prototype.h = function (t, i, n, h) {\n    this.t.forEach(function (s) {\n      t.save(), s.h(t, i, n, h), t.restore();\n    });\n  }, t;\n}(),\n    y = function () {\n  function t() {}\n\n  return t.prototype.h = function (t, i, n, h) {\n    t.save(), t.scale(i, i), this.u(t, n, h), t.restore();\n  }, t.prototype.o = function (t, i, n, h) {\n    t.save(), t.scale(i, i), this.l(t, n, h), t.restore();\n  }, t.prototype.l = function (t, i, n) {}, t;\n}(),\n    k = function (t) {\n  function i() {\n    var i = null !== t && t.apply(this, arguments) || this;\n    return i.v = null, i;\n  }\n\n  return e(i, t), i.prototype._ = function (t) {\n    this.v = t;\n  }, i.prototype.u = function (t) {\n    if (null !== this.v && null !== this.v.M) {\n      var i = this.v.M,\n          n = this.v,\n          h = function h(_h) {\n        t.beginPath();\n\n        for (var s = i.to - 1; s >= i.from; --s) {\n          var r = n.m[s];\n          t.moveTo(r.g, r.p), t.arc(r.g, r.p, _h, 0, 2 * Math.PI);\n        }\n\n        t.fill();\n      };\n\n      t.fillStyle = n.k, h(n.N + 2), t.fillStyle = n.S, h(n.N);\n    }\n  }, i;\n}(y);\n\nvar x = {\n  from: 0,\n  to: 1\n},\n    N = function () {\n  function t(t, i) {\n    this.C = new p(), this.D = [], this.T = [], this.B = !0, this.L = t, this.A = i, this.C.i(this.D);\n  }\n\n  return t.prototype.V = function (t) {\n    var i = this,\n        n = this.L.O();\n    n.length !== this.D.length && (this.T = n.map(function () {\n      return {\n        m: [{\n          g: 0,\n          p: 0,\n          P: 0,\n          F: 0\n        }],\n        S: \"\",\n        k: i.L.I().layout.backgroundColor,\n        N: 0,\n        M: null\n      };\n    }), this.D = this.T.map(function (t) {\n      var i = new k();\n      return i._(t), i;\n    }), this.C.i(this.D)), this.B = !0;\n  }, t.prototype.W = function (t, i, n) {\n    return this.B && (this.R(), this.B = !1), this.C;\n  }, t.prototype.R = function () {\n    var t = this,\n        i = this.L.O(),\n        n = this.A.j(),\n        h = this.L.U();\n    i.forEach(function (i, s) {\n      var r = t.T[s],\n          e = i.q(n);\n\n      if (null !== e && i.H()) {\n        var u = f(i.Y());\n        r.S = e.K, r.k = e.$, r.N = e.N, r.m[0].F = e.F, r.m[0].p = i.Z().X(e.F, u.J), r.m[0].P = n, r.m[0].g = h.G(n), r.M = x;\n      } else r.M = null;\n    });\n  }, t;\n}(),\n    S = function () {\n  function t(t) {\n    this.tt = t;\n  }\n\n  return t.prototype.h = function (t, i, n, r) {\n    if (null !== this.tt) {\n      var e = this.tt.it.H,\n          u = this.tt.nt.H;\n\n      if (e || u) {\n        t.save();\n        var a = Math.round(this.tt.g * i),\n            o = Math.round(this.tt.p * i),\n            l = Math.ceil(this.tt.ht * i),\n            f = Math.ceil(this.tt.st * i);\n        t.lineCap = \"butt\", e && a >= 0 && (t.lineWidth = Math.floor(this.tt.it.rt * i), t.strokeStyle = this.tt.it.et, t.fillStyle = this.tt.it.et, h(t, this.tt.it.ut), function (t, i, n, h) {\n          t.beginPath();\n          var s = t.lineWidth % 2 ? .5 : 0;\n          t.moveTo(i + s, n), t.lineTo(i + s, h), t.stroke();\n        }(t, a, 0, f)), u && o >= 0 && (t.lineWidth = Math.floor(this.tt.nt.rt * i), t.strokeStyle = this.tt.nt.et, t.fillStyle = this.tt.nt.et, h(t, this.tt.nt.ut), s(t, o, 0, l)), t.restore();\n      }\n    }\n  }, t;\n}(),\n    C = function () {\n  function t(t) {\n    this.B = !0, this.at = {\n      it: {\n        rt: 1,\n        ut: 0,\n        et: \"\",\n        H: !1\n      },\n      nt: {\n        rt: 1,\n        ut: 0,\n        et: \"\",\n        H: !1\n      },\n      ht: 0,\n      st: 0,\n      g: 0,\n      p: 0\n    }, this.ot = new S(this.at), this.lt = t;\n  }\n\n  return t.prototype.V = function () {\n    this.B = !0;\n  }, t.prototype.W = function (t, i) {\n    return this.B && (this.R(), this.B = !1), this.ot;\n  }, t.prototype.R = function () {\n    var t = this.lt.H(),\n        i = f(this.lt.ft()),\n        n = i.ct().I().crosshair,\n        h = this.at;\n    h.nt.H = t && this.lt.vt(i), h.it.H = t && this.lt._t(), h.nt.rt = n.horzLine.width, h.nt.ut = n.horzLine.style, h.nt.et = n.horzLine.color, h.it.rt = n.vertLine.width, h.it.ut = n.vertLine.style, h.it.et = n.vertLine.color, h.ht = i.dt(), h.st = i.wt(), h.g = this.lt.Mt(), h.p = this.lt.bt();\n  }, t;\n}(),\n    D = {\n  khaki: \"#f0e68c\",\n  azure: \"#f0ffff\",\n  aliceblue: \"#f0f8ff\",\n  ghostwhite: \"#f8f8ff\",\n  gold: \"#ffd700\",\n  goldenrod: \"#daa520\",\n  gainsboro: \"#dcdcdc\",\n  gray: \"#808080\",\n  green: \"#008000\",\n  honeydew: \"#f0fff0\",\n  floralwhite: \"#fffaf0\",\n  lightblue: \"#add8e6\",\n  lightcoral: \"#f08080\",\n  lemonchiffon: \"#fffacd\",\n  hotpink: \"#ff69b4\",\n  lightyellow: \"#ffffe0\",\n  greenyellow: \"#adff2f\",\n  lightgoldenrodyellow: \"#fafad2\",\n  limegreen: \"#32cd32\",\n  linen: \"#faf0e6\",\n  lightcyan: \"#e0ffff\",\n  magenta: \"#f0f\",\n  maroon: \"#800000\",\n  olive: \"#808000\",\n  orange: \"#ffa500\",\n  oldlace: \"#fdf5e6\",\n  mediumblue: \"#0000cd\",\n  transparent: \"#0000\",\n  lime: \"#0f0\",\n  lightpink: \"#ffb6c1\",\n  mistyrose: \"#ffe4e1\",\n  moccasin: \"#ffe4b5\",\n  midnightblue: \"#191970\",\n  orchid: \"#da70d6\",\n  mediumorchid: \"#ba55d3\",\n  mediumturquoise: \"#48d1cc\",\n  orangered: \"#ff4500\",\n  royalblue: \"#4169e1\",\n  powderblue: \"#b0e0e6\",\n  red: \"#f00\",\n  coral: \"#ff7f50\",\n  turquoise: \"#40e0d0\",\n  white: \"#fff\",\n  whitesmoke: \"#f5f5f5\",\n  wheat: \"#f5deb3\",\n  teal: \"#008080\",\n  steelblue: \"#4682b4\",\n  bisque: \"#ffe4c4\",\n  aquamarine: \"#7fffd4\",\n  aqua: \"#0ff\",\n  sienna: \"#a0522d\",\n  silver: \"#c0c0c0\",\n  springgreen: \"#00ff7f\",\n  antiquewhite: \"#faebd7\",\n  burlywood: \"#deb887\",\n  brown: \"#a52a2a\",\n  beige: \"#f5f5dc\",\n  chocolate: \"#d2691e\",\n  chartreuse: \"#7fff00\",\n  cornflowerblue: \"#6495ed\",\n  cornsilk: \"#fff8dc\",\n  crimson: \"#dc143c\",\n  cadetblue: \"#5f9ea0\",\n  tomato: \"#ff6347\",\n  fuchsia: \"#f0f\",\n  blue: \"#00f\",\n  salmon: \"#fa8072\",\n  blanchedalmond: \"#ffebcd\",\n  slateblue: \"#6a5acd\",\n  slategray: \"#708090\",\n  thistle: \"#d8bfd8\",\n  tan: \"#d2b48c\",\n  cyan: \"#0ff\",\n  darkblue: \"#00008b\",\n  darkcyan: \"#008b8b\",\n  darkgoldenrod: \"#b8860b\",\n  darkgray: \"#a9a9a9\",\n  blueviolet: \"#8a2be2\",\n  black: \"#000\",\n  darkmagenta: \"#8b008b\",\n  darkslateblue: \"#483d8b\",\n  darkkhaki: \"#bdb76b\",\n  darkorchid: \"#9932cc\",\n  darkorange: \"#ff8c00\",\n  darkgreen: \"#006400\",\n  darkred: \"#8b0000\",\n  dodgerblue: \"#1e90ff\",\n  darkslategray: \"#2f4f4f\",\n  dimgray: \"#696969\",\n  deepskyblue: \"#00bfff\",\n  firebrick: \"#b22222\",\n  forestgreen: \"#228b22\",\n  indigo: \"#4b0082\",\n  ivory: \"#fffff0\",\n  lavenderblush: \"#fff0f5\",\n  feldspar: \"#d19275\",\n  indianred: \"#cd5c5c\",\n  lightgreen: \"#90ee90\",\n  lightgrey: \"#d3d3d3\",\n  lightskyblue: \"#87cefa\",\n  lightslategray: \"#789\",\n  lightslateblue: \"#8470ff\",\n  snow: \"#fffafa\",\n  lightseagreen: \"#20b2aa\",\n  lightsalmon: \"#ffa07a\",\n  darksalmon: \"#e9967a\",\n  darkviolet: \"#9400d3\",\n  mediumpurple: \"#9370d8\",\n  mediumaquamarine: \"#66cdaa\",\n  skyblue: \"#87ceeb\",\n  lavender: \"#e6e6fa\",\n  lightsteelblue: \"#b0c4de\",\n  mediumvioletred: \"#c71585\",\n  mintcream: \"#f5fffa\",\n  navajowhite: \"#ffdead\",\n  navy: \"#000080\",\n  olivedrab: \"#6b8e23\",\n  palevioletred: \"#d87093\",\n  violetred: \"#d02090\",\n  yellow: \"#ff0\",\n  yellowgreen: \"#9acd32\",\n  lawngreen: \"#7cfc00\",\n  pink: \"#ffc0cb\",\n  paleturquoise: \"#afeeee\",\n  palegoldenrod: \"#eee8aa\",\n  darkolivegreen: \"#556b2f\",\n  darkseagreen: \"#8fbc8f\",\n  darkturquoise: \"#00ced1\",\n  peachpuff: \"#ffdab9\",\n  deeppink: \"#ff1493\",\n  violet: \"#ee82ee\",\n  palegreen: \"#98fb98\",\n  mediumseagreen: \"#3cb371\",\n  peru: \"#cd853f\",\n  saddlebrown: \"#8b4513\",\n  sandybrown: \"#f4a460\",\n  rosybrown: \"#bc8f8f\",\n  purple: \"#800080\",\n  seagreen: \"#2e8b57\",\n  seashell: \"#fff5ee\",\n  papayawhip: \"#ffefd5\",\n  mediumslateblue: \"#7b68ee\",\n  plum: \"#dda0dd\",\n  mediumspringgreen: \"#00fa9a\"\n};\n\nfunction T(t) {\n  return t < 0 ? 0 : t > 255 ? 255 : Math.round(t) || 0;\n}\n\nvar B = /^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,\n    E = /^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,\n    L = /^rgb\\(\\s*(-?\\d{1,10})\\s*,\\s*(-?\\d{1,10})\\s*,\\s*(-?\\d{1,10})\\s*\\)$/,\n    A = /^rgba\\(\\s*(-?\\d{1,10})\\s*,\\s*(-?\\d{1,10})\\s*,\\s*(-?\\d{1,10})\\s*,\\s*(-?[\\d]{0,10}(?:\\.\\d+)?)\\s*\\)$/;\n\nfunction V(t) {\n  var i,\n      n = function (t) {\n    var i;\n    if ((t = t.toLowerCase()) in D && (t = D[t]), i = A.exec(t) || L.exec(t)) return [T(parseInt(i[1], 10)), T(parseInt(i[2], 10)), T(parseInt(i[3], 10))];\n    if (i = E.exec(t)) return [T(parseInt(i[1], 16)), T(parseInt(i[2], 16)), T(parseInt(i[3], 16))];\n    if (i = B.exec(t)) return [T(17 * parseInt(i[1], 16)), T(17 * parseInt(i[2], 16)), T(17 * parseInt(i[3], 16))];\n    throw new Error(\"Cannot parse color: \" + t);\n  }(t);\n\n  return {\n    gt: \"rgb(\" + n[0] + \", \" + n[1] + \", \" + n[2] + \")\",\n    yt: (i = n, .199 * i[0] + .687 * i[1] + .114 * i[2] > 160 ? \"black\" : \"white\")\n  };\n}\n\nfunction O(t, i, n, h, s, r) {\n  t.fillRect(i + r, n, h - 2 * r, r), t.fillRect(i + r, n + s - r, h - 2 * r, r), t.fillRect(i, n, r, s), t.fillRect(i + h - r, n, r, s);\n}\n\nfunction z(t, i, n) {\n  t.save(), t.scale(i, i), n(), t.restore();\n}\n\nfunction P(t, i, n, h, s, r) {\n  t.save(), t.globalCompositeOperation = \"copy\", t.fillStyle = r, t.fillRect(i, n, h, s), t.restore();\n}\n\nvar F,\n    I = function () {\n  function t(t, i) {\n    this._(t, i);\n  }\n\n  return t.prototype._ = function (t, i) {\n    this.tt = t, this.kt = i;\n  }, t.prototype.h = function (t, i, n, h, s, r) {\n    if (this.tt.H) {\n      t.font = i.xt;\n      var e = this.tt.Nt || !this.tt.St ? i.Ct : 0,\n          u = i.Dt,\n          a = i.Tt,\n          o = i.Bt,\n          l = i.Et,\n          f = i.Lt,\n          c = this.tt.At,\n          v = Math.ceil(n.Vt(t, c)),\n          _ = i.Ot,\n          d = i.zt + a + o,\n          w = Math.ceil(.5 * d),\n          M = u + v + l + f + e,\n          b = this.kt.Pt;\n      this.kt.Ft && (b = this.kt.Ft);\n      var m,\n          g,\n          p = (b = Math.round(b)) - w,\n          y = p + d,\n          k = \"right\" === s,\n          x = k ? h : 0,\n          N = Math.ceil(h * r),\n          S = x;\n\n      if (t.fillStyle = this.kt.gt, t.lineWidth = 1, t.lineCap = \"butt\", c) {\n        k ? (m = x - e, g = (S = x - M) + f) : (S = x + M, m = x + e, g = x + u + e + l);\n        var C = Math.max(1, Math.floor(r)),\n            D = Math.max(1, Math.floor(u * r)),\n            T = k ? N : 0,\n            B = Math.round(p * r),\n            E = Math.round(S * r),\n            L = Math.round(b * r) - Math.floor(.5 * r),\n            A = L + C + (L - B),\n            V = Math.round(m * r);\n        t.save(), t.beginPath(), t.moveTo(T, B), t.lineTo(E, B), t.lineTo(E, A), t.lineTo(T, A), t.fill(), t.fillStyle = this.tt.$, t.fillRect(k ? N - D : 0, B, D, A - B), this.tt.Nt && (t.fillStyle = this.kt.et, t.fillRect(T, L, V - T, C)), t.textAlign = \"left\", t.fillStyle = this.kt.et, z(t, r, function () {\n          t.fillText(c, g, y - o - _);\n        }), t.restore();\n      }\n    }\n  }, t.prototype.wt = function (t, i) {\n    return this.tt.H ? t.zt + t.Tt + t.Bt : 0;\n  }, t;\n}(),\n    W = function () {\n  function t(t) {\n    this.It = {\n      Pt: 0,\n      et: \"#FFF\",\n      gt: \"#000\"\n    }, this.Wt = {\n      At: \"\",\n      H: !1,\n      Nt: !0,\n      St: !1,\n      $: \"\"\n    }, this.Rt = {\n      At: \"\",\n      H: !1,\n      Nt: !1,\n      St: !0,\n      $: \"\"\n    }, this.B = !0, this.jt = new (t || I)(this.Wt, this.It), this.Ut = new (t || I)(this.Rt, this.It);\n  }\n\n  return t.prototype.At = function () {\n    return this.Wt.At;\n  }, t.prototype.Pt = function () {\n    return this.qt(), this.It.Pt;\n  }, t.prototype.V = function () {\n    this.B = !0;\n  }, t.prototype.wt = function (t, i) {\n    return void 0 === i && (i = !1), Math.max(this.jt.wt(t, i), this.Ut.wt(t, i));\n  }, t.prototype.Ht = function () {\n    return this.It.Ft || 0;\n  }, t.prototype.Yt = function (t) {\n    this.It.Ft = t;\n  }, t.prototype.Kt = function () {\n    return this.qt(), this.Wt.H || this.Rt.H;\n  }, t.prototype.$t = function () {\n    return this.qt(), this.Wt.H;\n  }, t.prototype.W = function (t) {\n    return this.qt(), this.Wt.Nt = this.Wt.Nt && t.I().drawTicks, this.Rt.Nt = this.Rt.Nt && t.I().drawTicks, this.jt._(this.Wt, this.It), this.Ut._(this.Rt, this.It), this.jt;\n  }, t.prototype.Xt = function () {\n    return this.qt(), this.jt._(this.Wt, this.It), this.Ut._(this.Rt, this.It), this.Ut;\n  }, t.prototype.qt = function () {\n    this.B && (this.Wt.Nt = !0, this.Rt.Nt = !1, this.Zt(this.Wt, this.Rt, this.It));\n  }, t;\n}(),\n    R = function (t) {\n  function i(i, n, h) {\n    var s = t.call(this) || this;\n    return s.lt = i, s.Jt = n, s.Gt = h, s;\n  }\n\n  return e(i, t), i.prototype.Zt = function (t, i, n) {\n    t.H = !1;\n    var h = this.lt.I().horzLine;\n\n    if (h.labelVisible) {\n      var s = this.Jt.Y();\n\n      if (this.lt.H() && !this.Jt.Qt() && null !== s) {\n        var r = V(h.labelBackgroundColor);\n        n.gt = r.gt, n.et = r.yt;\n        var e = this.Gt(this.Jt);\n        n.Pt = e.Pt, t.At = this.Jt.ti(e.F, s), t.H = !0;\n      }\n    }\n  }, i;\n}(W),\n    j = /[1-9]/g,\n    U = function () {\n  function t() {\n    this.tt = null;\n  }\n\n  return t.prototype._ = function (t) {\n    this.tt = t;\n  }, t.prototype.h = function (t, i, n) {\n    var h = this;\n\n    if (null !== this.tt && !1 !== this.tt.H && 0 !== this.tt.At.length) {\n      t.font = i.xt;\n      var s = Math.round(i.ii.Vt(t, this.tt.At, j));\n\n      if (!(s <= 0)) {\n        t.save();\n        var r = i.ni,\n            e = s + 2 * r,\n            u = e / 2,\n            a = this.tt.dt,\n            o = this.tt.Pt,\n            l = Math.floor(o - u) + .5;\n        l < 0 ? (o += Math.abs(0 - l), l = Math.floor(o - u) + .5) : l + e > a && (o -= Math.abs(a - (l + e)), l = Math.floor(o - u) + .5);\n        var c = l + e,\n            v = 0 + i.Dt + i.Tt + i.zt + i.Bt;\n        t.fillStyle = this.tt.gt;\n\n        var _ = Math.round(l * n),\n            d = Math.round(0 * n),\n            w = Math.round(c * n),\n            M = Math.round(v * n);\n\n        t.fillRect(_, d, w - _, M - d);\n        var b = Math.round(this.tt.Pt * n),\n            m = d,\n            g = Math.round((m + i.Dt + i.Ct) * n);\n        t.fillStyle = this.tt.et;\n        var p = Math.max(1, Math.floor(n)),\n            y = Math.floor(.5 * n);\n        t.fillRect(b - y, m, p, g - m);\n        var k = v - i.Ot - i.Bt;\n        t.textAlign = \"left\", t.fillStyle = this.tt.et, z(t, n, function () {\n          t.fillText(f(h.tt).At, l + r, k);\n        }), t.restore();\n      }\n    }\n  }, t;\n}(),\n    q = function () {\n  function t(t, i, n) {\n    this.B = !0, this.ot = new U(), this.at = {\n      H: !1,\n      gt: \"#4c525e\",\n      et: \"white\",\n      At: \"\",\n      dt: 0,\n      Pt: NaN\n    }, this.A = t, this.hi = i, this.Gt = n;\n  }\n\n  return t.prototype.V = function () {\n    this.B = !0;\n  }, t.prototype.W = function () {\n    return this.B && (this.R(), this.B = !1), this.ot._(this.at), this.ot;\n  }, t.prototype.R = function () {\n    var t = this.at;\n    t.H = !1;\n    var i = this.A.I().vertLine;\n\n    if (i.labelVisible) {\n      var n = this.hi.U();\n\n      if (!n.Qt()) {\n        var h = n.si(this.A.j());\n        t.dt = n.dt();\n        var s = this.Gt();\n\n        if (s.P) {\n          t.Pt = s.Pt, t.At = n.ri(f(h)), t.H = !0;\n          var r = V(i.labelBackgroundColor);\n          t.gt = r.gt, t.et = r.yt;\n        }\n      }\n    }\n  }, t;\n}(),\n    H = function () {\n  function t() {\n    this.ei = null, this.ui = 0;\n  }\n\n  return t.prototype.ai = function () {\n    return this.ui;\n  }, t.prototype.oi = function (t) {\n    this.ui = t;\n  }, t.prototype.Z = function () {\n    return this.ei;\n  }, t.prototype.li = function (t) {\n    this.ei = t;\n  }, t.prototype.fi = function (t, i) {\n    return [];\n  }, t.prototype.ci = function (t) {\n    return [];\n  }, t.prototype.vi = function () {\n    return [];\n  }, t.prototype.H = function () {\n    return !0;\n  }, t;\n}();\n\n!function (t) {\n  t[t.Normal = 0] = \"Normal\", t[t.Magnet = 1] = \"Magnet\";\n}(F || (F = {}));\n\nvar Y = function (t) {\n  function i(i, n) {\n    var h = t.call(this) || this;\n    h._i = null, h.di = NaN, h.wi = 0, h.Mi = !0, h.bi = new Map(), h.mi = !1, h.gi = NaN, h.pi = NaN, h.yi = NaN, h.ki = NaN, h.hi = i, h.xi = n, h.Ni = new N(i, h);\n    var s, r;\n    h.Si = (s = function s() {\n      return h.di;\n    }, r = function r() {\n      return h.pi;\n    }, function (t) {\n      var i = r(),\n          n = s();\n      if (t === f(h._i).Ci()) return {\n        F: n,\n        Pt: i\n      };\n      var e = f(t.Y());\n      return {\n        F: t.Di(i, e),\n        Pt: i\n      };\n    });\n\n    var e = function (t, i) {\n      return function () {\n        return {\n          P: h.hi.U().si(t()),\n          Pt: i()\n        };\n      };\n    }(function () {\n      return h.wi;\n    }, function () {\n      return h.Mt();\n    });\n\n    return h.Ti = new q(h, i, e), h.Bi = new C(h), h;\n  }\n\n  return e(i, t), i.prototype.I = function () {\n    return this.xi;\n  }, i.prototype.Ei = function (t, i) {\n    this.yi = t, this.ki = i;\n  }, i.prototype.Li = function () {\n    this.yi = NaN, this.ki = NaN;\n  }, i.prototype.Ai = function () {\n    return this.yi;\n  }, i.prototype.Vi = function () {\n    return this.ki;\n  }, i.prototype.Oi = function (t, i, n) {\n    this.mi || (this.mi = !0), this.Mi = !0, this.zi(t, i, n);\n  }, i.prototype.j = function () {\n    return this.wi;\n  }, i.prototype.Mt = function () {\n    return this.gi;\n  }, i.prototype.bt = function () {\n    return this.pi;\n  }, i.prototype.H = function () {\n    return this.Mi;\n  }, i.prototype.Pi = function () {\n    this.Mi = !1, this.Fi(), this.di = NaN, this.gi = NaN, this.pi = NaN, this._i = null, this.Li();\n  }, i.prototype.ci = function (t) {\n    return null !== this._i ? [this.Bi, this.Ni] : [];\n  }, i.prototype.vt = function (t) {\n    return t === this._i && this.xi.horzLine.visible;\n  }, i.prototype._t = function () {\n    return this.xi.vertLine.visible;\n  }, i.prototype.fi = function (t, i) {\n    this.Mi && this._i === t || this.bi.clear();\n    var n = [];\n    return this._i === t && n.push(this.Ii(this.bi, i, this.Si)), n;\n  }, i.prototype.vi = function () {\n    return this.Mi ? [this.Ti] : [];\n  }, i.prototype.ft = function () {\n    return this._i;\n  }, i.prototype.Wi = function () {\n    this.Bi.V(), this.bi.forEach(function (t) {\n      return t.V();\n    }), this.Ti.V(), this.Ni.V();\n  }, i.prototype.Ri = function (t) {\n    return t && !t.Ci().Qt() ? t.Ci() : null;\n  }, i.prototype.zi = function (t, i, n) {\n    this.ji(t, i, n) && this.Wi();\n  }, i.prototype.ji = function (t, i, n) {\n    var h = this.gi,\n        s = this.pi,\n        r = this.di,\n        e = this.wi,\n        u = this._i,\n        a = this.Ri(n);\n    this.wi = t, this.gi = isNaN(t) ? NaN : this.hi.U().G(t), this._i = n;\n    var o = null !== a ? a.Y() : null;\n    return null !== a && null !== o ? (this.di = i, this.pi = a.X(i, o)) : (this.di = NaN, this.pi = NaN), h !== this.gi || s !== this.pi || e !== this.wi || r !== this.di || u !== this._i;\n  }, i.prototype.Fi = function () {\n    var t = this.hi.O().map(function (t) {\n      return t.qi().Ui();\n    }).filter(m),\n        i = 0 === t.length ? null : Math.max.apply(Math, t);\n    this.wi = null !== i ? i : NaN;\n  }, i.prototype.Ii = function (t, i, n) {\n    var h = t.get(i);\n    return void 0 === h && (h = new R(this, i, n), t.set(i, h)), h;\n  }, i;\n}(H),\n    K = \".\";\n\nfunction $(t, i) {\n  if (!_(t)) return \"n/a\";\n  if (!d(i)) throw new TypeError(\"invalid length\");\n  if (i < 0 || i > 16) throw new TypeError(\"invalid length\");\n  if (0 === i) return t.toString();\n  return (\"0000000000000000\" + t.toString()).slice(-i);\n}\n\nvar X = function () {\n  function t(t, i) {\n    if (i || (i = 1), _(t) && d(t) || (t = 100), t < 0) throw new TypeError(\"invalid base\");\n    this.Jt = t, this.Hi = i, this.Yi();\n  }\n\n  return t.prototype.Ki = function (t) {\n    var i = t < 0 ? \"−\" : \"\";\n    return t = Math.abs(t), i + this.$i(t);\n  }, t.prototype.Yi = function () {\n    if (this.Xi = 0, this.Jt > 0 && this.Hi > 0) for (var t = this.Jt; t > 1;) {\n      t /= 10, this.Xi++;\n    }\n  }, t.prototype.$i = function (t) {\n    var i = this.Jt / this.Hi,\n        n = Math.floor(t),\n        h = \"\",\n        s = void 0 !== this.Xi ? this.Xi : NaN;\n\n    if (i > 1) {\n      var r = +(Math.round(t * i) - n * i).toFixed(this.Xi);\n      r >= i && (r -= i, n += 1), h = K + $(+r.toFixed(this.Xi) * this.Hi, s);\n    } else n = Math.round(n * i) / i, s > 0 && (h = K + $(0, s));\n\n    return n.toFixed(0) + h;\n  }, t;\n}(),\n    Z = function (t) {\n  function i(i) {\n    return void 0 === i && (i = 100), t.call(this, i) || this;\n  }\n\n  return e(i, t), i.prototype.Ki = function (i) {\n    return t.prototype.Ki.call(this, i) + \"%\";\n  }, i;\n}(X),\n    J = function () {\n  function t() {\n    this.Zi = [];\n  }\n\n  return t.prototype.Ji = function (t, i, n) {\n    var h = {\n      Gi: t,\n      Qi: i,\n      tn: !0 === n\n    };\n    this.Zi.push(h);\n  }, t.prototype.nn = function (t) {\n    var i = this.Zi.findIndex(function (i) {\n      return t === i.Gi;\n    });\n    i > -1 && this.Zi.splice(i, 1);\n  }, t.prototype.hn = function (t) {\n    this.Zi = this.Zi.filter(function (i) {\n      return i.Qi === t;\n    });\n  }, t.prototype.sn = function (t, i) {\n    var n = a(this.Zi);\n    this.Zi = this.Zi.filter(function (t) {\n      return !t.tn;\n    }), n.forEach(function (n) {\n      return n.Gi(t, i);\n    });\n  }, t.prototype.rn = function () {\n    return this.Zi.length > 0;\n  }, t.prototype.en = function () {\n    this.Zi = [];\n  }, t;\n}(),\n    G = function () {\n  function t(t, i) {\n    this.un = t, this.an = i;\n  }\n\n  return t.prototype.on = function (t) {\n    return null !== t && this.un === t.un && this.an === t.an;\n  }, t.prototype.ln = function () {\n    return new t(this.un, this.an);\n  }, t.prototype.fn = function () {\n    return this.un;\n  }, t.prototype.cn = function () {\n    return this.an;\n  }, t.prototype.vn = function () {\n    return this.an - this.un;\n  }, t.prototype.Qt = function () {\n    return this.an === this.un || Number.isNaN(this.an) || Number.isNaN(this.un);\n  }, t.prototype._n = function (i) {\n    return null === i ? this : new t(Math.min(this.fn(), i.fn()), Math.max(this.cn(), i.cn()));\n  }, t.prototype.dn = function (t) {\n    if (_(t) && 0 !== this.an - this.un) {\n      var i = .5 * (this.an + this.un),\n          n = this.an - i,\n          h = this.un - i;\n      n *= t, h *= t, this.an = i + n, this.un = i + h;\n    }\n  }, t.prototype.wn = function (t) {\n    _(t) && (this.an += t, this.un += t);\n  }, t.prototype.Mn = function () {\n    return {\n      minValue: this.un,\n      maxValue: this.an\n    };\n  }, t.bn = function (i) {\n    return null === i ? null : new t(i.minValue, i.maxValue);\n  }, t;\n}();\n\nfunction Q(t, i, n) {\n  return Math.min(Math.max(t, i), n);\n}\n\nfunction tt(t, i, n) {\n  return i - t <= n;\n}\n\nfunction it(t) {\n  return t <= 0 ? NaN : Math.log(t) / Math.log(10);\n}\n\nfunction nt(t) {\n  var i = Math.ceil(t);\n  return i % 2 != 0 ? i - 1 : i;\n}\n\nfunction ht(t) {\n  var i = Math.ceil(t);\n  return i % 2 == 0 ? i - 1 : i;\n}\n\nfunction st(t, i) {\n  var n = 100 * (t - i) / i;\n  return i < 0 ? -n : n;\n}\n\nfunction rt(t, i) {\n  var n = st(t.fn(), i),\n      h = st(t.cn(), i);\n  return new G(n, h);\n}\n\nfunction et(t, i) {\n  var n = 100 * (t - i) / i + 100;\n  return i < 0 ? -n : n;\n}\n\nfunction ut(t, i) {\n  var n = et(t.fn(), i),\n      h = et(t.cn(), i);\n  return new G(n, h);\n}\n\nfunction at(t) {\n  var i = Math.abs(t);\n  if (i < 1e-8) return 0;\n  var n = it(i + 1e-4) + 4;\n  return t < 0 ? -n : n;\n}\n\nfunction ot(t) {\n  var i = Math.abs(t);\n  if (i < 1e-8) return 0;\n  var n = Math.pow(10, i - 4) - 1e-4;\n  return t < 0 ? -n : n;\n}\n\nfunction lt(t) {\n  if (null === t) return null;\n  var i = at(t.fn()),\n      n = at(t.cn());\n  return new G(i, n);\n}\n\nvar ft,\n    ct = function () {\n  function t(t, i) {\n    if (this.mn = t, this.gn = i, function (t) {\n      if (t < 0) return !1;\n\n      for (var i = t; i > 1; i /= 10) {\n        if (i % 10 != 0) return !1;\n      }\n\n      return !0;\n    }(this.mn)) this.pn = [2, 2.5, 2];else {\n      this.pn = [];\n\n      for (var n = this.mn; 1 !== n;) {\n        if (n % 2 == 0) this.pn.push(2), n /= 2;else {\n          if (n % 5 != 0) throw new Error(\"unexpected base\");\n          this.pn.push(2, 2.5), n /= 5;\n        }\n        if (this.pn.length > 100) throw new Error(\"something wrong with base\");\n      }\n    }\n  }\n\n  return t.prototype.yn = function (t, i, n) {\n    for (var h, s, r, e = 0 === this.mn ? 0 : 1 / this.mn, u = 1e-9, a = Math.pow(10, Math.max(0, Math.ceil(it(t - i)))), o = 0, l = this.gn[0];;) {\n      var f = tt(a, e, u) && a > e + u,\n          c = tt(a, n * l, u),\n          v = tt(a, 1, u);\n      if (!(f && c && v)) break;\n      a /= l, l = this.gn[++o % this.gn.length];\n    }\n\n    if (a <= e + u && (a = e), a = Math.max(1, a), this.pn.length > 0 && (h = a, s = 1, r = u, Math.abs(h - s) < r)) for (o = 0, l = this.pn[0]; tt(a, n * l, u) && a > e + u;) {\n      a /= l, l = this.pn[++o % this.pn.length];\n    }\n    return a;\n  }, t;\n}(),\n    vt = function () {\n  function t(t, i, n, h) {\n    this.kn = [], this.Jt = t, this.mn = i, this.xn = n, this.Nn = h;\n  }\n\n  return t.prototype.yn = function (t, i) {\n    if (t < i) throw new Error(\"high < low\");\n    var n = this.Jt.wt(),\n        h = (t - i) * this.Sn() / n,\n        s = new ct(this.mn, [2, 2.5, 2]),\n        r = new ct(this.mn, [2, 2, 2.5]),\n        e = new ct(this.mn, [2.5, 2, 2]),\n        u = [];\n    return u.push(s.yn(t, i, h), r.yn(t, i, h), e.yn(t, i, h)), function (t) {\n      if (t.length < 1) throw Error(\"array is empty\");\n\n      for (var i = t[0], n = 1; n < t.length; ++n) {\n        t[n] < i && (i = t[n]);\n      }\n\n      return i;\n    }(u);\n  }, t.prototype.Cn = function () {\n    var t = this.Jt,\n        i = t.Y();\n\n    if (null !== i) {\n      var n = t.wt(),\n          h = this.xn(n - 1, i),\n          s = this.xn(0, i),\n          r = this.Jt.I().entireTextOnly ? this.Dn() / 2 : 0,\n          e = r,\n          u = n - 1 - r,\n          a = Math.max(h, s),\n          o = Math.min(h, s);\n\n      if (a !== o) {\n        for (var l = this.yn(a, o), f = a % l, c = a >= o ? 1 : -1, v = null, _ = 0, d = a - (f += f < 0 ? l : 0); d > o; d -= l) {\n          var w = this.Nn(d, i, !0);\n          null !== v && Math.abs(w - v) < this.Sn() || w < e || w > u || (_ < this.kn.length ? (this.kn[_].Tn = w, this.kn[_].Bn = t.En(d)) : this.kn.push({\n            Tn: w,\n            Bn: t.En(d)\n          }), _++, v = w, t.Ln() && (l = this.yn(d * c, o)));\n        }\n\n        this.kn.length = _;\n      } else this.kn = [];\n    } else this.kn = [];\n  }, t.prototype.An = function () {\n    return this.kn;\n  }, t.prototype.Dn = function () {\n    return this.Jt.zt();\n  }, t.prototype.Sn = function () {\n    return Math.ceil(2.5 * this.Dn());\n  }, t;\n}();\n\nfunction _t(t) {\n  return t.slice().sort(function (t, i) {\n    return f(t.ai()) - f(i.ai());\n  });\n}\n\n!function (t) {\n  t[t.Normal = 0] = \"Normal\", t[t.Logarithmic = 1] = \"Logarithmic\", t[t.Percentage = 2] = \"Percentage\", t[t.IndexedTo100 = 3] = \"IndexedTo100\";\n}(ft || (ft = {}));\n\nvar dt,\n    wt = new Z(),\n    Mt = new X(100, 1),\n    bt = function () {\n  function t(t, i, n, h) {\n    this.Vn = 0, this.On = null, this.zn = null, this.Pn = null, this.Fn = {\n      In: !1,\n      Wn: null\n    }, this.Rn = 0, this.jn = 0, this.Un = new J(), this.qn = new J(), this.Hn = [], this.Yn = null, this.Kn = null, this.$n = null, this.Xn = null, this.Zn = Mt, this.Jn = t, this.xi = i, this.Gn = n, this.Qn = h, this.th = new vt(this, 100, this.ih.bind(this), this.nh.bind(this));\n  }\n\n  return t.prototype.hh = function () {\n    return this.Jn;\n  }, t.prototype.I = function () {\n    return this.xi;\n  }, t.prototype.sh = function (t) {\n    if (v(this.xi, t), this.rh(), void 0 !== t.mode && this.eh({\n      uh: t.mode\n    }), void 0 !== t.scaleMargins) {\n      var i = l(t.scaleMargins.top),\n          n = l(t.scaleMargins.bottom);\n      if (i < 0 || i > 1) throw new Error(\"Invalid top margin - expect value between 0 and 1, given=\" + i);\n      if (n < 0 || n > 1 || i + n > 1) throw new Error(\"Invalid bottom margin - expect value between 0 and 1, given=\" + n);\n      if (i + n > 1) throw new Error(\"Invalid margins - sum of margins must be less than 1, given=\" + (i + n));\n      this.ah(), this.Kn = null;\n    }\n  }, t.prototype.oh = function () {\n    return this.xi.autoScale;\n  }, t.prototype.Ln = function () {\n    return 1 === this.xi.mode;\n  }, t.prototype.lh = function () {\n    return 2 === this.xi.mode;\n  }, t.prototype.fh = function () {\n    return 3 === this.xi.mode;\n  }, t.prototype.uh = function () {\n    return {\n      _h: this.xi.autoScale,\n      dh: this.xi.invertScale,\n      uh: this.xi.mode\n    };\n  }, t.prototype.eh = function (t) {\n    var i = this.uh(),\n        n = null;\n    void 0 !== t._h && (this.xi.autoScale = t._h), void 0 !== t.uh && (this.xi.mode = t.uh, 2 !== t.uh && 3 !== t.uh || (this.xi.autoScale = !0), this.Fn.In = !1), 1 === i.uh && t.uh !== i.uh && (!function (t) {\n      if (null === t) return !1;\n      var i = ot(t.fn()),\n          n = ot(t.cn());\n      return isFinite(i) && isFinite(n);\n    }(this.zn) ? this.xi.autoScale = !0 : null !== (n = function (t) {\n      if (null === t) return null;\n      var i = ot(t.fn()),\n          n = ot(t.cn());\n      return new G(i, n);\n    }(this.zn)) && this.wh(n)), 1 === t.uh && t.uh !== i.uh && null !== (n = lt(this.zn)) && this.wh(n);\n    var h = i.uh !== this.xi.mode;\n    h && (2 === i.uh || this.lh()) && this.rh(), h && (3 === i.uh || this.fh()) && this.rh(), void 0 !== t.dh && i.dh !== t.dh && (this.xi.invertScale = t.dh, this.Mh()), this.qn.sn(i, this.uh());\n  }, t.prototype.bh = function () {\n    return this.qn;\n  }, t.prototype.zt = function () {\n    return this.Gn.fontSize;\n  }, t.prototype.wt = function () {\n    return this.Vn;\n  }, t.prototype.mh = function (t) {\n    this.Vn !== t && (this.Vn = t, this.ah(), this.Kn = null);\n  }, t.prototype.gh = function () {\n    if (this.On) return this.On;\n    var t = this.wt() - this.ph() - this.yh();\n    return this.On = t, t;\n  }, t.prototype.kh = function () {\n    return this.xh(), this.zn;\n  }, t.prototype.wh = function (t, i) {\n    var n = this.zn;\n    (i || null === n && null !== t || null !== n && !n.on(t)) && (this.Kn = null, this.zn = t);\n  }, t.prototype.Qt = function () {\n    return this.xh(), 0 === this.Vn || !this.zn || this.zn.Qt();\n  }, t.prototype.Nh = function (t) {\n    return this.dh() ? t : this.wt() - 1 - t;\n  }, t.prototype.X = function (t, i) {\n    return this.lh() ? t = st(t, i) : this.fh() && (t = et(t, i)), this.nh(t, i);\n  }, t.prototype.Sh = function (t, i, n) {\n    this.xh();\n\n    for (var h = this.yh(), s = f(this.kh()), r = s.fn(), e = s.cn(), u = this.gh() - 1, a = this.dh(), o = u / (e - r), l = void 0 === n ? 0 : n.from, c = void 0 === n ? t.length : n.to, v = this.Ch(), _ = l; _ < c; _++) {\n      var d = t[_],\n          w = d.F;\n\n      if (!isNaN(w)) {\n        var M = w;\n        null !== v && (M = v(d.F, i));\n        var b = h + o * (M - r),\n            m = a ? b : this.Vn - 1 - b;\n        d.p = m;\n      }\n    }\n  }, t.prototype.Dh = function (t, i, n) {\n    this.xh();\n\n    for (var h = this.yh(), s = f(this.kh()), r = s.fn(), e = s.cn(), u = this.gh() - 1, a = this.dh(), o = u / (e - r), l = void 0 === n ? 0 : n.from, c = void 0 === n ? t.length : n.to, v = this.Ch(), _ = l; _ < c; _++) {\n      var d = t[_],\n          w = d.open,\n          M = d.high,\n          b = d.low,\n          m = d.close;\n      null !== v && (w = v(d.open, i), M = v(d.high, i), b = v(d.low, i), m = v(d.close, i));\n      var g = h + o * (w - r),\n          p = a ? g : this.Vn - 1 - g;\n      d.Th = p, g = h + o * (M - r), p = a ? g : this.Vn - 1 - g, d.Bh = p, g = h + o * (b - r), p = a ? g : this.Vn - 1 - g, d.Eh = p, g = h + o * (m - r), p = a ? g : this.Vn - 1 - g, d.Lh = p;\n    }\n  }, t.prototype.Di = function (t, i) {\n    var n = this.ih(t, i);\n    return this.Ah(n, i);\n  }, t.prototype.Ah = function (t, i) {\n    var n = t;\n    return this.lh() ? n = function (t, i) {\n      return i < 0 && (t = -t), t / 100 * i + i;\n    }(n, i) : this.fh() && (n = function (t, i) {\n      return t -= 100, i < 0 && (t = -t), t / 100 * i + i;\n    }(n, i)), n;\n  }, t.prototype.Vh = function () {\n    return this.Hn;\n  }, t.prototype.Oh = function () {\n    if (this.Yn) return this.Yn;\n\n    for (var t = [], i = 0; i < this.Hn.length; i++) {\n      var n = this.Hn[i];\n      null === n.ai() && n.oi(i + 1), t.push(n);\n    }\n\n    return t = _t(t), this.Yn = t, this.Yn;\n  }, t.prototype.zh = function (t) {\n    -1 === this.Hn.indexOf(t) && (this.Hn.push(t), this.rh(), this.Ph());\n  }, t.prototype.Fh = function (t) {\n    var i = this.Hn.indexOf(t);\n    if (-1 === i) throw new Error(\"source is not attached to scale\");\n    this.Hn.splice(i, 1), 0 === this.Hn.length && (this.eh({\n      _h: !0\n    }), this.wh(null)), this.rh(), this.Ph();\n  }, t.prototype.Y = function () {\n    for (var t = null, i = 0, n = this.Hn; i < n.length; i++) {\n      var h = n[i].Y();\n      null !== h && (null === t || h.Ih < t.Ih) && (t = h);\n    }\n\n    return null === t ? null : t.J;\n  }, t.prototype.dh = function () {\n    return this.xi.invertScale;\n  }, t.prototype.An = function () {\n    return this.Kn || (this.th.Cn(), this.Kn = this.th.An(), this.Un.sn()), this.Kn;\n  }, t.prototype.Wh = function () {\n    return this.Un;\n  }, t.prototype.Rh = function (t) {\n    this.lh() || this.fh() || null === this.$n && null === this.Pn && (this.Qt() || (this.$n = this.Vn - t, this.Pn = f(this.kh()).ln()));\n  }, t.prototype.jh = function (t) {\n    if (!this.lh() && !this.fh() && null !== this.$n) {\n      this.eh({\n        _h: !1\n      }), (t = this.Vn - t) < 0 && (t = 0);\n      var i = (this.$n + .2 * (this.Vn - 1)) / (t + .2 * (this.Vn - 1)),\n          n = f(this.Pn).ln();\n      i = Math.max(i, .1), n.dn(i), this.wh(n);\n    }\n  }, t.prototype.Uh = function () {\n    this.lh() || this.fh() || (this.$n = null, this.Pn = null);\n  }, t.prototype.qh = function (t) {\n    this.oh() || null === this.Xn && null === this.Pn && (this.Qt() || (this.Xn = t, this.Pn = f(this.kh()).ln()));\n  }, t.prototype.Hh = function (t) {\n    if (!this.oh() && null !== this.Xn) {\n      var i = f(this.kh()).vn() / (this.gh() - 1),\n          n = t - this.Xn;\n      this.dh() && (n *= -1);\n      var h = n * i,\n          s = f(this.Pn).ln();\n      s.wn(h), this.wh(s, !0), this.Kn = null;\n    }\n  }, t.prototype.Yh = function () {\n    this.oh() || null !== this.Xn && (this.Xn = null, this.Pn = null);\n  }, t.prototype.Kh = function () {\n    return this.Zn || this.rh(), this.Zn;\n  }, t.prototype.ti = function (t, i) {\n    switch (this.xi.mode) {\n      case 2:\n        return this.Kh().Ki(st(t, i));\n\n      case 3:\n        return this.Kh().Ki(et(t, i));\n\n      default:\n        return this.$h(t);\n    }\n  }, t.prototype.En = function (t) {\n    switch (this.xi.mode) {\n      case 2:\n      case 3:\n        return this.Kh().Ki(t);\n\n      default:\n        return this.$h(t);\n    }\n  }, t.prototype.Xh = function (t) {\n    return this.$h(t, f(this.Zh()).Kh());\n  }, t.prototype.Jh = function (t, i) {\n    return t = st(t, i), wt.Ki(t);\n  }, t.prototype.Gh = function () {\n    return this.Hn;\n  }, t.prototype.Qh = function (t) {\n    this.Fn = {\n      Wn: t,\n      In: !1\n    };\n  }, t.prototype.Wi = function () {\n    this.Hn.forEach(function (t) {\n      return t.Wi();\n    });\n  }, t.prototype.rh = function () {\n    this.Kn = null;\n    var t = this.Zh(),\n        i = 100;\n    null !== t && (i = Math.round(1 / t.ts())), this.Zn = Mt, this.lh() ? (this.Zn = wt, i = 100) : this.fh() ? (this.Zn = new X(100, 1), i = 100) : null !== t && (this.Zn = t.Kh()), this.th = new vt(this, i, this.ih.bind(this), this.nh.bind(this)), this.th.Cn();\n  }, t.prototype.Ph = function () {\n    this.Yn = null;\n  }, t.prototype.Zh = function () {\n    return this.Hn[0] || null;\n  }, t.prototype.ph = function () {\n    return this.dh() ? this.xi.scaleMargins.bottom * this.wt() + this.jn : this.xi.scaleMargins.top * this.wt() + this.Rn;\n  }, t.prototype.yh = function () {\n    return this.dh() ? this.xi.scaleMargins.top * this.wt() + this.Rn : this.xi.scaleMargins.bottom * this.wt() + this.jn;\n  }, t.prototype.xh = function () {\n    this.Fn.In || (this.Fn.In = !0, this.ns());\n  }, t.prototype.ah = function () {\n    this.On = null;\n  }, t.prototype.nh = function (t, i) {\n    if (this.xh(), this.Qt()) return 0;\n    t = this.Ln() && t ? at(t) : t;\n    var n = f(this.kh()),\n        h = this.yh() + (this.gh() - 1) * (t - n.fn()) / n.vn();\n    return this.Nh(h);\n  }, t.prototype.ih = function (t, i) {\n    if (this.xh(), this.Qt()) return 0;\n    var n = this.Nh(t),\n        h = f(this.kh()),\n        s = h.fn() + h.vn() * ((n - this.yh()) / (this.gh() - 1));\n    return this.Ln() ? ot(s) : s;\n  }, t.prototype.Mh = function () {\n    this.Kn = null, this.th.Cn();\n  }, t.prototype.ns = function () {\n    var t = this.Fn.Wn;\n\n    if (null !== t) {\n      for (var i = null, n = 0, h = 0, s = 0, r = this.Gh(); s < r.length; s++) {\n        var e = r[s];\n\n        if (e.H()) {\n          var u = e.Y();\n\n          if (null !== u) {\n            var a = e.hs(t.ss(), t.rs()),\n                o = a && a.kh();\n\n            if (null !== o) {\n              switch (this.xi.mode) {\n                case 1:\n                  o = lt(o);\n                  break;\n\n                case 2:\n                  o = rt(o, u.J);\n                  break;\n\n                case 3:\n                  o = ut(o, u.J);\n              }\n\n              if (i = null === i ? o : i._n(f(o)), null !== a) {\n                var l = a.es();\n                null !== l && (n = Math.max(n, l.above), h = Math.max(n, l.below));\n              }\n            }\n          }\n        }\n      }\n\n      if (n === this.Rn && h === this.jn || (this.Rn = n, this.jn = h, this.Kn = null, this.ah()), null !== i) {\n        if (i.fn() === i.cn()) {\n          var c = this.Zh(),\n              v = 5 * (null === c || this.lh() || this.fh() ? 1 : c.ts());\n          i = new G(i.fn() - v, i.cn() + v);\n        }\n\n        this.wh(i);\n      } else null === this.zn && this.wh(new G(-.5, .5));\n\n      this.Fn.In = !0;\n    }\n  }, t.prototype.Ch = function () {\n    return this.lh() ? st : this.fh() ? et : this.Ln() ? at : null;\n  }, t.prototype.$h = function (t, i) {\n    return void 0 === this.Qn.priceFormatter ? (void 0 === i && (i = this.Kh()), i.Ki(t)) : this.Qn.priceFormatter(t);\n  }, t;\n}();\n\nfunction mt(t) {\n  void 0 !== t.borderColor && (t.borderUpColor = t.borderColor, t.borderDownColor = t.borderColor), void 0 !== t.wickColor && (t.wickUpColor = t.wickColor, t.wickDownColor = t.wickColor);\n}\n\n!function (t) {\n  t[t.LastBar = 0] = \"LastBar\", t[t.LastVisible = 1] = \"LastVisible\";\n}(dt || (dt = {}));\n\nvar gt = function gt(t) {\n  return t.getUTCFullYear();\n};\n\nfunction pt(t, i, n) {\n  return i.replace(/yyyy/g, function (t) {\n    return $(gt(t), 4);\n  }(t)).replace(/yy/g, function (t) {\n    return $(gt(t) % 100, 2);\n  }(t)).replace(/MMMM/g, function (t, i) {\n    return new Date(t.getUTCFullYear(), t.getUTCMonth(), 1).toLocaleString(i, {\n      month: \"long\"\n    });\n  }(t, n)).replace(/MMM/g, function (t, i) {\n    return new Date(t.getUTCFullYear(), t.getUTCMonth(), 1).toLocaleString(i, {\n      month: \"short\"\n    });\n  }(t, n)).replace(/MM/g, function (t) {\n    return $(function (t) {\n      return t.getUTCMonth() + 1;\n    }(t), 2);\n  }(t)).replace(/dd/g, function (t) {\n    return $(function (t) {\n      return t.getUTCDate();\n    }(t), 2);\n  }(t));\n}\n\nvar yt = function () {\n  function t(t, i) {\n    void 0 === t && (t = \"yyyy-MM-dd\"), void 0 === i && (i = \"default\"), this.us = t, this.os = i;\n  }\n\n  return t.prototype.Ki = function (t) {\n    return pt(t, this.us, this.os);\n  }, t;\n}(),\n    kt = function () {\n  function t(t) {\n    this.ls = t || \"%h:%m:%s\";\n  }\n\n  return t.prototype.Ki = function (t) {\n    return this.ls.replace(\"%h\", $(t.getUTCHours(), 2)).replace(\"%m\", $(t.getUTCMinutes(), 2)).replace(\"%s\", $(t.getUTCSeconds(), 2));\n  }, t;\n}(),\n    xt = {\n  fs: \"yyyy-MM-dd\",\n  cs: \"%h:%m:%s\",\n  vs: \" \",\n  _s: \"default\"\n},\n    Nt = function () {\n  function t(t) {\n    void 0 === t && (t = {});\n\n    var i = _u(_u({}, xt), t);\n\n    this.ds = new yt(i.fs, i._s), this.ws = new kt(i.cs), this.Ms = i.vs;\n  }\n\n  return t.prototype.Ki = function (t) {\n    return \"\" + this.ds.Ki(t) + this.Ms + this.ws.Ki(t);\n  }, t;\n}();\n\nvar St = function () {\n  function t(t, i) {\n    void 0 === i && (i = 50), this.bs = 0, this.gs = 1, this.ps = 1, this.ys = new Map(), this.ks = new Map(), this.xs = t, this.Ns = i;\n  }\n\n  return t.prototype.Ki = function (t) {\n    var i = void 0 === t.Ss ? new Date(1e3 * t.Cs).getTime() : new Date(Date.UTC(t.Ss.year, t.Ss.month - 1, t.Ss.day)).getTime(),\n        n = this.ys.get(i);\n    if (void 0 !== n) return n.Ds;\n\n    if (this.bs === this.Ns) {\n      var h = this.ks.get(this.ps);\n      this.ks.delete(this.ps), this.ys.delete(l(h)), this.ps++, this.bs--;\n    }\n\n    var s = this.xs(t);\n    return this.ys.set(i, {\n      Ds: s,\n      Ts: this.gs\n    }), this.ks.set(this.gs, i), this.bs++, this.gs++, s;\n  }, t;\n}(),\n    Ct = function () {\n  function t(t, i) {\n    o(t <= i, \"right should be >= left\"), this.Bs = t, this.Es = i;\n  }\n\n  return t.prototype.ss = function () {\n    return this.Bs;\n  }, t.prototype.rs = function () {\n    return this.Es;\n  }, t.prototype.Ls = function () {\n    return this.Es - this.Bs + 1;\n  }, t.prototype.As = function (t) {\n    return this.Bs <= t && t <= this.Es;\n  }, t.prototype.on = function (t) {\n    return this.Bs === t.ss() && this.Es === t.rs();\n  }, t;\n}();\n\nfunction Dt(t, i) {\n  return null === t || null === i ? t === i : t.on(i);\n}\n\nvar Tt,\n    Bt = function () {\n  function t() {\n    this.Vs = new Map(), this.ys = null;\n  }\n\n  return t.prototype.Os = function (t) {\n    var i = this;\n    this.ys = null, this.Vs.clear(), t.forEach(function (t, n) {\n      var h = i.Vs.get(t.zs);\n      void 0 === h && (h = [], i.Vs.set(t.zs, h)), h.push({\n        Ps: n,\n        P: t.P,\n        Fs: t.zs\n      });\n    });\n  }, t.prototype.Is = function (t, i) {\n    var n = Math.ceil(i / t);\n    return null !== this.ys && this.ys.Ws === n || (this.ys = {\n      An: this.Rs(n),\n      Ws: n\n    }), this.ys.An;\n  }, t.prototype.Rs = function (t) {\n    for (var i = [], n = 0, h = Array.from(this.Vs.keys()).sort(function (t, i) {\n      return i - t;\n    }); n < h.length; n++) {\n      var s = h[n];\n\n      if (this.Vs.get(s)) {\n        var r = i;\n        i = [];\n\n        for (var e = r.length, u = 0, a = l(this.Vs.get(s)), o = a.length, f = 1 / 0, c = -1 / 0, v = 0; v < o; v++) {\n          for (var _ = a[v], d = _.Ps; u < e;) {\n            var w = r[u],\n                M = w.Ps;\n\n            if (!(M < d)) {\n              f = M;\n              break;\n            }\n\n            u++, i.push(w), c = M, f = 1 / 0;\n          }\n\n          f - d >= t && d - c >= t && (i.push(_), c = d);\n        }\n\n        for (; u < e; u++) {\n          i.push(r[u]);\n        }\n      }\n    }\n\n    return i;\n  }, t;\n}(),\n    Et = function () {\n  function t(t) {\n    this.js = t;\n  }\n\n  return t.prototype.Us = function () {\n    return null === this.js ? null : new Ct(Math.floor(this.js.ss()), Math.ceil(this.js.rs()));\n  }, t.prototype.qs = function () {\n    return this.js;\n  }, t.Hs = function () {\n    return new t(null);\n  }, t;\n}();\n\n!function (t) {\n  t[t.Year = 0] = \"Year\", t[t.Month = 1] = \"Month\", t[t.DayOfMonth = 2] = \"DayOfMonth\", t[t.Time = 3] = \"Time\", t[t.TimeWithSeconds = 4] = \"TimeWithSeconds\";\n}(Tt || (Tt = {}));\n\nvar Lt = function () {\n  function t(t, i, n) {\n    this.Ys = 0, this.Ks = null, this.$s = [], this.Xn = null, this.$n = null, this.Xs = new Bt(), this.Zs = new Map(), this.Js = Et.Hs(), this.Gs = !0, this.Qs = new J(), this.tr = new J(), this.ir = new J(), this.nr = null, this.hr = null, this.sr = [], this.xi = i, this.Qn = n, this.rr = i.rightOffset, this.er = i.barSpacing, this.hi = t, this.ur();\n  }\n\n  return t.prototype.I = function () {\n    return this.xi;\n  }, t.prototype.ar = function (t) {\n    v(this.Qn, t), this.lr(), this.ur();\n  }, t.prototype.sh = function (t, i) {\n    v(this.xi, t), this.xi.fixLeftEdge && this.cr(), void 0 !== t.barSpacing && this.hi.vr(t.barSpacing), void 0 !== t.rightOffset && this.hi._r(t.rightOffset), this.lr(), this.ur(), this.ir.sn();\n  }, t.prototype.si = function (t) {\n    var i;\n    return (null === (i = this.$s[t]) || void 0 === i ? void 0 : i.P) || null;\n  }, t.prototype.dr = function (t, i) {\n    if (this.$s.length < 1) return null;\n    if (t.Cs > this.$s[this.$s.length - 1].P.Cs) return i ? this.$s.length - 1 : null;\n\n    for (var n = 0; n < this.$s.length; ++n) {\n      if (t.Cs === this.$s[n].P.Cs) return n;\n      if (t.Cs < this.$s[n].P.Cs) return i ? n : null;\n    }\n\n    return null;\n  }, t.prototype.Qt = function () {\n    return 0 === this.Ys || 0 === this.$s.length;\n  }, t.prototype.wr = function () {\n    return this.Mr(), this.Js.Us();\n  }, t.prototype.br = function () {\n    return this.Mr(), this.Js.qs();\n  }, t.prototype.mr = function () {\n    var t = this.wr();\n    if (null === t) return null;\n    var i = {\n      from: t.ss(),\n      to: t.rs()\n    };\n    return this.gr(i);\n  }, t.prototype.gr = function (t) {\n    var i = Math.round(t.from),\n        n = Math.round(t.to),\n        h = f(this.pr()),\n        s = f(this.yr());\n    return {\n      from: f(this.si(Math.max(h, i))),\n      to: f(this.si(Math.min(s, n)))\n    };\n  }, t.prototype.kr = function (t) {\n    var i = this.hi.U();\n    return {\n      from: f(i.dr(t.from, !0)),\n      to: f(i.dr(t.to, !0))\n    };\n  }, t.prototype.Nr = function () {\n    return this.Xs;\n  }, t.prototype.dt = function () {\n    return this.Ys;\n  }, t.prototype.Sr = function (t) {\n    if (isFinite(t) && !(t <= 0) && this.Ys !== t) {\n      if (this.xi.lockVisibleTimeRangeOnResize && this.Ys) {\n        var i = this.er * t / this.Ys;\n        this.Cr(i);\n      }\n\n      if (this.xi.fixLeftEdge) {\n        var n = this.wr();\n        if (null !== n) if (n.ss() <= 0) {\n          var h = this.Ys - t;\n          this.rr -= Math.round(h / this.er) + 1;\n        }\n      }\n\n      this.Ys = t, this.Gs = !0, this.Dr(), this.Tr();\n    }\n  }, t.prototype.G = function (t) {\n    if (this.Qt() || !d(t)) return 0;\n    var i = this.Br() + this.rr - t;\n    return this.Ys - (i + .5) * this.er;\n  }, t.prototype.Er = function (t, i) {\n    for (var n = this.Br(), h = void 0 === i ? 0 : i.from, s = void 0 === i ? t.length : i.to, r = h; r < s; r++) {\n      var e = t[r].P,\n          u = n + this.rr - e,\n          a = this.Ys - (u + .5) * this.er;\n      t[r].g = a;\n    }\n  }, t.prototype.Lr = function (t) {\n    return Math.ceil(this.Ar(t));\n  }, t.prototype._r = function (t) {\n    this.Gs = !0, this.rr = t, this.Tr(), this.hi.Vr(), this.hi.Or();\n  }, t.prototype.zr = function () {\n    return this.er;\n  }, t.prototype.vr = function (t) {\n    this.Cr(t), this.Tr(), this.hi.Vr(), this.hi.Or();\n  }, t.prototype.Pr = function () {\n    return this.rr;\n  }, t.prototype.An = function () {\n    if (this.Qt()) return null;\n    if (null !== this.hr) return this.hr;\n\n    for (var t = this.er, i = 5 * (this.hi.I().layout.fontSize + 4), n = Math.round(i / t), h = f(this.wr()), s = Math.max(h.ss(), h.ss() - n), r = Math.max(h.rs(), h.rs() - n), e = 0, u = 0, a = this.Xs.Is(t, i); u < a.length; u++) {\n      var o = a[u];\n\n      if (s <= o.Ps && o.Ps <= r) {\n        var l = this.si(o.Ps);\n\n        if (null !== l) {\n          if (e < this.sr.length) {\n            var c = this.sr[e];\n            c.Tn = this.G(o.Ps), c.Bn = this.Fr(l, o.Fs), c.Fs = o.Fs;\n          } else this.sr.push({\n            Tn: this.G(o.Ps),\n            Bn: this.Fr(l, o.Fs),\n            Fs: o.Fs\n          });\n\n          e++;\n        }\n      }\n    }\n\n    return this.sr.length = e, this.hr = this.sr, this.sr;\n  }, t.prototype.Ir = function () {\n    this.Gs = !0, this.vr(this.xi.barSpacing), this._r(this.xi.rightOffset);\n  }, t.prototype.Wr = function (t) {\n    this.Gs = !0, this.Ks = t, this.Tr(), this.cr();\n  }, t.prototype.Rr = function (t, i) {\n    var n = this.Ar(t),\n        h = this.zr(),\n        s = h + i * (h / 10);\n    this.vr(s), this.xi.rightBarStaysOnScroll || this._r(this.Pr() + (n - this.Ar(t)));\n  }, t.prototype.Rh = function (t) {\n    this.Xn && this.Yh(), null === this.$n && null === this.nr && (this.Qt() || (this.$n = t, this.jr()));\n  }, t.prototype.jh = function (t) {\n    if (null !== this.nr) {\n      var i = Q(this.Ys - t, 0, this.Ys),\n          n = Q(this.Ys - f(this.$n), 0, this.Ys);\n      0 !== i && 0 !== n && this.vr(this.nr.zr * i / n);\n    }\n  }, t.prototype.Uh = function () {\n    null !== this.$n && (this.$n = null, this.Ur());\n  }, t.prototype.qh = function (t) {\n    null === this.Xn && null === this.nr && (this.Qt() || (this.Xn = t, this.jr()));\n  }, t.prototype.Hh = function (t) {\n    if (null !== this.Xn) {\n      var i = (this.Xn - t) / this.zr();\n      this.rr = f(this.nr).Pr + i, this.Gs = !0, this.Tr();\n    }\n  }, t.prototype.Yh = function () {\n    null !== this.Xn && (this.Xn = null, this.Ur());\n  }, t.prototype.qr = function () {\n    this.Hr(this.xi.rightOffset);\n  }, t.prototype.Hr = function (t, i) {\n    var n = this;\n    if (void 0 === i && (i = 400), !isFinite(t)) throw new RangeError(\"offset is required and must be finite number\");\n    if (!isFinite(i) || i <= 0) throw new RangeError(\"animationDuration (optional) must be finite positive number\");\n\n    var h = this.rr,\n        s = Date.now(),\n        r = function r() {\n      var e = (Date.now() - s) / i,\n          u = e >= 1,\n          a = u ? t : h + (t - h) * e;\n      n._r(a), u || setTimeout(r, 20);\n    };\n\n    r();\n  }, t.prototype.V = function (t) {\n    this.Gs = !0, this.$s = t, this.Xs.Os(t), this.Tr();\n  }, t.prototype.Yr = function () {\n    return this.Qs;\n  }, t.prototype.Kr = function () {\n    return this.tr;\n  }, t.prototype.$r = function () {\n    return this.ir;\n  }, t.prototype.Br = function () {\n    return this.Ks || 0;\n  }, t.prototype.Xr = function (t) {\n    var i = t.Ls();\n    this.Cr(this.Ys / i), this.rr = t.rs() - this.Br(), this.Tr(), this.Gs = !0, this.hi.Vr(), this.hi.Or();\n  }, t.prototype.Zr = function () {\n    var t = this.pr(),\n        i = this.yr();\n    null !== t && null !== i && this.Xr(new Ct(t, i + this.xi.rightOffset));\n  }, t.prototype.Jr = function (t) {\n    var i = new Ct(t.from, t.to);\n    this.Xr(i);\n  }, t.prototype.ri = function (t) {\n    return void 0 !== this.Qn.timeFormatter ? this.Qn.timeFormatter(t.Ss || t.Cs) : this.Gr.Ki(new Date(1e3 * t.Cs));\n  }, t.prototype.pr = function () {\n    return 0 === this.$s.length ? null : 0;\n  }, t.prototype.yr = function () {\n    return 0 === this.$s.length ? null : this.$s.length - 1;\n  }, t.prototype.Qr = function (t) {\n    return (this.Ys + 1 - t) / this.er;\n  }, t.prototype.Ar = function (t) {\n    var i = this.Qr(t),\n        n = this.Br() + this.rr - i;\n    return Math.round(1e6 * n) / 1e6;\n  }, t.prototype.Cr = function (t) {\n    var i = this.er;\n    this.er = t, this.Dr(), i !== this.er && (this.Gs = !0, this.te());\n  }, t.prototype.Mr = function () {\n    if (this.Gs) if (this.Gs = !1, this.Qt()) this.ie(Et.Hs());else {\n      var t = this.Br(),\n          i = this.Ys / this.er,\n          n = this.rr + t,\n          h = new Ct(n - i + 1, n);\n      this.ie(new Et(h));\n    }\n  }, t.prototype.Dr = function () {\n    if (this.er < .5 && (this.er = .5, this.Gs = !0), 0 !== this.Ys) {\n      var t = .5 * this.Ys;\n      this.er > t && (this.er = t, this.Gs = !0);\n    }\n  }, t.prototype.Tr = function () {\n    var t = this.ne();\n    this.rr > t && (this.rr = t, this.Gs = !0);\n    var i = this.he();\n    null !== i && this.rr < i && (this.rr = i, this.Gs = !0);\n  }, t.prototype.he = function () {\n    var t = this.pr(),\n        i = this.Ks;\n    return null === t || null === i ? null : t - i - 1 + (this.xi.fixLeftEdge ? this.Ys / this.er : Math.min(2, this.$s.length));\n  }, t.prototype.ne = function () {\n    return this.Ys / this.er - Math.min(2, this.$s.length);\n  }, t.prototype.jr = function () {\n    this.nr = {\n      zr: this.zr(),\n      Pr: this.Pr()\n    };\n  }, t.prototype.Ur = function () {\n    this.nr = null;\n  }, t.prototype.Fr = function (t, i) {\n    var n = this,\n        h = this.Zs.get(i);\n    return void 0 === h && (h = new St(function (t) {\n      return n.se(t, i);\n    }), this.Zs.set(i, h)), h.Ki(t);\n  }, t.prototype.se = function (t, i) {\n    var n,\n        h,\n        s = this.xi.timeVisible;\n    return h = i < 20 && s ? this.xi.secondsVisible ? 4 : 3 : i < 40 && s ? 3 : i < 50 || i < 60 ? 2 : i < 70 ? 1 : 0, void 0 !== this.xi.tickMarkFormatter ? this.xi.tickMarkFormatter(null !== (n = t.Ss) && void 0 !== n ? n : t.Cs, h, this.Qn.locale) : function (t, i, n) {\n      var h = {};\n\n      switch (i) {\n        case 0:\n          h.year = \"numeric\";\n          break;\n\n        case 1:\n          h.month = \"short\";\n          break;\n\n        case 2:\n          h.day = \"numeric\";\n          break;\n\n        case 3:\n          h.hour12 = !1, h.hour = \"2-digit\", h.minute = \"2-digit\";\n          break;\n\n        case 4:\n          h.hour12 = !1, h.hour = \"2-digit\", h.minute = \"2-digit\", h.second = \"2-digit\";\n      }\n\n      var s = void 0 === t.Ss ? new Date(1e3 * t.Cs) : new Date(Date.UTC(t.Ss.year, t.Ss.month - 1, t.Ss.day));\n      return new Date(s.getUTCFullYear(), s.getUTCMonth(), s.getUTCDate(), s.getUTCHours(), s.getUTCMinutes(), s.getUTCSeconds(), s.getUTCMilliseconds()).toLocaleString(n, h);\n    }(t, h, this.Qn.locale);\n  }, t.prototype.ie = function (t) {\n    var i = this.Js;\n    this.Js = t, Dt(i.Us(), this.Js.Us()) || this.Qs.sn(), Dt(i.qs(), this.Js.qs()) || this.tr.sn(), this.te();\n  }, t.prototype.te = function () {\n    this.hr = null;\n  }, t.prototype.lr = function () {\n    this.te(), this.Zs.clear();\n  }, t.prototype.ur = function () {\n    var t = this.Qn.dateFormat;\n    this.xi.timeVisible ? this.Gr = new Nt({\n      fs: t,\n      cs: this.xi.secondsVisible ? \"%h:%m:%s\" : \"%h:%m\",\n      vs: \"   \",\n      _s: this.Qn.locale\n    }) : this.Gr = new yt(t, this.Qn.locale);\n  }, t.prototype.cr = function () {\n    if (this.xi.fixLeftEdge) {\n      var t = this.pr();\n\n      if (null !== t) {\n        var i = f(this.wr()).ss() - t;\n\n        if (i < 0) {\n          var n = this.rr - i - 1;\n\n          this._r(n);\n        }\n      }\n    }\n  }, t;\n}();\n\nfunction At(t) {\n  return !_(t) && !w(t);\n}\n\nfunction Vt(t) {\n  return _(t);\n}\n\nvar Ot = \"'Trebuchet MS', Roboto, Ubuntu, sans-serif\";\n\nfunction zt(t, i, n) {\n  return void 0 !== n ? n += \" \" : n = \"\", void 0 === i && (i = Ot), \"\" + n + t + \"px \" + i;\n}\n\nvar Pt = function () {\n  function t(t) {\n    this.re = {\n      Dt: 1,\n      Ct: 4,\n      zt: NaN,\n      xt: \"\",\n      ee: \"\",\n      et: \"\",\n      Bt: 0,\n      Et: 0,\n      Lt: 0,\n      Tt: 0,\n      Ot: 0\n    }, this.L = t;\n  }\n\n  return t.prototype.I = function () {\n    var t = this.re,\n        i = this.ue(),\n        n = this.ae();\n    return t.zt === i && t.ee === n || (t.zt = i, t.ee = n, t.xt = zt(i, n), t.Tt = Math.floor(i / 3.5), t.Bt = t.Tt, t.Et = Math.max(Math.ceil(i / 2 - t.Ct / 2), 0), t.Lt = Math.ceil(i / 2 + t.Ct / 2), t.Ot = Math.round(i / 10)), t.et = this.oe(), this.re;\n  }, t.prototype.oe = function () {\n    return this.L.I().layout.textColor;\n  }, t.prototype.ue = function () {\n    return this.L.I().layout.fontSize;\n  }, t.prototype.ae = function () {\n    return this.L.I().layout.fontFamily;\n  }, t;\n}();\n\nfunction Ft(t) {\n  return \"left\" === t || \"right\" === t;\n}\n\nvar It = function () {\n  function t(t) {\n    this.le = new Map(), this.fe = !1, this.ce = [], this.ve = t;\n  }\n\n  return t.prototype._e = function (t, i) {\n    var n = function (t, i) {\n      return void 0 === t ? i : {\n        de: Math.max(t.de, i.de),\n        _h: t._h || i._h\n      };\n    }(this.le.get(t), i);\n\n    this.le.set(t, n);\n  }, t.prototype.we = function () {\n    return this.ve;\n  }, t.prototype.Me = function (t) {\n    var i = this.le.get(t);\n    return void 0 === i ? {\n      de: this.ve\n    } : {\n      de: Math.max(this.ve, i.de),\n      _h: i._h\n    };\n  }, t.prototype.be = function () {\n    this.ce = [{\n      me: 0\n    }];\n  }, t.prototype.ge = function (t) {\n    this.ce = [{\n      me: 1,\n      J: t\n    }];\n  }, t.prototype.pe = function () {\n    this.ce = [{\n      me: 4\n    }];\n  }, t.prototype.vr = function (t) {\n    this.ce.push({\n      me: 2,\n      J: t\n    });\n  }, t.prototype._r = function (t) {\n    this.ce.push({\n      me: 3,\n      J: t\n    });\n  }, t.prototype.ye = function () {\n    return this.ce;\n  }, t.prototype._n = function (t) {\n    var i = this;\n    this.fe = this.fe || t.fe, this.ce = this.ce.concat(t.ce);\n\n    for (var n = 0, h = t.ce; n < h.length; n++) {\n      var s = h[n];\n      this.ke(s);\n    }\n\n    this.ve = Math.max(this.ve, t.ve), t.le.forEach(function (t, n) {\n      i._e(n, t);\n    });\n  }, t.prototype.ke = function (t) {\n    switch (t.me) {\n      case 0:\n        this.be();\n        break;\n\n      case 1:\n        this.ge(t.J);\n        break;\n\n      case 2:\n        this.vr(t.J);\n        break;\n\n      case 3:\n        this._r(t.J);\n\n        break;\n\n      case 4:\n        this.pe();\n    }\n  }, t;\n}(),\n    Wt = function () {\n  function t(t) {\n    this.xe = t;\n  }\n\n  return t.prototype.Ki = function (t) {\n    var i = \"\";\n    return t < 0 && (i = \"-\", t = -t), t < 995 ? i + this.Ne(t) : t < 999995 ? i + this.Ne(t / 1e3) + \"K\" : t < 999999995 ? (t = 1e3 * Math.round(t / 1e3), i + this.Ne(t / 1e6) + \"M\") : (t = 1e6 * Math.round(t / 1e6), i + this.Ne(t / 1e9) + \"B\");\n  }, t.prototype.Ne = function (t) {\n    var i = Math.pow(10, this.xe);\n    return ((t = Math.round(t * i) / i) >= 1e-15 && t < 1 ? t.toFixed(this.xe).replace(/\\.?0+$/, \"\") : String(t)).replace(/(\\.[1-9]*)0+$/, function (t, i) {\n      return i;\n    });\n  }, t;\n}();\n\nfunction Rt(t, i, n, h) {\n  if (0 !== i.length) {\n    var s = i[h.from].g,\n        r = i[h.from].p;\n    t.moveTo(s, r);\n\n    for (var e = h.from + 1; e < h.to; ++e) {\n      var u = i[e];\n\n      if (1 === n) {\n        var a = i[e - 1].p,\n            o = u.g;\n        t.lineTo(o, a);\n      }\n\n      t.lineTo(u.g, u.p);\n    }\n  }\n}\n\nvar jt = function (t) {\n  function i() {\n    var i = null !== t && t.apply(this, arguments) || this;\n    return i.v = null, i;\n  }\n\n  return e(i, t), i.prototype._ = function (t) {\n    this.v = t;\n  }, i.prototype.u = function (t) {\n    if (null !== this.v && 0 !== this.v.m.length && null !== this.v.M) {\n      if (t.lineCap = \"butt\", t.strokeStyle = this.v.S, t.lineWidth = this.v.rt, h(t, this.v.ut), t.lineWidth = 1, t.beginPath(), 1 === this.v.m.length) {\n        var i = this.v.m[0],\n            n = this.v.Se / 2;\n        t.moveTo(i.g - n, this.v.Ce), t.lineTo(i.g - n, i.p), t.lineTo(i.g + n, i.p), t.lineTo(i.g + n, this.v.Ce);\n      } else t.moveTo(this.v.m[this.v.M.from].g, this.v.Ce), t.lineTo(this.v.m[this.v.M.from].g, this.v.m[this.v.M.from].p), Rt(t, this.v.m, this.v.De, this.v.M), this.v.M.to > this.v.M.from && (t.lineTo(this.v.m[this.v.M.to - 1].g, this.v.Ce), t.lineTo(this.v.m[this.v.M.from].g, this.v.Ce));\n\n      t.closePath();\n      var s = t.createLinearGradient(0, 0, 0, this.v.Ce);\n      s.addColorStop(0, this.v.Te), s.addColorStop(1, this.v.Be), t.fillStyle = s, t.fill();\n    }\n  }, i;\n}(y),\n    Ut = function (t) {\n  function i() {\n    var i = null !== t && t.apply(this, arguments) || this;\n    return i.v = null, i;\n  }\n\n  return e(i, t), i.prototype._ = function (t) {\n    this.v = t;\n  }, i.prototype.u = function (t) {\n    if (null !== this.v && 0 !== this.v.m.length && null !== this.v.M) {\n      if (t.lineCap = \"butt\", t.lineWidth = this.v.rt, h(t, this.v.ut), t.strokeStyle = this.v.S, t.lineJoin = \"miter\", t.beginPath(), 1 === this.v.m.length) {\n        var i = this.v.m[0];\n        t.moveTo(i.g - this.v.Se / 2, i.p), t.lineTo(i.g + this.v.Se / 2, i.p);\n      } else Rt(t, this.v.m, this.v.De, this.v.M);\n\n      t.stroke();\n    }\n  }, i;\n}(y);\n\nfunction qt(t, i, n, h, s) {\n  void 0 === h && (h = 0), void 0 === s && (s = t.length);\n\n  for (var r = s - h; 0 < r;) {\n    var e = r >> 1,\n        u = h + e;\n    n(t[u], i) ? (h = u + 1, r -= e + 1) : r = e;\n  }\n\n  return h;\n}\n\nfunction Ht(t, i, n, h, s) {\n  void 0 === h && (h = 0), void 0 === s && (s = t.length);\n\n  for (var r = s - h; 0 < r;) {\n    var e = r >> 1,\n        u = h + e;\n    n(i, t[u]) ? r = e : (h = u + 1, r -= e + 1);\n  }\n\n  return h;\n}\n\nfunction Yt(t, i) {\n  return t.P < i;\n}\n\nfunction Kt(t, i) {\n  return t < i.P;\n}\n\nfunction $t(t, i, n) {\n  var h = i.ss(),\n      s = i.rs(),\n      r = qt(t, h, Yt),\n      e = Ht(t, s, Kt);\n  if (!n) return {\n    from: r,\n    to: e\n  };\n  var u = r,\n      a = e;\n  return r > 0 && r < t.length && t[r].P >= h && (u = r - 1), e > 0 && e < t.length && t[e - 1].P <= s && (a = e + 1), {\n    from: u,\n    to: a\n  };\n}\n\nvar Xt = function () {\n  function t(t, i, n) {\n    this.Ee = !0, this.Le = !0, this.Ae = [], this.Ve = null, this.Oe = t, this.ze = i, this.Pe = n;\n  }\n\n  return t.prototype.V = function (t) {\n    this.Ee = !0, \"data\" === t && (this.Le = !0);\n  }, t.prototype.Fe = function () {\n    this.Le && (this.Ie(), this.Le = !1), this.Ee && (this.We(), this.Ee = !1);\n  }, t.prototype.Re = function () {\n    this.Ve = null;\n  }, t.prototype.We = function () {\n    var t = this.Oe.Z(),\n        i = this.ze.U();\n\n    if (this.Re(), !i.Qt() && !t.Qt()) {\n      var n = i.wr();\n\n      if (null !== n && 0 !== this.Oe.qi().je()) {\n        var h = this.Oe.Y();\n        null !== h && (this.Ve = $t(this.Ae, n, this.Pe), this.Ue(t, i, h.J));\n      }\n    }\n  }, t;\n}(),\n    Zt = function (t) {\n  function i(i, n) {\n    return t.call(this, i, n, !0) || this;\n  }\n\n  return e(i, t), i.prototype.Ue = function (t, i, n) {\n    i.Er(this.Ae, g(this.Ve)), t.Sh(this.Ae, n, g(this.Ve));\n  }, i.prototype.qe = function (t, i) {\n    return {\n      P: t,\n      F: i,\n      g: NaN,\n      p: NaN\n    };\n  }, i.prototype.Ie = function () {\n    var t = this,\n        i = this.Oe.He();\n    this.Ae = this.Oe.qi().Ye().map(function (n) {\n      var h = n.J[3];\n      return t.Ke(n.Ps, h, i);\n    });\n  }, i;\n}(Xt),\n    Jt = function (t) {\n  function i(i, n) {\n    var h = t.call(this, i, n) || this;\n    return h.ot = new p(), h.$e = new jt(), h.Xe = new Ut(), h.ot.i([h.$e, h.Xe]), h;\n  }\n\n  return e(i, t), i.prototype.W = function (t, i) {\n    if (!this.Oe.H()) return null;\n    var n = this.Oe.I();\n    this.Fe();\n    var h = {\n      De: n.lineType,\n      m: this.Ae,\n      S: n.lineColor,\n      ut: n.lineStyle,\n      rt: n.lineWidth,\n      Te: n.topColor,\n      Be: n.bottomColor,\n      Ce: t,\n      M: this.Ve,\n      Se: this.ze.U().zr()\n    };\n    return this.$e._(h), this.Xe._(h), this.ot;\n  }, i.prototype.Ke = function (t, i) {\n    return this.qe(t, i);\n  }, i;\n}(Zt);\n\nvar Gt = function () {\n  function t() {\n    this.tt = null, this.Ze = 0, this.Je = 0;\n  }\n\n  return t.prototype._ = function (t) {\n    this.tt = t;\n  }, t.prototype.h = function (t, i, n, h) {\n    if (null !== this.tt && 0 !== this.tt.qi.length && null !== this.tt.M) {\n      if (this.Ze = this.Ge(i), this.Ze >= 2) Math.max(1, Math.floor(i)) % 2 != this.Ze % 2 && this.Ze--;\n      this.Je = this.tt.Qe ? Math.min(this.Ze, Math.floor(i)) : this.Ze;\n\n      for (var s = null, r = this.Je <= this.Ze && this.tt.zr >= Math.floor(1.5 * i), e = this.tt.M.from; e < this.tt.M.to; ++e) {\n        var u = this.tt.qi[e];\n        s !== u.et && (t.fillStyle = u.et, s = u.et);\n\n        var a = Math.floor(.5 * this.Je),\n            o = Math.round(u.g * i),\n            l = o - a,\n            f = this.Je,\n            c = l + f - 1,\n            v = Math.min(u.Bh, u.Eh),\n            _ = Math.max(u.Bh, u.Eh),\n            d = Math.round(v * i) - a,\n            w = Math.round(_ * i) + a,\n            M = Math.max(w - d, this.Je);\n\n        t.fillRect(l, d, f, M);\n        var b = Math.ceil(1.5 * this.Ze);\n\n        if (r) {\n          if (this.tt.tu) {\n            var m = o - b,\n                g = Math.max(d, Math.round(u.Th * i) - a),\n                p = g + f - 1;\n            p > d + M - 1 && (g = (p = d + M - 1) - f + 1), t.fillRect(m, g, l - m, p - g + 1);\n          }\n\n          var y = o + b,\n              k = Math.max(d, Math.round(u.Lh * i) - a),\n              x = k + f - 1;\n          x > d + M - 1 && (k = (x = d + M - 1) - f + 1), t.fillRect(c + 1, k, y - c, x - k + 1);\n        }\n      }\n    }\n  }, t.prototype.Ge = function (t) {\n    var i = Math.floor(t);\n    return Math.max(i, Math.floor(function (t, i) {\n      return Math.floor(.3 * t * i);\n    }(f(this.tt).zr, t)));\n  }, t;\n}(),\n    Qt = function (t) {\n  function i(i, n) {\n    return t.call(this, i, n, !1) || this;\n  }\n\n  return e(i, t), i.prototype.Ue = function (t, i, n) {\n    i.Er(this.Ae, g(this.Ve)), t.Dh(this.Ae, n, g(this.Ve));\n  }, i.prototype.iu = function (t, i, n) {\n    return {\n      P: t,\n      open: i.J[0],\n      high: i.J[1],\n      low: i.J[2],\n      close: i.J[3],\n      g: NaN,\n      Th: NaN,\n      Bh: NaN,\n      Eh: NaN,\n      Lh: NaN\n    };\n  }, i.prototype.Ie = function () {\n    var t = this,\n        i = this.Oe.He();\n    this.Ae = this.Oe.qi().Ye().map(function (n) {\n      return t.Ke(n.Ps, n, i);\n    });\n  }, i;\n}(Xt),\n    ti = function (t) {\n  function i() {\n    var i = null !== t && t.apply(this, arguments) || this;\n    return i.ot = new Gt(), i;\n  }\n\n  return e(i, t), i.prototype.W = function (t, i) {\n    if (!this.Oe.H()) return null;\n    var n = this.Oe.I();\n    this.Fe();\n    var h = {\n      qi: this.Ae,\n      zr: this.ze.U().zr(),\n      tu: n.openVisible,\n      Qe: n.thinBars,\n      M: this.Ve\n    };\n    return this.ot._(h), this.ot;\n  }, i.prototype.Ke = function (t, i, n) {\n    return _u(_u({}, this.iu(t, i, n)), {\n      et: n.hu(t).nu\n    });\n  }, i;\n}(Qt),\n    ii = function () {\n  function t() {\n    this.tt = null, this.Ze = 0;\n  }\n\n  return t.prototype._ = function (t) {\n    this.tt = t;\n  }, t.prototype.h = function (t, i, n, h) {\n    if (null !== this.tt && 0 !== this.tt.qi.length && null !== this.tt.M) {\n      if (this.Ze = function (t, i) {\n        if (t >= 2.5 && t <= 4) return Math.floor(3 * i);\n        var n = 1 - .2 * Math.atan(Math.max(4, t) - 4) / (.5 * Math.PI),\n            h = Math.floor(t * n * i),\n            s = Math.floor(t * i),\n            r = Math.min(h, s);\n        return Math.max(Math.floor(i), r);\n      }(this.tt.zr, i), this.Ze >= 2) Math.floor(i) % 2 != this.Ze % 2 && this.Ze--;\n      var s = this.tt.qi;\n      this.tt.su && this.ru(t, s, this.tt.M, i), this.tt.eu && this.uu(t, s, this.tt.M, this.tt.zr, i);\n      var r = this.au(i);\n      (!this.tt.eu || this.Ze > 2 * r) && this.ou(t, s, this.tt.M, i);\n    }\n  }, t.prototype.ru = function (t, i, n, h) {\n    if (null !== this.tt) {\n      var s = \"\",\n          r = Math.min(Math.floor(h), Math.floor(this.tt.zr * h));\n      r = Math.max(Math.floor(h), Math.min(r, this.Ze));\n\n      for (var e = Math.floor(.5 * r), u = null, a = n.from; a < n.to; a++) {\n        var o = i[a];\n        o.lu !== s && (t.fillStyle = o.lu, s = o.lu);\n\n        var l = Math.round(Math.min(o.Th, o.Lh) * h),\n            f = Math.round(Math.max(o.Th, o.Lh) * h),\n            c = Math.round(o.Bh * h),\n            v = Math.round(o.Eh * h),\n            _ = Math.round(h * o.g) - e,\n            d = _ + r - 1;\n\n        null !== u && (_ = Math.max(u + 1, _), _ = Math.min(_, d));\n        var w = d - _ + 1;\n        t.fillRect(_, c, w, l - c), t.fillRect(_, f + 1, w, v - f), u = d;\n      }\n    }\n  }, t.prototype.au = function (t) {\n    var i = Math.floor(1 * t);\n    this.Ze <= 2 * i && (i = Math.floor(.5 * (this.Ze - 1)));\n    var n = Math.max(Math.floor(t), i);\n    return this.Ze <= 2 * n ? Math.max(Math.floor(t), Math.floor(1 * t)) : n;\n  }, t.prototype.uu = function (t, i, n, h, s) {\n    if (null !== this.tt) for (var r = \"\", e = this.au(s), u = null, a = n.from; a < n.to; a++) {\n      var o = i[a];\n      o.$ !== r && (t.fillStyle = o.$, r = o.$);\n      var l = Math.round(o.g * s) - Math.floor(.5 * this.Ze),\n          f = l + this.Ze - 1,\n          c = Math.round(Math.min(o.Th, o.Lh) * s),\n          v = Math.round(Math.max(o.Th, o.Lh) * s);\n      if (null !== u && (l = Math.max(u + 1, l), l = Math.min(l, f)), this.tt.zr * s > 2 * e) O(t, l, c, f - l + 1, v - c + 1, e);else {\n        var _ = f - l + 1;\n\n        t.fillRect(l, c, _, v - c + 1);\n      }\n      u = f;\n    }\n  }, t.prototype.ou = function (t, i, n, h) {\n    if (null !== this.tt) for (var s = \"\", r = this.au(h), e = n.from; e < n.to; e++) {\n      var u = i[e],\n          a = Math.round(Math.min(u.Th, u.Lh) * h),\n          o = Math.round(Math.max(u.Th, u.Lh) * h),\n          l = Math.round(u.g * h) - Math.floor(.5 * this.Ze),\n          f = l + this.Ze - 1;\n\n      if (u.et !== s) {\n        var c = u.et;\n        t.fillStyle = c, s = c;\n      }\n\n      this.tt.eu && (l += r, a += r, f -= r, o -= r), a > o || t.fillRect(l, a, f - l + 1, o - a + 1);\n    }\n  }, t;\n}(),\n    ni = function (t) {\n  function i() {\n    var i = null !== t && t.apply(this, arguments) || this;\n    return i.ot = new ii(), i;\n  }\n\n  return e(i, t), i.prototype.W = function (t, i) {\n    if (!this.Oe.H()) return null;\n    var n = this.Oe.I();\n    this.Fe();\n    var h = {\n      qi: this.Ae,\n      zr: this.ze.U().zr(),\n      su: n.wickVisible,\n      eu: n.borderVisible,\n      M: this.Ve\n    };\n    return this.ot._(h), this.ot;\n  }, i.prototype.Ke = function (t, i, n) {\n    var h = n.hu(t);\n    return _u(_u({}, this.iu(t, i, n)), {\n      et: h.nu,\n      lu: h.fu,\n      $: h.cu\n    });\n  }, i;\n}(Qt),\n    hi = function () {\n  function t() {\n    this.tt = null, this.vu = [];\n  }\n\n  return t.prototype._ = function (t) {\n    this.tt = t, this.vu = [];\n  }, t.prototype.h = function (t, i, n, h) {\n    if (null !== this.tt && 0 !== this.tt.m.length && null !== this.tt.M) {\n      this.vu.length || this._u(i);\n\n      for (var s = Math.max(1, Math.floor(i)), r = Math.round(this.tt.du * i) - Math.floor(s / 2), e = r + s, u = this.tt.M.from; u < this.tt.M.to; u++) {\n        var a = this.tt.m[u],\n            o = this.vu[u - this.tt.M.from],\n            l = Math.round(a.p * i);\n        t.fillStyle = a.et;\n        var f = void 0,\n            c = void 0;\n        l <= r ? (f = l, c = e) : (f = r, c = l - Math.floor(s / 2) + s), t.fillRect(o.ss, f, o.rs - o.ss + 1, c - f);\n      }\n    }\n  }, t.prototype._u = function (t) {\n    if (null !== this.tt && 0 !== this.tt.m.length && null !== this.tt.M) {\n      var i = Math.ceil(this.tt.zr * t) <= 1 ? 0 : Math.max(1, Math.floor(t)),\n          n = Math.round(this.tt.zr * t) - i;\n      this.vu = new Array(this.tt.M.to - this.tt.M.from);\n\n      for (var h = this.tt.M.from; h < this.tt.M.to; h++) {\n        var s,\n            r = this.tt.m[h],\n            e = Math.round(r.g * t),\n            u = void 0,\n            a = void 0;\n        if (n % 2) u = e - (s = (n - 1) / 2), a = e + s;else u = e - (s = n / 2), a = e + s - 1;\n        this.vu[h - this.tt.M.from] = {\n          ss: u,\n          rs: a,\n          wu: e,\n          Mu: r.g * t,\n          P: r.P\n        };\n      }\n\n      for (h = this.tt.M.from + 1; h < this.tt.M.to; h++) {\n        var o = this.vu[h - this.tt.M.from],\n            l = this.vu[h - this.tt.M.from - 1];\n        o.P === l.P + 1 && o.ss - l.rs !== i + 1 && (l.wu > l.Mu ? l.rs = o.ss - i - 1 : o.ss = l.rs + i + 1);\n      }\n\n      var f = Math.ceil(this.tt.zr * t);\n\n      for (h = this.tt.M.from; h < this.tt.M.to; h++) {\n        (o = this.vu[h - this.tt.M.from]).rs < o.ss && (o.rs = o.ss);\n        var c = o.rs - o.ss + 1;\n        f = Math.min(c, f);\n      }\n\n      if (i > 0 && f < 4) for (h = this.tt.M.from; h < this.tt.M.to; h++) {\n        (c = (o = this.vu[h - this.tt.M.from]).rs - o.ss + 1) > f && (o.wu > o.Mu ? o.rs -= 1 : o.ss += 1);\n      }\n    } else this.vu = [];\n  }, t;\n}();\n\nfunction si(t) {\n  return {\n    m: [],\n    zr: t,\n    du: NaN,\n    M: null\n  };\n}\n\nfunction ri(t, i, n) {\n  return {\n    P: t,\n    F: i,\n    g: NaN,\n    p: NaN,\n    et: n\n  };\n}\n\nvar ei = function (t) {\n  function i(i, n) {\n    var h = t.call(this, i, n, !1) || this;\n    return h.C = new p(), h.bu = si(0), h.ot = new hi(), h;\n  }\n\n  return e(i, t), i.prototype.W = function (t, i) {\n    return this.Oe.H() ? (this.Fe(), this.C) : null;\n  }, i.prototype.Ie = function () {\n    var t = this.ze.U().zr();\n    this.bu = si(t);\n\n    for (var i = 0, n = 0, h = this.Oe.I().color, s = 0, r = this.Oe.qi().Ye(); s < r.length; s++) {\n      var e = r[s],\n          u = e.J[3],\n          a = void 0 !== e.et ? e.et : h,\n          o = ri(e.Ps, u, a);\n      ++i < this.bu.m.length ? this.bu.m[i] = o : this.bu.m.push(o), this.Ae[n++] = {\n        P: e.Ps,\n        g: 0\n      };\n    }\n\n    this.ot._(this.bu), this.C.i([this.ot]);\n  }, i.prototype.Re = function () {\n    t.prototype.Re.call(this), this.bu.M = null;\n  }, i.prototype.Ue = function (t, i, n) {\n    if (null !== this.Ve) {\n      var h = i.zr(),\n          s = f(i.wr()),\n          r = t.X(this.Oe.I().base, n);\n      i.Er(this.bu.m), t.Sh(this.bu.m, n), this.bu.du = r, this.bu.M = $t(this.bu.m, s, !1), this.bu.zr = h, this.ot._(this.bu);\n    }\n  }, i;\n}(Xt),\n    ui = function (t) {\n  function i(i, n) {\n    var h = t.call(this, i, n) || this;\n    return h.Xe = new Ut(), h;\n  }\n\n  return e(i, t), i.prototype.W = function (t, i) {\n    if (!this.Oe.H()) return null;\n    var n = this.Oe.I();\n    this.Fe();\n    var h = {\n      m: this.Ae,\n      S: n.color,\n      ut: n.lineStyle,\n      De: n.lineType,\n      rt: n.lineWidth,\n      M: this.Ve,\n      Se: this.ze.U().zr()\n    };\n    return this.Xe._(h), this.Xe;\n  }, i.prototype.Ke = function (t, i) {\n    return this.qe(t, i);\n  }, i;\n}(Zt),\n    ai = /[2-9]/g,\n    oi = function () {\n  function t(t) {\n    void 0 === t && (t = 50), this.ys = new Map(), this.mu = 0, this.gu = Array.from(new Array(t));\n  }\n\n  return t.prototype.pu = function () {\n    this.ys.clear(), this.gu.fill(void 0);\n  }, t.prototype.Vt = function (t, i, n) {\n    var h = n || ai,\n        s = String(i).replace(h, \"0\"),\n        r = this.ys.get(s);\n\n    if (void 0 === r) {\n      if (0 === (r = t.measureText(s).width) && 0 !== i.length) return 0;\n      var e = this.gu[this.mu];\n      void 0 !== e && this.ys.delete(e), this.gu[this.mu] = s, this.mu = (this.mu + 1) % this.gu.length, this.ys.set(s, r);\n    }\n\n    return r;\n  }, t;\n}(),\n    li = function () {\n  function t(t) {\n    this.yu = null, this.re = null, this.ku = \"right\", this.Ys = 0, this.xu = t;\n  }\n\n  return t.prototype.Nu = function (t, i, n, h) {\n    this.yu = t, this.re = i, this.Ys = n, this.ku = h;\n  }, t.prototype.h = function (t, i) {\n    null !== this.re && null !== this.yu && this.yu.h(t, this.re, this.xu, this.Ys, this.ku, i);\n  }, t;\n}(),\n    fi = function () {\n  function t(t, i, n) {\n    this.Su = t, this.xu = new oi(50), this.Cu = i, this.L = n, this.ue = -1, this.ot = new li(this.xu);\n  }\n\n  return t.prototype.W = function (t, i) {\n    var n = this.L.Du(this.Cu);\n    if (null === n) return null;\n    var h = n.Tu(this.Cu) ? n.Ci() : this.Cu.Z();\n    if (null === h) return null;\n    var s = n.Bu(h);\n    if (\"overlay\" === s) return null;\n    var r = this.L.Eu();\n    return r.zt !== this.ue && (this.ue = r.zt, this.xu.pu()), this.ot.Nu(this.Su.Xt(), r, i, s), this.ot;\n  }, t;\n}(),\n    ci = function () {\n  function t() {\n    this.tt = null;\n  }\n\n  return t.prototype._ = function (t) {\n    this.tt = t;\n  }, t.prototype.h = function (t, i, n, r) {\n    if (null !== this.tt && !1 !== this.tt.H) {\n      var e = Math.round(this.tt.p * i);\n\n      if (!(e < 0 || e > Math.ceil(this.tt.wt * i))) {\n        var u = Math.ceil(this.tt.dt * i);\n        t.lineCap = \"butt\", t.strokeStyle = this.tt.et, t.lineWidth = Math.floor(this.tt.rt * i), h(t, this.tt.ut), s(t, e, 0, u);\n      }\n    }\n  }, t;\n}(),\n    vi = function () {\n  function t(t) {\n    this.Lu = {\n      dt: 0,\n      wt: 0,\n      p: 0,\n      et: \"rgba(0, 0, 0, 0)\",\n      rt: 1,\n      ut: 0,\n      H: !1\n    }, this.Au = new ci(), this.B = !0, this.Oe = t, this.ze = t.ct(), this.Au._(this.Lu);\n  }\n\n  return t.prototype.V = function () {\n    this.B = !0;\n  }, t.prototype.W = function (t, i) {\n    return this.Oe.H() ? (this.B && (this.Vu(t, i), this.B = !1), this.Au) : null;\n  }, t;\n}(),\n    _i = function (t) {\n  function i(i) {\n    return t.call(this, i) || this;\n  }\n\n  return e(i, t), i.prototype.Vu = function (t, i) {\n    this.Lu.H = !1;\n    var n = this.Oe.Z(),\n        h = n.uh().uh;\n\n    if (2 === h || 3 === h) {\n      var s = this.Oe.I();\n\n      if (s.baseLineVisible && this.Oe.H()) {\n        var r = this.Oe.Y();\n        null !== r && (this.Lu.H = !0, this.Lu.p = n.X(r.J, r.J), this.Lu.dt = i, this.Lu.wt = t, this.Lu.et = s.baseLineColor, this.Lu.rt = s.baseLineWidth, this.Lu.ut = s.baseLineStyle);\n      }\n    }\n  }, i;\n}(vi);\n\nfunction di(t, i) {\n  return ht(Math.min(Math.max(t, 12), 30) * i);\n}\n\nfunction wi(t, i) {\n  switch (t) {\n    case \"arrowDown\":\n    case \"arrowUp\":\n      return di(i, 1);\n\n    case \"circle\":\n      return di(i, .8);\n\n    case \"square\":\n      return di(i, .7);\n  }\n}\n\nfunction Mi(t) {\n  return nt(di(t, 1));\n}\n\nfunction bi(t) {\n  return Math.max(di(t, .1), 3);\n}\n\nfunction mi(t, i, n, h, s) {\n  var r = wi(\"square\", n),\n      e = (r - 1) / 2,\n      u = t - e,\n      a = i - e;\n  return h >= u && h <= u + r && s >= a && s <= a + r;\n}\n\nfunction gi(t, i, n, h, s) {\n  var r = (wi(\"arrowUp\", s) - 1) / 2,\n      e = (ht(s / 2) - 1) / 2;\n  i.beginPath(), t ? (i.moveTo(n - r, h), i.lineTo(n, h - r), i.lineTo(n + r, h), i.lineTo(n + e, h), i.lineTo(n + e, h + r), i.lineTo(n - e, h + r), i.lineTo(n - e, h)) : (i.moveTo(n - r, h), i.lineTo(n, h + r), i.lineTo(n + r, h), i.lineTo(n + e, h), i.lineTo(n + e, h - r), i.lineTo(n - e, h - r), i.lineTo(n - e, h)), i.fill();\n}\n\nfunction pi(t, i, n, h, s, r) {\n  return mi(i, n, h, s, r);\n}\n\nvar yi = function (t) {\n  function i() {\n    var i = null !== t && t.apply(this, arguments) || this;\n    return i.tt = null, i.xu = new oi(), i.ue = -1, i.ae = \"\", i.Ou = \"\", i;\n  }\n\n  return e(i, t), i.prototype._ = function (t) {\n    this.tt = t;\n  }, i.prototype.Nu = function (t, i) {\n    this.ue === t && this.ae === i || (this.ue = t, this.ae = i, this.Ou = zt(t, i), this.xu.pu());\n  }, i.prototype.zu = function (t, i) {\n    if (null === this.tt || null === this.tt.M) return null;\n\n    for (var n = this.tt.M.from; n < this.tt.M.to; n++) {\n      var h = this.tt.m[n];\n      if (xi(h, t, i)) return {\n        Pu: h.Fu,\n        Iu: h.Iu\n      };\n    }\n\n    return null;\n  }, i.prototype.u = function (t, i, n) {\n    if (null !== this.tt && null !== this.tt.M) {\n      t.textBaseline = \"middle\", t.font = this.Ou;\n\n      for (var h = this.tt.M.from; h < this.tt.M.to; h++) {\n        var s = this.tt.m[h];\n        void 0 !== s.At && (s.At.dt = this.xu.Vt(t, s.At.Wu), s.At.wt = this.ue), ki(s, t);\n      }\n    }\n  }, i;\n}(y);\n\nfunction ki(t, i) {\n  i.fillStyle = t.et, void 0 !== t.At && function (t, i, n, h) {\n    t.fillText(i, n, h);\n  }(i, t.At.Wu, t.g - t.At.dt / 2, t.At.p), function (t, i) {\n    if (0 === t.je) return;\n\n    switch (t.Ru) {\n      case \"arrowDown\":\n        return void gi(!1, i, t.g, t.p, t.je);\n\n      case \"arrowUp\":\n        return void gi(!0, i, t.g, t.p, t.je);\n\n      case \"circle\":\n        return void function (t, i, n, h) {\n          var s = (wi(\"circle\", h) - 1) / 2;\n          t.beginPath(), t.arc(i, n, s, 0, 2 * Math.PI, !1), t.fill();\n        }(i, t.g, t.p, t.je);\n\n      case \"square\":\n        return void function (t, i, n, h) {\n          var s = wi(\"square\", h),\n              r = (s - 1) / 2,\n              e = i - r,\n              u = n - r;\n          t.fillRect(e, u, s, s);\n        }(i, t.g, t.p, t.je);\n    }\n\n    t.Ru;\n  }(t, i);\n}\n\nfunction xi(t, i, n) {\n  return !(void 0 === t.At || !function (t, i, n, h, s, r) {\n    var e = h / 2;\n    return s >= t && s <= t + n && r >= i - e && r <= i + e;\n  }(t.g, t.At.p, t.At.dt, t.At.wt, i, n)) || function (t, i, n) {\n    if (0 === t.je) return !1;\n\n    switch (t.Ru) {\n      case \"arrowDown\":\n      case \"arrowUp\":\n        return pi(0, t.g, t.p, t.je, i, n);\n\n      case \"circle\":\n        return function (t, i, n, h, s) {\n          var r = 2 + wi(\"circle\", n) / 2,\n              e = t - h,\n              u = i - s;\n          return Math.sqrt(e * e + u * u) <= r;\n        }(t.g, t.p, t.je, i, n);\n\n      case \"square\":\n        return mi(t.g, t.p, t.je, i, n);\n    }\n\n    t.Ru;\n  }(t, i, n);\n}\n\nfunction Ni(t, i, n, h, s, r, e, u, a) {\n  var o = _(n) ? n : n.close,\n      l = _(n) ? n : n.high,\n      f = _(n) ? n : n.low,\n      c = _(i.size) ? Math.max(i.size, 0) : 1,\n      v = Mi(u.zr()) * c,\n      d = v / 2;\n\n  switch (t.je = v, i.position) {\n    case \"inBar\":\n      return t.p = e.X(o, a), void (void 0 !== t.At && (t.At.p = t.p + d + r + .6 * s));\n\n    case \"aboveBar\":\n      return t.p = e.X(l, a) - d - h.ju, void 0 !== t.At && (t.At.p = t.p - d - .6 * s, h.ju += 1.2 * s), void (h.ju += v + r);\n\n    case \"belowBar\":\n      return t.p = e.X(f, a) + d + h.Uu, void 0 !== t.At && (t.At.p = t.p + d + r + .6 * s, h.Uu += 1.2 * s), void (h.Uu += v + r);\n  }\n\n  i.position;\n}\n\nvar Si = function () {\n  function t(t, i) {\n    this.B = !0, this.qu = !0, this.Hu = !0, this.Yu = null, this.ot = new yi(), this.Ku = t, this.hi = i, this.tt = {\n      m: [],\n      M: null\n    };\n  }\n\n  return t.prototype.V = function (t) {\n    this.B = !0, this.Hu = !0, \"data\" === t && (this.qu = !0);\n  }, t.prototype.W = function (t, i, n) {\n    if (!this.Ku.H()) return null;\n    this.B && this.Fe();\n    var h = this.hi.I().layout;\n    return this.ot.Nu(h.fontSize, h.fontFamily), this.ot._(this.tt), this.ot;\n  }, t.prototype.$u = function () {\n    if (this.Hu) {\n      if (this.Ku.Xu().length > 0) {\n        var t = this.hi.U().zr(),\n            i = bi(t),\n            n = 1.5 * Mi(t) + 2 * i;\n        this.Yu = {\n          above: n,\n          below: n\n        };\n      } else this.Yu = null;\n\n      this.Hu = !1;\n    }\n\n    return this.Yu;\n  }, t.prototype.Fe = function () {\n    var t = this.Ku.Z(),\n        i = this.hi.U(),\n        n = this.Ku.Xu();\n    this.qu && (this.tt.m = n.map(function (t) {\n      return {\n        P: t.time,\n        g: 0,\n        p: 0,\n        je: 0,\n        Ru: t.shape,\n        et: t.color,\n        Fu: t.Fu,\n        Iu: t.id,\n        At: void 0\n      };\n    }), this.qu = !1);\n    var h = this.hi.I().layout;\n    this.tt.M = null;\n    var s = i.wr();\n\n    if (null !== s) {\n      var r = this.Ku.Y();\n\n      if (null !== r && 0 !== this.tt.m.length) {\n        var e = NaN,\n            u = bi(i.zr()),\n            a = {\n          ju: u,\n          Uu: u\n        };\n        this.tt.M = $t(this.tt.m, s, !0);\n\n        for (var o = this.tt.M.from; o < this.tt.M.to; o++) {\n          var l = n[o];\n          l.time !== e && (a.ju = u, a.Uu = u, e = l.time);\n          var f = this.tt.m[o];\n          f.g = i.G(l.time), void 0 !== l.text && l.text.length > 0 && (f.At = {\n            Wu: l.text,\n            p: 0,\n            dt: 0,\n            wt: 0\n          });\n          var c = this.Ku.Zu(l.time);\n          null !== c && Ni(f, l, c, a, h.fontSize, u, t, i, r.J);\n        }\n\n        this.B = !1;\n      }\n    }\n  }, t;\n}(),\n    Ci = function (t) {\n  function i(i) {\n    return t.call(this, i) || this;\n  }\n\n  return e(i, t), i.prototype.Vu = function (t, i) {\n    var n = this.Lu;\n    n.H = !1;\n    var h = this.Oe.I();\n\n    if (h.priceLineVisible && this.Oe.H()) {\n      var s = this.Oe.Ju(0 === h.priceLineSource);\n      s.Gu || (n.H = !0, n.p = s.Pt, n.et = this.Oe.Qu(s.et), n.dt = i, n.wt = t, n.rt = h.priceLineWidth, n.ut = h.priceLineStyle);\n    }\n  }, i;\n}(vi),\n    Di = function (t) {\n  function i(i) {\n    var n = t.call(this) || this;\n    return n.lt = i, n;\n  }\n\n  return e(i, t), i.prototype.Zt = function (t, i, n) {\n    if (t.H = !1, i.H = !1, this.lt.H()) {\n      var h = this.lt.I(),\n          s = h.lastValueVisible,\n          r = \"\" !== this.lt.ta(),\n          e = 0 === h.seriesLastValueMode,\n          u = this.lt.Ju(!1);\n\n      if (!u.Gu) {\n        s && (t.At = this.ia(u, s, e), t.H = 0 !== t.At.length), (r || e) && (i.At = this.na(u, s, r, e), i.H = i.At.length > 0);\n        var a = this.lt.Qu(u.et),\n            o = V(a);\n        n.gt = o.gt, n.et = o.yt, n.Pt = u.Pt, i.$ = this.lt.ct().I().layout.backgroundColor, t.$ = a;\n      }\n    }\n  }, i.prototype.na = function (t, i, n, h) {\n    var s = \"\",\n        r = this.lt.ta();\n    return n && 0 !== r.length && (s += r + \" \"), i && h && (s += this.lt.Z().lh() ? t.ha : t.sa), s.trim();\n  }, i.prototype.ia = function (t, i, n) {\n    return i ? n ? this.lt.Z().lh() ? t.sa : t.ha : t.At : \"\";\n  }, i;\n}(W),\n    Ti = function () {\n  function t(t, i) {\n    this.zn = t, this.ra = i || null;\n  }\n\n  return t.prototype.kh = function () {\n    return this.zn;\n  }, t.prototype.es = function () {\n    return this.ra;\n  }, t.prototype.Mn = function () {\n    return null === this.zn ? null : {\n      priceRange: this.zn.Mn(),\n      margins: this.ra || void 0\n    };\n  }, t.bn = function (i) {\n    return null === i ? null : new t(G.bn(i.priceRange), i.margins);\n  }, t;\n}(),\n    Bi = function (t) {\n  function i(i, n) {\n    var h = t.call(this, i) || this;\n    return h.ea = n, h;\n  }\n\n  return e(i, t), i.prototype.Vu = function (t, i) {\n    var n = this.Lu;\n\n    if (n.H = !1, this.Oe.H()) {\n      var h = this.ea.ua();\n\n      if (null !== h) {\n        var s = this.ea.I();\n        n.H = !0, n.p = h, n.et = s.color, n.dt = i, n.wt = t, n.rt = s.lineWidth, n.ut = s.lineStyle;\n      }\n    }\n  }, i;\n}(vi),\n    Ei = function (t) {\n  function i(i, n) {\n    var h = t.call(this) || this;\n    return h.Ku = i, h.ea = n, h;\n  }\n\n  return e(i, t), i.prototype.Zt = function (t, i, n) {\n    t.H = !1, i.H = !1;\n    var h = this.ea.I(),\n        s = h.axisLabelVisible,\n        r = \"\" !== h.title;\n\n    if (s && this.Ku.H()) {\n      var e = this.ea.ua();\n\n      if (null !== e) {\n        r && (i.At = h.title, i.H = !0), i.$ = this.Ku.ct().I().layout.backgroundColor, t.At = this.Ku.Z().Xh(h.price), t.H = !0;\n        var u = V(h.color);\n        n.gt = u.gt, n.et = u.yt, n.Pt = e;\n      }\n    }\n  }, i;\n}(W),\n    Li = function () {\n  function t(t, i) {\n    this.Ku = t, this.xi = i, this.aa = new Bi(t, this), this.Su = new Ei(t, this), this.oa = new fi(this.Su, t, t.ct());\n  }\n\n  return t.prototype.sh = function (t) {\n    v(this.xi, t), this.V(), this.Ku.ct().Or();\n  }, t.prototype.I = function () {\n    return this.xi;\n  }, t.prototype.ci = function () {\n    return [this.aa, this.oa];\n  }, t.prototype.la = function () {\n    return this.Su;\n  }, t.prototype.V = function () {\n    this.aa.V(), this.Su.V();\n  }, t.prototype.ua = function () {\n    var t = this.Ku,\n        i = t.Z();\n    if (t.ct().U().Qt() || i.Qt()) return null;\n    var n = t.Y();\n    return null === n ? null : i.X(this.xi.price, n.J);\n  }, t;\n}(),\n    Ai = function (t) {\n  function i(i) {\n    var n = t.call(this) || this;\n    return n.hi = i, n;\n  }\n\n  return e(i, t), i.prototype.ct = function () {\n    return this.hi;\n  }, i;\n}(H),\n    Vi = {\n  nu: \"\",\n  cu: \"\",\n  fu: \"\"\n},\n    Oi = function () {\n  function t(t) {\n    this.Ku = t;\n  }\n\n  return t.prototype.hu = function (t, i) {\n    var n = this.Ku.fa(),\n        h = this.Ku.I();\n\n    switch (n) {\n      case \"Line\":\n        return this.ca(h);\n\n      case \"Area\":\n        return this.va(h);\n\n      case \"Bar\":\n        return this._a(h, t, i);\n\n      case \"Candlestick\":\n        return this.da(h, t, i);\n\n      case \"Histogram\":\n        return this.wa(h, t, i);\n    }\n\n    throw new Error(\"Unknown chart style\");\n  }, t.prototype._a = function (t, i, n) {\n    var h = _u({}, Vi),\n        s = t.upColor,\n        r = t.downColor,\n        e = s,\n        a = r,\n        o = f(this.Ma(i, n)),\n        l = c(o.J[0]) <= c(o.J[3]);\n\n    return h.nu = l ? s : r, h.cu = l ? e : a, h;\n  }, t.prototype.da = function (t, i, n) {\n    var h = _u({}, Vi),\n        s = t.upColor,\n        r = t.downColor,\n        e = t.borderUpColor,\n        a = t.borderDownColor,\n        o = t.wickUpColor,\n        l = t.wickDownColor,\n        v = f(this.Ma(i, n)),\n        _ = c(v.J[0]) <= c(v.J[3]);\n\n    return h.nu = _ ? s : r, h.cu = _ ? e : a, h.fu = _ ? o : l, h;\n  }, t.prototype.va = function (t) {\n    return _u(_u({}, Vi), {\n      nu: t.lineColor\n    });\n  }, t.prototype.ca = function (t) {\n    return _u(_u({}, Vi), {\n      nu: t.color\n    });\n  }, t.prototype.wa = function (t, i, n) {\n    var h = _u({}, Vi),\n        s = f(this.Ma(i, n));\n\n    return h.nu = void 0 !== s.et ? s.et : t.color, h;\n  }, t.prototype.Ma = function (t, i) {\n    return void 0 !== i ? i.J : this.Ku.qi().ba(t);\n  }, t;\n}(),\n    zi = function () {\n  function t() {\n    this.ma = [], this.ga = new Map(), this.pa = new Map();\n  }\n\n  return t.prototype.ya = function () {\n    this.ma = [], this.ga.clear(), this.pa.clear();\n  }, t.prototype.ka = function () {\n    return this.je() > 0 ? this.ma[this.ma.length - 1] : null;\n  }, t.prototype.xa = function () {\n    return this.je() > 0 ? this.Na(0) : null;\n  }, t.prototype.Ui = function () {\n    return this.je() > 0 ? this.Na(this.ma.length - 1) : null;\n  }, t.prototype.je = function () {\n    return this.ma.length;\n  }, t.prototype.Qt = function () {\n    return 0 === this.je();\n  }, t.prototype.As = function (t) {\n    return null !== this.Sa(t, 0);\n  }, t.prototype.ba = function (t) {\n    return this.Ca(t);\n  }, t.prototype.Ca = function (t, i) {\n    void 0 === i && (i = 0);\n    var n = this.Sa(t, i);\n    return null === n ? null : _u(_u({}, this.Da(n)), {\n      Ps: this.Na(n)\n    });\n  }, t.prototype.Ye = function () {\n    return this.ma;\n  }, t.prototype.Ta = function (t, i, n) {\n    if (this.Qt()) return null;\n\n    for (var h = null, s = 0, r = n; s < r.length; s++) {\n      var e = r[s];\n      h = Pi(h, this.Ba(t, i, e));\n    }\n\n    return h;\n  }, t.prototype._n = function (t) {\n    0 !== t.length && (this.Qt() || t[t.length - 1].Ps < this.ma[0].Ps ? this.Ea(t) : t[0].Ps > this.ma[this.ma.length - 1].Ps ? this.La(t) : 1 !== t.length || t[0].Ps !== this.ma[this.ma.length - 1].Ps ? this.Aa(t) : this.Va(t[0]));\n  }, t.prototype.Na = function (t) {\n    return this.ma[t].Ps;\n  }, t.prototype.Da = function (t) {\n    return this.ma[t];\n  }, t.prototype.Sa = function (t, i) {\n    var n = this.Oa(t);\n    if (null === n && 0 !== i) switch (i) {\n      case -1:\n        return this.za(t);\n\n      case 1:\n        return this.Pa(t);\n\n      default:\n        throw new TypeError(\"Unknown search mode\");\n    }\n    return n;\n  }, t.prototype.za = function (t) {\n    var i = this.Fa(t);\n    return i > 0 && (i -= 1), i !== this.ma.length && this.Na(i) < t ? i : null;\n  }, t.prototype.Pa = function (t) {\n    var i = this.Ia(t);\n    return i !== this.ma.length && t < this.Na(i) ? i : null;\n  }, t.prototype.Oa = function (t) {\n    var i = this.Fa(t);\n    return i === this.ma.length || t < this.ma[i].Ps ? null : i;\n  }, t.prototype.Fa = function (t) {\n    return qt(this.ma, t, function (t, i) {\n      return t.Ps < i;\n    });\n  }, t.prototype.Ia = function (t) {\n    return Ht(this.ma, t, function (t, i) {\n      return i.Ps > t;\n    });\n  }, t.prototype.Wa = function (t, i, n) {\n    for (var h = null, s = t; s < i; s++) {\n      var r = this.ma[s].J[n];\n      Number.isNaN(r) || (null === h ? h = {\n        Ra: r,\n        ja: r\n      } : (r < h.Ra && (h.Ra = r), r > h.ja && (h.ja = r)));\n    }\n\n    return h;\n  }, t.prototype.Ua = function (t) {\n    var i = Math.floor(t.Ps / 30);\n    this.ga.forEach(function (t) {\n      return t.delete(i);\n    });\n  }, t.prototype.Ea = function (t) {\n    o(0 !== t.length, \"plotRows should not be empty\"), this.pa.clear(), this.ga.clear(), this.ma = t.concat(this.ma);\n  }, t.prototype.La = function (t) {\n    o(0 !== t.length, \"plotRows should not be empty\"), this.pa.clear(), this.ga.clear(), this.ma = this.ma.concat(t);\n  }, t.prototype.Va = function (t) {\n    o(!this.Qt(), \"plot list should not be empty\"), o(this.ma[this.ma.length - 1].Ps === t.Ps, \"last row index should match new row index\"), this.Ua(t), this.pa.delete(t.Ps), this.ma[this.ma.length - 1] = t;\n  }, t.prototype.Aa = function (t) {\n    o(0 !== t.length, \"plot rows should not be empty\"), this.pa.clear(), this.ga.clear(), this.ma = function (t, i) {\n      var n = function (t, i) {\n        var n = t.length,\n            h = i.length,\n            s = n + h,\n            r = 0,\n            e = 0;\n\n        for (; r < n && e < h;) {\n          t[r].Ps < i[e].Ps ? r++ : t[r].Ps > i[e].Ps ? e++ : (r++, e++, s--);\n        }\n\n        return s;\n      }(t, i),\n          h = new Array(n),\n          s = 0,\n          r = 0,\n          e = t.length,\n          u = i.length,\n          a = 0;\n\n      for (; s < e && r < u;) {\n        t[s].Ps < i[r].Ps ? (h[a] = t[s], s++) : t[s].Ps > i[r].Ps ? (h[a] = i[r], r++) : (h[a] = i[r], s++, r++), a++;\n      }\n\n      for (; s < e;) {\n        h[a] = t[s], s++, a++;\n      }\n\n      for (; r < u;) {\n        h[a] = i[r], r++, a++;\n      }\n\n      return h;\n    }(this.ma, t);\n  }, t.prototype.Ba = function (t, i, n) {\n    if (this.Qt()) return null;\n    var h = null,\n        s = f(this.xa()),\n        r = f(this.Ui()),\n        e = Math.max(t, s),\n        u = Math.min(i, r),\n        a = 30 * Math.ceil(e / 30),\n        o = Math.max(a, 30 * Math.floor(u / 30)),\n        l = this.Fa(e),\n        c = this.Ia(Math.min(u, a, i));\n    h = Pi(h, this.Wa(l, c, n));\n    var v = this.ga.get(n);\n    void 0 === v && (v = new Map(), this.ga.set(n, v));\n\n    for (var _ = Math.max(a + 1, e); _ < o; _ += 30) {\n      var d = Math.floor(_ / 30),\n          w = v.get(d);\n\n      if (void 0 === w) {\n        var M = this.Fa(30 * d),\n            b = this.Ia(30 * (d + 1) - 1);\n        w = this.Wa(M, b, n), v.set(d, w);\n      }\n\n      h = Pi(h, w);\n    }\n\n    l = this.Fa(o), c = this.Ia(u);\n    return h = Pi(h, this.Wa(l, c, n));\n  }, t;\n}();\n\nfunction Pi(t, i) {\n  return null === t ? i : null === i ? t : {\n    Ra: Math.min(t.Ra, i.Ra),\n    ja: Math.max(t.ja, i.ja)\n  };\n}\n\nvar Fi = function (t) {\n  function i(i, n, h) {\n    var s = t.call(this, i) || this;\n    s.tt = new zi(), s.aa = new Ci(s), s.qa = [], s.Ha = new _i(s), s.Ya = null, s.Ka = [], s.$a = [], s.xi = n, s.Xa = h;\n    var r = new Di(s);\n    return s.bi = [r], s.oa = new fi(r, s, i), s.Za(), s.Ja(), s;\n  }\n\n  return e(i, t), i.prototype.en = function () {}, i.prototype.Qu = function (t) {\n    return this.xi.priceLineColor || t;\n  }, i.prototype.Ju = function (t, i) {\n    var n = {\n      Gu: !0\n    },\n        h = this.Z();\n    if (this.ct().U().Qt() || h.Qt() || this.tt.Qt()) return n;\n    var s,\n        r,\n        e = this.ct().U().wr(),\n        u = this.Y();\n    if (null === e || null === u) return n;\n\n    if (t) {\n      var a = this.tt.ka();\n      if (null === a) return n;\n      s = a, r = a.Ps;\n    } else {\n      var o = this.tt.Ca(e.rs(), -1);\n      if (null === o) return n;\n      if (null === (s = this.tt.ba(o.Ps))) return n;\n      r = o.Ps;\n    }\n\n    var l = s.J[3],\n        f = this.He().hu(r, {\n      J: s\n    }),\n        c = h.X(l, u.J);\n    return {\n      Gu: !1,\n      F: i ? l : void 0,\n      At: h.ti(l, u.J),\n      ha: h.Xh(l),\n      sa: h.Jh(l, u.J),\n      et: f.nu,\n      Pt: c,\n      Ps: r\n    };\n  }, i.prototype.He = function () {\n    return null !== this.Ya || (this.Ya = new Oi(this)), this.Ya;\n  }, i.prototype.I = function () {\n    return this.xi;\n  }, i.prototype.sh = function (t) {\n    var i = t.priceScaleId;\n    void 0 !== i && i !== this.xi.priceScaleId && this.ct().Ga(this, i), v(this.xi, t), null !== this.ei && void 0 !== t.scaleMargins && this.ei.sh({\n      scaleMargins: t.scaleMargins\n    }), void 0 !== t.priceFormat && this.Za(), this.ct().Qa(this), this.ct().io();\n  }, i.prototype.no = function () {\n    this.tt.ya(), this.Ja();\n  }, i.prototype.ho = function (t, i) {\n    i && this.tt.ya(), this.tt._n(t), this.so(), this.Bi.V(\"data\"), this.Ni.V(\"data\");\n    var n = this.ct().Du(this);\n    this.ct().ro(n), this.ct().Qa(this), this.ct().io(), this.ct().Or();\n  }, i.prototype.eo = function (t) {\n    this.Ka = t.map(function (t) {\n      return _u({}, t);\n    }), this.so();\n    var i = this.ct().Du(this);\n    this.Ni.V(\"data\"), this.ct().ro(i), this.ct().Qa(this), this.ct().io(), this.ct().Or();\n  }, i.prototype.Xu = function () {\n    return this.$a;\n  }, i.prototype.uo = function (t) {\n    var i = new Li(this, t);\n    return this.qa.push(i), this.ct().Qa(this), i;\n  }, i.prototype.ao = function (t) {\n    var i = this.qa.indexOf(t);\n    -1 !== i && this.qa.splice(i, 1), this.ct().Qa(this);\n  }, i.prototype.fa = function () {\n    return this.Xa;\n  }, i.prototype.Y = function () {\n    var t = this.oo();\n    return null === t ? null : {\n      J: t.J[3],\n      Ih: t.P\n    };\n  }, i.prototype.oo = function () {\n    var t = this.ct().U().wr();\n    if (null === t) return null;\n    var i = t.ss();\n    return this.tt.Ca(i, 1);\n  }, i.prototype.qi = function () {\n    return this.tt;\n  }, i.prototype.Zu = function (t) {\n    var i = this.tt.ba(t);\n    return null === i ? null : \"Bar\" === this.Xa || \"Candlestick\" === this.Xa ? {\n      open: i.J[0],\n      high: i.J[1],\n      low: i.J[2],\n      close: i.J[3]\n    } : i.J[3];\n  }, i.prototype.ci = function () {\n    var t = [];\n    this.lo() || t.push(this.Ha);\n\n    for (var i = 0, n = this.qa; i < n.length; i++) {\n      var h = n[i];\n      t.push.apply(t, h.ci());\n    }\n\n    return t.push(this.Bi, this.aa, this.oa, this.Ni), t;\n  }, i.prototype.fi = function (t, i) {\n    for (var n = i === this.ei || this.lo() ? a(this.bi) : [], h = 0, s = this.qa; h < s.length; h++) {\n      var r = s[h];\n      n.push(r.la());\n    }\n\n    return n;\n  }, i.prototype.hs = function (t, i) {\n    var n = this;\n\n    if (void 0 !== this.xi.autoscaleInfoProvider) {\n      var h = this.xi.autoscaleInfoProvider(function () {\n        var h = n.fo(t, i);\n        return null === h ? null : h.Mn();\n      });\n      return Ti.bn(h);\n    }\n\n    return this.fo(t, i);\n  }, i.prototype.ts = function () {\n    return this.xi.priceFormat.minMove;\n  }, i.prototype.Kh = function () {\n    return this.Zn;\n  }, i.prototype.Wi = function () {\n    this.Bi.V(), this.Ni.V();\n\n    for (var t = 0, i = this.bi; t < i.length; t++) {\n      i[t].V();\n    }\n\n    for (var n = 0, h = this.qa; n < h.length; n++) {\n      h[n].V();\n    }\n\n    this.aa.V(), this.Ha.V();\n  }, i.prototype.Z = function () {\n    return f(this.ei);\n  }, i.prototype.q = function (t) {\n    if (!((\"Line\" === this.Xa || \"Area\" === this.Xa) && this.xi.crosshairMarkerVisible)) return null;\n    var i = this.tt.ba(t);\n    return null === i ? null : {\n      F: i.J[3],\n      N: this.co(),\n      $: this.vo(),\n      K: this._o(t)\n    };\n  }, i.prototype.ta = function () {\n    return this.xi.title;\n  }, i.prototype.H = function () {\n    return this.xi.visible;\n  }, i.prototype.lo = function () {\n    return !Ft(this.Z().hh());\n  }, i.prototype.fo = function (t, i) {\n    if (!d(t) || !d(i) || this.tt.Qt()) return null;\n    var n = \"Line\" === this.Xa || \"Area\" === this.Xa || \"Histogram\" === this.Xa ? [3] : [2, 1],\n        h = this.tt.Ta(t, i, n),\n        s = null !== h ? new G(h.Ra, h.ja) : null;\n\n    if (\"Histogram\" === this.fa()) {\n      var r = this.xi.base,\n          e = new G(r, r);\n      s = null !== s ? s._n(e) : e;\n    }\n\n    return new Ti(s, this.Ni.$u());\n  }, i.prototype.co = function () {\n    switch (this.Xa) {\n      case \"Line\":\n      case \"Area\":\n        return this.xi.crosshairMarkerRadius;\n    }\n\n    return 0;\n  }, i.prototype.vo = function () {\n    switch (this.Xa) {\n      case \"Line\":\n      case \"Area\":\n        var t = this.xi.crosshairMarkerBorderColor;\n        if (0 !== t.length) return t;\n    }\n\n    return this.ct().I().layout.backgroundColor;\n  }, i.prototype._o = function (t) {\n    switch (this.Xa) {\n      case \"Line\":\n      case \"Area\":\n        var i = this.xi.crosshairMarkerBackgroundColor;\n        if (0 !== i.length) return i;\n    }\n\n    return this.He().hu(t).nu;\n  }, i.prototype.Za = function () {\n    switch (this.xi.priceFormat.type) {\n      case \"custom\":\n        this.Zn = {\n          Ki: this.xi.priceFormat.formatter\n        };\n        break;\n\n      case \"volume\":\n        this.Zn = new Wt(this.xi.priceFormat.precision);\n        break;\n\n      case \"percent\":\n        this.Zn = new Z(this.xi.priceFormat.precision);\n        break;\n\n      default:\n        var t = Math.pow(10, this.xi.priceFormat.precision);\n        this.Zn = new X(t, this.xi.priceFormat.minMove * t);\n    }\n\n    null !== this.ei && this.ei.rh();\n  }, i.prototype.so = function () {\n    var t = this,\n        i = this.ct().U();\n    if (i.Qt() || 0 === this.tt.je()) this.$a = [];else {\n      var n = f(this.tt.xa());\n      this.$a = this.Ka.map(function (h, s) {\n        var r = f(i.dr(h.time, !0)),\n            e = r < n ? 1 : -1;\n        return {\n          time: f(t.tt.Ca(r, e)).Ps,\n          position: h.position,\n          shape: h.shape,\n          color: h.color,\n          id: h.id,\n          Fu: s,\n          text: h.text,\n          size: h.size\n        };\n      });\n    }\n  }, i.prototype.Ja = function () {\n    switch (this.Ni = new Si(this, this.ct()), this.Xa) {\n      case \"Bar\":\n        this.Bi = new ti(this, this.ct());\n        break;\n\n      case \"Candlestick\":\n        this.Bi = new ni(this, this.ct());\n        break;\n\n      case \"Line\":\n        this.Bi = new ui(this, this.ct());\n        break;\n\n      case \"Area\":\n        this.Bi = new Jt(this, this.ct());\n        break;\n\n      case \"Histogram\":\n        this.Bi = new ei(this, this.ct());\n        break;\n\n      default:\n        throw Error(\"Unknown chart style assigned: \" + this.Xa);\n    }\n  }, i;\n}(Ai),\n    Ii = function () {\n  function t(t) {\n    this.xi = t;\n  }\n\n  return t.prototype.do = function (t, i, n) {\n    var h = t;\n    if (0 === this.xi.mode) return h;\n    var s = n.Ci(),\n        r = s.Y();\n    if (null === r) return h;\n    var e = s.X(t, r),\n        u = n.Vh().filter(function (t) {\n      return t instanceof Fi;\n    }).reduce(function (t, h) {\n      if (n.Tu(h) || !h.H()) return t;\n      var s = h.Z(),\n          r = h.qi();\n      if (s.Qt() || !r.As(i)) return t;\n      var e = r.ba(i);\n      if (null === e) return t;\n      var u = c(h.Y());\n      return t.concat([s.X(e.J[3], u.J)]);\n    }, []);\n    if (0 === u.length) return h;\n    u.sort(function (t, i) {\n      return Math.abs(t - e) - Math.abs(i - e);\n    });\n    var a = u[0];\n    return h = s.Di(a, r);\n  }, t;\n}(),\n    Wi = function () {\n  function t() {\n    this.tt = null;\n  }\n\n  return t.prototype._ = function (t) {\n    this.tt = t;\n  }, t.prototype.h = function (t, i, n, s) {\n    var r = this;\n\n    if (null !== this.tt) {\n      var e = Math.max(1, Math.floor(i));\n      t.lineWidth = e;\n      var u = Math.ceil(this.tt.st * i),\n          a = Math.ceil(this.tt.ht * i);\n      !function (t, i) {\n        t.save(), t.lineWidth % 2 && t.translate(.5, .5), i(), t.restore();\n      }(t, function () {\n        var n = f(r.tt);\n\n        if (n.wo) {\n          t.strokeStyle = n.Mo, h(t, n.bo), t.beginPath();\n\n          for (var s = 0, o = n.mo; s < o.length; s++) {\n            var l = o[s],\n                c = Math.round(l.Tn * i);\n            t.moveTo(c, -e), t.lineTo(c, u + e);\n          }\n\n          t.stroke();\n        }\n\n        if (n.po) {\n          t.strokeStyle = n.yo, h(t, n.ko), t.beginPath();\n\n          for (var v = 0, _ = n.xo; v < _.length; v++) {\n            var d = _[v],\n                w = Math.round(d.Tn * i);\n            t.moveTo(-e, w), t.lineTo(a + e, w);\n          }\n\n          t.stroke();\n        }\n      });\n    }\n  }, t;\n}(),\n    Ri = function () {\n  function t(t) {\n    this.ot = new Wi(), this.B = !0, this._i = t;\n  }\n\n  return t.prototype.V = function () {\n    this.B = !0;\n  }, t.prototype.W = function (t, i) {\n    if (this.B) {\n      var n = this._i.ct().I().grid,\n          h = {\n        st: t,\n        ht: i,\n        po: n.horzLines.visible,\n        wo: n.vertLines.visible,\n        yo: n.horzLines.color,\n        Mo: n.vertLines.color,\n        ko: n.horzLines.style,\n        bo: n.vertLines.style,\n        xo: this._i.Ci().An(),\n        mo: this._i.ct().U().An() || []\n      };\n\n      this.ot._(h), this.B = !1;\n    }\n\n    return this.ot;\n  }, t;\n}(),\n    ji = function () {\n  function t(t) {\n    this.Bi = new Ri(t);\n  }\n\n  return t.prototype.No = function () {\n    return this.Bi;\n  }, t;\n}(),\n    Ui = function () {\n  function t(t, i) {\n    this.Hn = [], this.So = new Map(), this.Vn = 0, this.Ys = 0, this.Co = 1e3, this.Yn = null, this.Do = new J(), this.To = t, this.hi = i, this.Bo = new ji(this);\n    var n = i.I();\n    this.Eo = this.Lo(\"left\", n.leftPriceScale), this.Ao = this.Lo(\"right\", n.rightPriceScale), this.Eo.bh().Ji(this.Vo.bind(this, this.Eo), this), this.Ao.bh().Ji(this.Vo.bind(this, this.Eo), this), this.Oo(n);\n  }\n\n  return t.prototype.Oo = function (t) {\n    if (t.leftPriceScale && this.Eo.sh(t.leftPriceScale), t.rightPriceScale && this.Ao.sh(t.rightPriceScale), t.localization && (this.Eo.rh(), this.Ao.rh()), t.overlayPriceScales) for (var i = 0, n = Array.from(this.So.values()); i < n.length; i++) {\n      var h = f(n[i][0].Z());\n      h.sh(t.overlayPriceScales), t.localization && h.rh();\n    }\n  }, t.prototype.zo = function (t) {\n    switch (t) {\n      case \"left\":\n        return this.Eo;\n\n      case \"right\":\n        return this.Ao;\n    }\n\n    return this.So.has(t) ? l(this.So.get(t))[0].Z() : null;\n  }, t.prototype.en = function () {\n    this.ct().Po().hn(this), this.Eo.bh().hn(this), this.Ao.bh().hn(this), this.Hn.forEach(function (t) {\n      t.en && t.en();\n    }), this.Do.sn();\n  }, t.prototype.Fo = function () {\n    return this.Co;\n  }, t.prototype.Io = function (t) {\n    this.Co = t;\n  }, t.prototype.ct = function () {\n    return this.hi;\n  }, t.prototype.dt = function () {\n    return this.Ys;\n  }, t.prototype.wt = function () {\n    return this.Vn;\n  }, t.prototype.Sr = function (t) {\n    this.Ys = t, this.Wo();\n  }, t.prototype.mh = function (t) {\n    var i = this;\n    this.Vn = t, this.Eo.mh(t), this.Ao.mh(t), this.Hn.forEach(function (n) {\n      if (i.Tu(n)) {\n        var h = n.Z();\n        null !== h && h.mh(t);\n      }\n    }), this.Wo();\n  }, t.prototype.Vh = function () {\n    return this.Hn;\n  }, t.prototype.Tu = function (t) {\n    var i = t.Z();\n    return null === i || this.Eo !== i && this.Ao !== i;\n  }, t.prototype.zh = function (t, i, n) {\n    var h = void 0 !== n ? n : this.jo().Ro - 1;\n    this.Uo(t, i, h);\n  }, t.prototype.Fh = function (t) {\n    var i = this.Hn.indexOf(t);\n    o(-1 !== i, \"removeDataSource: invalid data source\"), this.Hn.splice(i, 1);\n    var n = f(t.Z()).hh();\n\n    if (this.So.has(n)) {\n      var h = l(this.So.get(n)),\n          s = h.indexOf(t);\n      -1 !== s && (h.splice(s, 1), 0 === h.length && this.So.delete(n));\n    }\n\n    var r = t.Z();\n    r && r.Vh().indexOf(t) >= 0 && r.Fh(t), null !== r && (r.Ph(), this.qo(r)), this.Yn = null;\n  }, t.prototype.Bu = function (t) {\n    return t === this.Eo ? \"left\" : t === this.Ao ? \"right\" : \"overlay\";\n  }, t.prototype.Ho = function () {\n    return this.Eo;\n  }, t.prototype.Yo = function () {\n    return this.Ao;\n  }, t.prototype.Ko = function (t, i) {\n    t.Rh(i);\n  }, t.prototype.$o = function (t, i) {\n    t.jh(i), this.Wo();\n  }, t.prototype.Xo = function (t) {\n    t.Uh();\n  }, t.prototype.Zo = function (t, i) {\n    t.qh(i);\n  }, t.prototype.Jo = function (t, i) {\n    t.Hh(i), this.Wo();\n  }, t.prototype.Go = function (t) {\n    t.Yh();\n  }, t.prototype.Wo = function () {\n    this.Hn.forEach(function (t) {\n      t.Wi();\n    });\n  }, t.prototype.Ci = function () {\n    var t = null;\n    return this.hi.I().rightPriceScale.visible && 0 !== this.Ao.Vh().length ? t = this.Ao : this.hi.I().leftPriceScale.visible && 0 !== this.Eo.Vh().length ? t = this.Eo : 0 !== this.Hn.length && (t = this.Hn[0].Z()), null === t && (t = this.Ao), t;\n  }, t.prototype.qo = function (t) {\n    null !== t && t.oh() && this.Qo(t);\n  }, t.prototype.tl = function (t) {\n    var i = this.To.wr();\n    t.eh({\n      _h: !0\n    }), null !== i && t.Qh(i), this.Wo();\n  }, t.prototype.il = function () {\n    this.Qo(this.Eo), this.Qo(this.Ao);\n  }, t.prototype.nl = function () {\n    var t = this;\n    this.qo(this.Eo), this.qo(this.Ao), this.Hn.forEach(function (i) {\n      t.Tu(i) && t.qo(i.Z());\n    }), this.Wo(), this.hi.Or();\n  }, t.prototype.Oh = function () {\n    return null === this.Yn && (this.Yn = _t(this.Hn)), this.Yn;\n  }, t.prototype.hl = function () {\n    return this.Do;\n  }, t.prototype.sl = function () {\n    return this.Bo;\n  }, t.prototype.Qo = function (t) {\n    var i = t.Gh();\n\n    if (i && i.length > 0 && !this.To.Qt()) {\n      var n = this.To.wr();\n      null !== n && t.Qh(n);\n    }\n\n    t.Wi();\n  }, t.prototype.jo = function () {\n    var t = this.Oh();\n    if (0 === t.length) return {\n      Ro: 0,\n      rl: 0\n    };\n\n    for (var i = 0, n = 0, h = 0; h < t.length; h++) {\n      var s = t[h].ai();\n      null !== s && (s < i && (i = s), s > n && (n = s));\n    }\n\n    return {\n      Ro: i,\n      rl: n\n    };\n  }, t.prototype.Uo = function (t, i, n) {\n    var h = this.zo(i);\n\n    if (null === h && (h = this.Lo(i, this.hi.I().overlayPriceScales)), this.Hn.push(t), !Ft(i)) {\n      var s = this.So.get(i) || [];\n      s.push(t), this.So.set(i, s);\n    }\n\n    h.zh(t), t.li(h), t.oi(n), this.qo(h), this.Yn = null;\n  }, t.prototype.Vo = function (t, i, n) {\n    i.uh !== n.uh && this.Qo(t);\n  }, t.prototype.Lo = function (t, i) {\n    var n = _u({\n      visible: !0,\n      autoScale: !0\n    }, b(i)),\n        h = new bt(t, n, this.hi.I().layout, this.hi.I().localization);\n\n    return h.mh(this.wt()), h;\n  }, t;\n}(),\n    qi = function (t) {\n  function i(i) {\n    var n = t.call(this) || this;\n    return n.el = new Map(), n.tt = i, n;\n  }\n\n  return e(i, t), i.prototype.u = function (t) {}, i.prototype.l = function (t) {\n    if (this.tt.H) {\n      t.save();\n\n      for (var i = 0, n = 0, h = this.tt.ul; n < h.length; n++) {\n        if (0 !== (a = h[n]).At.length) {\n          t.font = a.xt;\n          var s = this.al(t, a.At);\n          s > this.tt.dt ? a.Rr = this.tt.dt / s : a.Rr = 1, i += a.ol * a.Rr;\n        }\n      }\n\n      var r = 0;\n\n      switch (this.tt.ll) {\n        case \"top\":\n          r = 0;\n          break;\n\n        case \"center\":\n          r = Math.max((this.tt.wt - i) / 2, 0);\n          break;\n\n        case \"bottom\":\n          r = Math.max(this.tt.wt - i, 0);\n      }\n\n      t.fillStyle = this.tt.et;\n\n      for (var e = 0, u = this.tt.ul; e < u.length; e++) {\n        var a = u[e];\n        t.save();\n        var o = 0;\n\n        switch (this.tt.fl) {\n          case \"left\":\n            t.textAlign = \"left\", o = a.ol / 2;\n            break;\n\n          case \"center\":\n            t.textAlign = \"center\", o = this.tt.dt / 2;\n            break;\n\n          case \"right\":\n            t.textAlign = \"right\", o = this.tt.dt - 1 - a.ol / 2;\n        }\n\n        t.translate(o, r), t.textBaseline = \"top\", t.font = a.xt, t.scale(a.Rr, a.Rr), t.fillText(a.At, 0, a.cl), t.restore(), r += a.ol * a.Rr;\n      }\n\n      t.restore();\n    }\n  }, i.prototype.al = function (t, i) {\n    var n = this.vl(t.font),\n        h = n.get(i);\n    return void 0 === h && (h = t.measureText(i).width, n.set(i, h)), h;\n  }, i.prototype.vl = function (t) {\n    var i = this.el.get(t);\n    return void 0 === i && (i = new Map(), this.el.set(t, i)), i;\n  }, i;\n}(y),\n    Hi = function () {\n  function t(t) {\n    this.B = !0, this.at = {\n      H: !1,\n      et: \"\",\n      wt: 0,\n      dt: 0,\n      ul: [],\n      ll: \"center\",\n      fl: \"center\"\n    }, this.ot = new qi(this.at), this.lt = t;\n  }\n\n  return t.prototype.V = function () {\n    this.B = !0;\n  }, t.prototype.W = function (t, i) {\n    return this.B && (this.R(t, i), this.B = !1), this.ot;\n  }, t.prototype.R = function (t, i) {\n    var n = this.lt.I(),\n        h = this.at;\n    h.H = n.visible, h.H && (h.et = n.color, h.dt = i, h.wt = t, h.fl = n.horzAlign, h.ll = n.vertAlign, h.ul = [{\n      At: n.text,\n      xt: zt(n.fontSize, n.fontFamily, n.fontStyle),\n      ol: 1.2 * n.fontSize,\n      cl: 0,\n      Rr: 0\n    }]);\n  }, t;\n}(),\n    Yi = function (t) {\n  function i(i, n) {\n    var h = t.call(this) || this;\n    return h.xi = n, h.Bi = new Hi(h), h;\n  }\n\n  return e(i, t), i.prototype.ci = function () {\n    return [this.Bi];\n  }, i.prototype.I = function () {\n    return this.xi;\n  }, i.prototype.Wi = function () {\n    this.Bi.V();\n  }, i;\n}(H),\n    Ki = function () {\n  function t(t, i) {\n    this._l = [], this.dl = [], this.Ys = 0, this.wl = null, this.Ml = null, this.bl = new J(), this.ml = new J(), this.gl = t, this.xi = i, this.pl = new Pt(this), this.To = new Lt(this, i.timeScale, this.xi.localization), this.A = new Y(this, i.crosshair), this.yl = new Ii(i.crosshair), this.kl = new Yi(this, i.watermark), this.xl(), this._l[0].Io(2e3);\n  }\n\n  return t.prototype.Nl = function () {\n    this.Sl(new It(3));\n  }, t.prototype.Or = function () {\n    this.Sl(new It(2));\n  }, t.prototype.Qa = function (t) {\n    var i = this.Cl(t);\n    this.Sl(i);\n  }, t.prototype.Dl = function () {\n    return this.Ml;\n  }, t.prototype.Tl = function (t) {\n    var i = this.Ml;\n    this.Ml = t, null !== i && this.Qa(i.Bl), null !== t && this.Qa(t.Bl);\n  }, t.prototype.I = function () {\n    return this.xi;\n  }, t.prototype.sh = function (t) {\n    v(this.xi, t), this._l.forEach(function (i) {\n      return i.Oo(t);\n    }), void 0 !== t.timeScale && this.To.sh(t.timeScale), void 0 !== t.localization && this.To.ar(t.localization), (t.leftPriceScale || t.rightPriceScale) && this.bl.sn(), this.Nl();\n  }, t.prototype.El = function (t, i) {\n    var n = this.Ll(t);\n    null !== n && (n.Z.sh(i), this.bl.sn());\n  }, t.prototype.Ll = function (t) {\n    for (var i = 0, n = this._l; i < n.length; i++) {\n      var h = n[i],\n          s = h.zo(t);\n      if (null !== s) return {\n        ft: h,\n        Z: s\n      };\n    }\n\n    return null;\n  }, t.prototype.U = function () {\n    return this.To;\n  }, t.prototype.Al = function () {\n    return this._l;\n  }, t.prototype.Vl = function () {\n    return this.kl;\n  }, t.prototype.Ol = function () {\n    return this.A;\n  }, t.prototype.zl = function () {\n    return this.ml;\n  }, t.prototype.Pl = function (t, i) {\n    t.mh(i), this.Vr();\n  }, t.prototype.Sr = function (t) {\n    this.Ys = t, this.To.Sr(this.Ys), this._l.forEach(function (i) {\n      return i.Sr(t);\n    }), this.Vr();\n  }, t.prototype.xl = function (t) {\n    var i = new Ui(this.To, this);\n    void 0 !== t ? this._l.splice(t, 0, i) : this._l.push(i);\n    var n = void 0 === t ? this._l.length - 1 : t,\n        h = new It(3);\n    return h._e(n, {\n      de: 0,\n      _h: !0\n    }), this.Sl(h), i;\n  }, t.prototype.Ko = function (t, i, n) {\n    t.Ko(i, n);\n  }, t.prototype.$o = function (t, i, n) {\n    t.$o(i, n), this.io(), this.Sl(this.Fl(t, 2));\n  }, t.prototype.Xo = function (t, i) {\n    t.Xo(i), this.Sl(this.Fl(t, 2));\n  }, t.prototype.Zo = function (t, i, n) {\n    i.oh() || t.Zo(i, n);\n  }, t.prototype.Jo = function (t, i, n) {\n    i.oh() || (t.Jo(i, n), this.io(), this.Sl(this.Fl(t, 2)));\n  }, t.prototype.Go = function (t, i) {\n    i.oh() || (t.Go(i), this.Sl(this.Fl(t, 2)));\n  }, t.prototype.tl = function (t, i) {\n    t.tl(i), this.Sl(this.Fl(t, 2));\n  }, t.prototype.Il = function (t) {\n    this.To.Rh(t);\n  }, t.prototype.Wl = function (t, i) {\n    var n = this.U();\n\n    if (!n.Qt() && 0 !== i) {\n      var h = n.dt();\n      t = Math.max(1, Math.min(t, h)), n.Rr(t, i), this.Vr();\n    }\n  }, t.prototype.Rl = function (t) {\n    this.jl(0), this.Ul(t), this.ql();\n  }, t.prototype.Hl = function (t) {\n    this.To.jh(t), this.Vr();\n  }, t.prototype.Yl = function () {\n    this.To.Uh(), this.Or();\n  }, t.prototype.jl = function (t) {\n    this.wl = t, this.To.qh(t);\n  }, t.prototype.Ul = function (t) {\n    var i = !1;\n    return null !== this.wl && Math.abs(t - this.wl) > 20 && (this.wl = null, i = !0), this.To.Hh(t), this.Vr(), i;\n  }, t.prototype.ql = function () {\n    this.To.Yh(), this.Or(), this.wl = null;\n  }, t.prototype.O = function () {\n    return this.dl;\n  }, t.prototype.Kl = function (t, i, n) {\n    this.A.Ei(t, i);\n    var h = NaN,\n        s = this.To.Lr(t),\n        r = this.To.wr();\n    null !== r && (s = Math.min(Math.max(r.ss(), s), r.rs()));\n    var e = n.Ci(),\n        u = e.Y();\n    null !== u && (h = e.Di(i, u)), h = this.yl.do(h, s, n), this.A.Oi(s, h, n), this.$l(), this.ml.sn(this.A.j(), {\n      x: t,\n      y: i\n    });\n  }, t.prototype.Xl = function () {\n    this.Ol().Pi(), this.$l(), this.ml.sn(null, null);\n  }, t.prototype.io = function () {\n    var t = this.A.ft();\n\n    if (null !== t) {\n      var i = this.A.Ai(),\n          n = this.A.Vi();\n      this.Kl(i, n, t);\n    }\n\n    this.A.Wi();\n  }, t.prototype.Zl = function (t, i) {\n    var n = this.To.si(0);\n    void 0 !== i && this.To.V(i);\n    var h = this.To.si(0),\n        s = this.To.Br(),\n        r = this.To.wr();\n\n    if (null !== r && null !== n && null !== h) {\n      var e = r.As(s),\n          u = n.Cs > h.Cs,\n          a = t > s && !u,\n          o = e && this.To.I().shiftVisibleRangeOnNewBar;\n\n      if (a && !o) {\n        var l = t - s;\n\n        this.To._r(this.To.Pr() - l);\n      }\n    }\n\n    this.To.Wr(t);\n  }, t.prototype.ro = function (t) {\n    null !== t && t.nl();\n  }, t.prototype.Du = function (t) {\n    var i = this._l.find(function (i) {\n      return i.Oh().includes(t);\n    });\n\n    return void 0 === i ? null : i;\n  }, t.prototype.Vr = function () {\n    this.kl.Wi(), this._l.forEach(function (t) {\n      return t.nl();\n    }), this.io();\n  }, t.prototype.en = function () {\n    this._l.forEach(function (t) {\n      return t.en();\n    }), this._l.length = 0, this.xi.localization.priceFormatter = void 0, this.xi.localization.timeFormatter = void 0;\n  }, t.prototype.Jl = function () {\n    return this.pl;\n  }, t.prototype.Eu = function () {\n    return this.pl.I();\n  }, t.prototype.Po = function () {\n    return this.bl;\n  }, t.prototype.Gl = function (t, i) {\n    var n = this._l[0],\n        h = this.Ql(i, t, n);\n    return this.dl.push(h), 1 === this.dl.length ? this.Nl() : this.Or(), h;\n  }, t.prototype.tf = function (t) {\n    var i = this.Du(t),\n        n = this.dl.indexOf(t);\n    o(-1 !== n, \"Series not found\"), this.dl.splice(n, 1), f(i).Fh(t), t.en && t.en();\n  }, t.prototype.Ga = function (t, i) {\n    var n = f(this.Du(t));\n    n.Fh(t);\n    var h = this.Ll(i);\n\n    if (null === h) {\n      var s = t.ai();\n      n.zh(t, i, s);\n    } else {\n      s = h.ft === n ? t.ai() : void 0;\n      h.ft.zh(t, i, s);\n    }\n  }, t.prototype.Zr = function () {\n    var t = new It(2);\n    t.be(), this.Sl(t);\n  }, t.prototype.if = function (t) {\n    var i = new It(2);\n    i.ge(t), this.Sl(i);\n  }, t.prototype.pe = function () {\n    var t = new It(2);\n    t.pe(), this.Sl(t);\n  }, t.prototype.vr = function (t) {\n    var i = new It(2);\n    i.vr(t), this.Sl(i);\n  }, t.prototype._r = function (t) {\n    var i = new It(2);\n    i._r(t), this.Sl(i);\n  }, t.prototype.nf = function () {\n    return this.xi.rightPriceScale.visible ? \"right\" : \"left\";\n  }, t.prototype.Fl = function (t, i) {\n    var n = new It(i);\n\n    if (null !== t) {\n      var h = this._l.indexOf(t);\n\n      n._e(h, {\n        de: i\n      });\n    }\n\n    return n;\n  }, t.prototype.Cl = function (t, i) {\n    return void 0 === i && (i = 2), this.Fl(this.Du(t), i);\n  }, t.prototype.Sl = function (t) {\n    this.gl && this.gl(t), this._l.forEach(function (t) {\n      return t.sl().No().V();\n    });\n  }, t.prototype.$l = function () {\n    this.Sl(new It(1));\n  }, t.prototype.Ql = function (t, i, n) {\n    var h = new Fi(this, t, i),\n        s = void 0 !== t.priceScaleId ? t.priceScaleId : this.nf();\n    return n.zh(h, s), Ft(s) || h.sh(t), h;\n  }, t;\n}(),\n    $i = function () {\n  function t(t, i) {\n    this.ht = t, this.st = i;\n  }\n\n  return t.prototype.on = function (t) {\n    return this.ht === t.ht && this.st === t.st;\n  }, t;\n}();\n\nfunction Xi(t) {\n  return t.ownerDocument && t.ownerDocument.defaultView && t.ownerDocument.defaultView.devicePixelRatio || 1;\n}\n\nfunction Zi(t) {\n  var i = f(t.getContext(\"2d\"));\n  return i.setTransform(1, 0, 0, 1, 0, 0), i;\n}\n\nfunction Ji(t, i) {\n  var n = t.createElement(\"canvas\"),\n      h = Xi(n);\n  return n.style.width = i.ht + \"px\", n.style.height = i.st + \"px\", n.width = i.ht * h, n.height = i.st * h, n;\n}\n\nfunction Gi(i, n) {\n  var h = f(i.ownerDocument).createElement(\"canvas\");\n  i.appendChild(h);\n  var s = t(h);\n  return s.resizeCanvas({\n    width: n.ht,\n    height: n.st\n  }), s;\n}\n\nvar Qi = \"undefined\" != typeof window;\n\nvar tn = function () {\n  if (!Qi) return !1;\n  var t = !!navigator.maxTouchPoints || !!navigator.msMaxTouchPoints || !!Qi && (\"ontouchstart\" in window || Boolean(window.DocumentTouch && document instanceof window.DocumentTouch));\n  return \"onorientationchange\" in window && t;\n}();\n\nvar nn = function () {\n  if (!Qi) return !1;\n  var t = /Android/i.test(navigator.userAgent),\n      i = /iPhone|iPad|iPod|AppleWebKit.+Mobile/i.test(navigator.userAgent);\n  return t || i;\n}(),\n    hn = function () {\n  function t(t, i, n) {\n    this.hf = 0, this.sf = null, this.rf = null, this.ef = !1, this.uf = null, this.af = !1, this.lf = !1, this.ff = null, this.cf = null, this.vf = null, this._f = null, this.df = 0, this.wf = !1, this.Mf = !1, this.bf = !1, this.mf = t, this.gf = i, this.xi = n, this.pf();\n  }\n\n  return t.prototype.en = function () {\n    null !== this.ff && (this.ff(), this.ff = null), null !== this.cf && (this.cf(), this.cf = null), null !== this.vf && (this.vf(), this.vf = null), this.yf(), this.kf();\n  }, t.prototype.xf = function (t) {\n    var i = this;\n    this.cf && this.cf();\n    var n = this.Nf.bind(this);\n    this.cf = function () {\n      i.mf.removeEventListener(\"mousemove\", n);\n    }, this.mf.addEventListener(\"mousemove\", n), en(t) && this.Nf(t);\n    var h = this.Sf(t);\n    this.Cf(h, this.gf.Df);\n  }, t.prototype.kf = function () {\n    null !== this.sf && clearTimeout(this.sf), this.hf = 0, this.sf = null;\n  }, t.prototype.Nf = function (t) {\n    if (!this.bf || en(t)) {\n      var i = this.Sf(t);\n      this.Cf(i, this.gf.Tf);\n    }\n  }, t.prototype.Bf = function (t) {\n    if ((!(\"button\" in t) || 0 === t.button) && null === this._f) {\n      var i = en(t);\n\n      if (!this.Mf || !i) {\n        this.wf = !0;\n        var n = this.Sf(t),\n            h = c(this.uf),\n            s = Math.abs(h.g - n.Ef),\n            r = Math.abs(h.p - n.Lf),\n            e = s + r > 5;\n\n        if (e || !i) {\n          if (e && !this.af && i) {\n            var u = .5 * s,\n                a = r >= u && !this.xi.Af,\n                o = u > r && !this.xi.Vf;\n            a || o || (this.Mf = !0);\n          }\n\n          e && (this.af = !0, this.lf = !0, i && this.yf()), this.Mf || (this.Cf(n, this.gf.Of), i && un(t));\n        }\n      }\n    }\n  }, t.prototype.zf = function (t) {\n    if (!(\"button\" in t) || 0 === t.button) {\n      var i = this.Sf(t);\n      this.yf(), this.uf = null, this.bf = !1, this.vf && (this.vf(), this.vf = null), en(t) && this.Pf(t), this.Cf(i, this.gf.Ff), ++this.hf, this.sf && this.hf > 1 ? (this.Cf(i, this.gf.If), this.kf()) : this.lf || this.Cf(i, this.gf.Wf), en(t) && (un(t), this.Pf(t), 0 === t.touches.length && (this.ef = !1));\n    }\n  }, t.prototype.yf = function () {\n    null !== this.rf && (clearTimeout(this.rf), this.rf = null);\n  }, t.prototype.Rf = function (t) {\n    if (!(\"button\" in t) || 0 === t.button) {\n      var i = this.Sf(t);\n      this.lf = !1, this.af = !1, this.Mf = !1, en(t) && this.xf(t), this.uf = {\n        g: i.Ef,\n        p: i.Lf\n      }, this.vf && (this.vf(), this.vf = null);\n      var n = this.Bf.bind(this),\n          h = this.zf.bind(this),\n          s = this.mf.ownerDocument.documentElement;\n      this.vf = function () {\n        s.removeEventListener(\"touchmove\", n), s.removeEventListener(\"touchend\", h), s.removeEventListener(\"mousemove\", n), s.removeEventListener(\"mouseup\", h);\n      }, s.addEventListener(\"touchmove\", n, {\n        passive: !1\n      }), s.addEventListener(\"touchend\", h, {\n        passive: !1\n      }), this.yf(), en(t) && 1 === t.touches.length ? this.rf = setTimeout(this.jf.bind(this, t), 240) : (s.addEventListener(\"mousemove\", n), s.addEventListener(\"mouseup\", h)), this.bf = !0, this.Cf(i, this.gf.Uf), this.sf || (this.hf = 0, this.sf = setTimeout(this.kf.bind(this), 500));\n    }\n  }, t.prototype.pf = function () {\n    var t = this;\n    this.mf.addEventListener(\"mouseenter\", this.xf.bind(this)), this.mf.addEventListener(\"touchcancel\", this.yf.bind(this));\n\n    var i = this.mf.ownerDocument,\n        n = function n(i) {\n      t.gf.qf && (i.composed && t.mf.contains(i.composedPath()[0]) || i.target && t.mf.contains(i.target) || t.gf.qf());\n    };\n\n    this.ff = function () {\n      i.removeEventListener(\"mousedown\", n), i.removeEventListener(\"touchstart\", n);\n    }, i.addEventListener(\"mousedown\", n), i.addEventListener(\"touchstart\", n, {\n      passive: !0\n    }), this.mf.addEventListener(\"mouseleave\", this.Pf.bind(this)), this.mf.addEventListener(\"touchstart\", this.Rf.bind(this), {\n      passive: !0\n    }), tn || this.mf.addEventListener(\"mousedown\", this.Rf.bind(this)), this.Hf(), this.mf.addEventListener(\"touchmove\", function () {}, {\n      passive: !1\n    });\n  }, t.prototype.Hf = function () {\n    var t = this;\n    void 0 === this.gf.Yf && void 0 === this.gf.Kf && void 0 === this.gf.$f || (this.mf.addEventListener(\"touchstart\", function (i) {\n      return t.Xf(i.touches);\n    }, {\n      passive: !0\n    }), this.mf.addEventListener(\"touchmove\", function (i) {\n      if (2 === i.touches.length && null !== t._f && void 0 !== t.gf.Kf) {\n        var n = rn(i.touches[0], i.touches[1]) / t.df;\n        t.gf.Kf(t._f, n), un(i);\n      }\n    }, {\n      passive: !1\n    }), this.mf.addEventListener(\"touchend\", function (i) {\n      t.Xf(i.touches);\n    }));\n  }, t.prototype.Xf = function (t) {\n    1 === t.length && (this.wf = !1), 2 !== t.length || this.wf || this.ef ? this.Zf() : this.Jf(t);\n  }, t.prototype.Jf = function (t) {\n    var i = sn(this.mf);\n    this._f = {\n      g: (t[0].clientX - i.left + (t[1].clientX - i.left)) / 2,\n      p: (t[0].clientY - i.top + (t[1].clientY - i.top)) / 2\n    }, this.df = rn(t[0], t[1]), void 0 !== this.gf.Yf && this.gf.Yf(), this.yf();\n  }, t.prototype.Zf = function () {\n    null !== this._f && (this._f = null, void 0 !== this.gf.$f && this.gf.$f());\n  }, t.prototype.Pf = function (t) {\n    this.cf && this.cf();\n    var i = this.Sf(t);\n    this.Cf(i, this.gf.Gf);\n  }, t.prototype.jf = function (t) {\n    var i = this.Sf(t);\n    this.Cf(i, this.gf.Qf), this.lf = !0, this.ef = !0;\n  }, t.prototype.Cf = function (t, i) {\n    i && i.call(this.gf, t);\n  }, t.prototype.Sf = function (t) {\n    var i;\n    i = \"touches\" in t && t.touches.length ? t.touches[0] : \"changedTouches\" in t && t.changedTouches.length ? t.changedTouches[0] : t;\n    var n = sn(this.mf);\n    return {\n      tc: i.clientX,\n      ic: i.clientY,\n      Ef: i.pageX,\n      Lf: i.pageY,\n      nc: i.screenX,\n      hc: i.screenY,\n      sc: i.clientX - n.left,\n      rc: i.clientY - n.top,\n      ec: t.ctrlKey,\n      uc: t.altKey,\n      ac: t.shiftKey,\n      oc: t.metaKey,\n      me: t.type.startsWith(\"mouse\") ? \"mouse\" : \"touch\",\n      lc: t.view\n    };\n  }, t;\n}();\n\nfunction sn(t) {\n  return t.getBoundingClientRect() || {\n    left: 0,\n    top: 0\n  };\n}\n\nfunction rn(t, i) {\n  var n = t.clientX - i.clientX,\n      h = t.clientY - i.clientY;\n  return Math.sqrt(n * n + h * h);\n}\n\nfunction en(t) {\n  return Boolean(t.touches);\n}\n\nfunction un(t) {\n  t.cancelable && t.preventDefault();\n}\n\nvar an = function () {\n  function t(t, i, n, h) {\n    this.xu = new oi(200), this.ue = 0, this.fc = \"\", this.Ou = \"\", this.gu = [], this.cc = new Map(), this.ue = t, this.fc = i, this.Ou = zt(t, n, h);\n  }\n\n  return t.prototype.en = function () {\n    this.xu.pu(), this.gu = [], this.cc.clear();\n  }, t.prototype.vc = function (t, i, n, h, s) {\n    var r = this._c(t, i);\n\n    if (\"left\" !== s) {\n      var e = Xi(t.canvas);\n      n -= Math.floor(r.dc * e);\n    }\n\n    h -= Math.floor(r.wt / 2), t.drawImage(r.wc, n, h, r.dt, r.wt);\n  }, t.prototype._c = function (t, i) {\n    var n,\n        h = this;\n    if (this.cc.has(i)) n = l(this.cc.get(i));else {\n      if (this.gu.length >= 200) {\n        var s = l(this.gu.shift());\n        this.cc.delete(s);\n      }\n\n      var r = Xi(t.canvas),\n          e = Math.ceil(this.ue / 4.5),\n          u = Math.round(this.ue / 10),\n          a = Math.ceil(this.xu.Vt(t, i)),\n          o = nt(Math.round(a + 2 * e)),\n          f = nt(this.ue + 2 * e),\n          c = Ji(document, new $i(o, f));\n      n = {\n        At: i,\n        dc: Math.round(Math.max(1, a)),\n        dt: Math.ceil(o * r),\n        wt: Math.ceil(f * r),\n        wc: c\n      }, 0 !== a && (this.gu.push(n.At), this.cc.set(n.At, n)), z(t = Zi(n.wc), r, function () {\n        t.font = h.Ou, t.fillStyle = h.fc, t.fillText(i, 0, f - e - u);\n      });\n    }\n    return n;\n  }, t;\n}(),\n    on = function () {\n  function t(t, i, n, h) {\n    var s = this;\n    this.Jt = null, this.Mc = null, this.bc = null, this.mc = !1, this.gc = new oi(50), this.yc = new an(11, \"#000\"), this.fc = null, this.Ou = null, this.kc = 0, this.xc = function () {\n      s.Nc(s.pl.I()), s._i.Sc().ct().Or();\n    }, this.Cc = function () {\n      s._i.Sc().ct().Or();\n    }, this._i = t, this.xi = i, this.pl = n, this.Dc = \"left\" === h, this.Tc = document.createElement(\"div\"), this.Tc.style.height = \"100%\", this.Tc.style.overflow = \"hidden\", this.Tc.style.width = \"25px\", this.Tc.style.left = \"0\", this.Tc.style.position = \"relative\", this.Bc = Gi(this.Tc, new $i(16, 16)), this.Bc.subscribeCanvasConfigured(this.xc);\n    var r = this.Bc.canvas;\n    r.style.position = \"absolute\", r.style.zIndex = \"1\", r.style.left = \"0\", r.style.top = \"0\", this.Ec = Gi(this.Tc, new $i(16, 16)), this.Ec.subscribeCanvasConfigured(this.Cc);\n    var e = this.Ec.canvas;\n    e.style.position = \"absolute\", e.style.zIndex = \"2\", e.style.left = \"0\", e.style.top = \"0\";\n    var u = {\n      Uf: this.Lc.bind(this),\n      Of: this.Ac.bind(this),\n      qf: this.Vc.bind(this),\n      Ff: this.Oc.bind(this),\n      If: this.zc.bind(this),\n      Df: this.Pc.bind(this),\n      Gf: this.Fc.bind(this)\n    };\n    this.Ic = new hn(this.Ec.canvas, u, {\n      Af: !1,\n      Vf: !0\n    });\n  }\n\n  return t.prototype.en = function () {\n    this.Ic.en(), this.Ec.unsubscribeCanvasConfigured(this.Cc), this.Ec.destroy(), this.Bc.unsubscribeCanvasConfigured(this.xc), this.Bc.destroy(), null !== this.Jt && this.Jt.Wh().hn(this), this.Jt = null, null !== this.bc && (clearTimeout(this.bc), this.bc = null), this.yc.en();\n  }, t.prototype.Wc = function () {\n    return this.Tc;\n  }, t.prototype.K = function () {\n    return this.xi.backgroundColor;\n  }, t.prototype.S = function () {\n    return f(this.Jt).I().borderColor;\n  }, t.prototype.Rc = function () {\n    return this.xi.textColor;\n  }, t.prototype.zt = function () {\n    return this.xi.fontSize;\n  }, t.prototype.jc = function () {\n    return zt(this.zt(), this.xi.fontFamily);\n  }, t.prototype.Uc = function () {\n    var t = this.pl.I(),\n        i = this.fc !== t.et,\n        n = this.Ou !== t.xt;\n    return (i || n) && (this.Nc(t), this.fc = t.et), n && (this.gc.pu(), this.Ou = t.xt), t;\n  }, t.prototype.qc = function () {\n    if (null === this.Jt) return 0;\n    var t = 34,\n        i = this.Uc(),\n        n = Zi(this.Bc.canvas),\n        h = this.Jt.An();\n    n.font = this.jc(), h.length > 0 && (t = Math.max(this.gc.Vt(n, h[0].Bn), this.gc.Vt(n, h[h.length - 1].Bn)));\n\n    for (var s = this.Hc(), r = s.length; r--;) {\n      var e = this.gc.Vt(n, s[r].At());\n      e > t && (t = e);\n    }\n\n    var u = Math.ceil(i.Dt + i.Ct + i.Et + i.Lt + t);\n    return u += u % 2;\n  }, t.prototype.Yc = function (t) {\n    if (t.ht < 0 || t.st < 0) throw new Error(\"Try to set invalid size to PriceAxisWidget \" + JSON.stringify(t));\n    null !== this.Mc && this.Mc.on(t) || (this.Mc = t, this.Bc.resizeCanvas({\n      width: t.ht,\n      height: t.st\n    }), this.Ec.resizeCanvas({\n      width: t.ht,\n      height: t.st\n    }), this.Tc.style.width = t.ht + \"px\", this.Tc.style.height = t.st + \"px\", this.Tc.style.minWidth = t.ht + \"px\");\n  }, t.prototype.Kc = function () {\n    return f(this.Mc).ht;\n  }, t.prototype.li = function (t) {\n    this.Jt !== t && (null !== this.Jt && this.Jt.Wh().hn(this), this.Jt = t, t.Wh().Ji(this.Un.bind(this), this));\n  }, t.prototype.Z = function () {\n    return this.Jt;\n  }, t.prototype.pu = function () {\n    var t = this._i.$c();\n\n    this._i.Sc().ct().tl(t, f(this.Z()));\n  }, t.prototype.Xc = function (t) {\n    if (null !== this.Mc) {\n      if (1 !== t) {\n        var i = Zi(this.Bc.canvas);\n        this.Zc(), this.Jc(i, this.Bc.pixelRatio), this.uu(i, this.Bc.pixelRatio), this.Gc(i, this.Bc.pixelRatio), this.Qc(i, this.Bc.pixelRatio);\n      }\n\n      var n = Zi(this.Ec.canvas),\n          h = this.Mc.ht,\n          s = this.Mc.st;\n      z(n, this.Ec.pixelRatio, function () {\n        n.clearRect(0, 0, h, s);\n      }), this.tv(n, this.Ec.pixelRatio);\n    }\n  }, t.prototype.iv = function () {\n    return this.Bc.canvas;\n  }, t.prototype.Lc = function (t) {\n    if (null !== this.Jt && !this.Jt.Qt() && this._i.Sc().I().handleScale.axisPressedMouseMove.price) {\n      var i = this._i.Sc().ct(),\n          n = this._i.$c();\n\n      this.mc = !0, i.Ko(n, this.Jt, t.rc);\n    }\n  }, t.prototype.Ac = function (t) {\n    if (null !== this.Jt && this._i.Sc().I().handleScale.axisPressedMouseMove.price) {\n      var i = this._i.Sc().ct(),\n          n = this._i.$c(),\n          h = this.Jt;\n\n      i.$o(n, h, t.rc);\n    }\n  }, t.prototype.Vc = function () {\n    if (null !== this.Jt && this._i.Sc().I().handleScale.axisPressedMouseMove.price) {\n      var t = this._i.Sc().ct(),\n          i = this._i.$c(),\n          n = this.Jt;\n\n      this.mc && (this.mc = !1, t.Xo(i, n));\n    }\n  }, t.prototype.Oc = function (t) {\n    if (null !== this.Jt && this._i.Sc().I().handleScale.axisPressedMouseMove.price) {\n      var i = this._i.Sc().ct(),\n          n = this._i.$c();\n\n      this.mc = !1, i.Xo(n, this.Jt);\n    }\n  }, t.prototype.zc = function (t) {\n    this._i.Sc().I().handleScale.axisDoubleClickReset && this.pu();\n  }, t.prototype.Pc = function (t) {\n    null !== this.Jt && (!this._i.Sc().ct().I().handleScale.axisPressedMouseMove.price || this.Jt.lh() || this.Jt.fh() || this.nv(1));\n  }, t.prototype.Fc = function (t) {\n    this.nv(0);\n  }, t.prototype.Hc = function () {\n    var t = this,\n        i = [],\n        n = null === this.Jt ? void 0 : this.Jt;\n    return function (h) {\n      for (var s = 0; s < h.length; ++s) {\n        for (var r = h[s].fi(t._i.$c(), n), e = 0; e < r.length; e++) {\n          i.push(r[e]);\n        }\n      }\n    }(this._i.$c().Oh()), i;\n  }, t.prototype.Jc = function (t, i) {\n    var n = this;\n\n    if (null !== this.Mc) {\n      var h = this.Mc.ht,\n          s = this.Mc.st;\n      z(t, i, function () {\n        P(t, 0, 0, h, s, n.K());\n      });\n    }\n  }, t.prototype.uu = function (t, i) {\n    if (null !== this.Mc && null !== this.Jt && this.Jt.I().borderVisible) {\n      t.save(), t.fillStyle = this.S();\n      var n,\n          h = Math.max(1, Math.floor(this.Uc().Dt * i));\n      n = this.Dc ? Math.floor(this.Mc.ht * i) - h : 0, t.fillRect(n, 0, h, Math.ceil(this.Mc.st * i)), t.restore();\n    }\n  }, t.prototype.Gc = function (t, i) {\n    if (null !== this.Mc && null !== this.Jt) {\n      var n = this.Jt.An();\n      t.save(), t.strokeStyle = this.S(), t.font = this.jc(), t.fillStyle = this.S();\n      var h = this.Uc(),\n          s = this.Jt.I().borderVisible && this.Jt.I().drawTicks,\n          r = this.Dc ? Math.floor((this.Mc.ht - h.Ct) * i - h.Dt * i) : Math.floor(h.Dt * i),\n          e = this.Dc ? Math.round(r - h.Et * i) : Math.round(r + h.Ct * i + h.Et * i),\n          u = this.Dc ? \"right\" : \"left\",\n          a = Math.max(1, Math.floor(i)),\n          o = Math.floor(.5 * i);\n\n      if (s) {\n        var l = Math.round(h.Ct * i);\n        t.beginPath();\n\n        for (var f = 0, c = n; f < c.length; f++) {\n          var v = c[f];\n          t.rect(r, Math.round(v.Tn * i) - o, l, a);\n        }\n\n        t.fill();\n      }\n\n      t.fillStyle = this.Rc();\n\n      for (var _ = 0, d = n; _ < d.length; _++) {\n        v = d[_];\n        this.yc.vc(t, v.Bn, e, Math.round(v.Tn * i), u);\n      }\n\n      t.restore();\n    }\n  }, t.prototype.Zc = function () {\n    if (null !== this.Mc && null !== this.Jt) {\n      var t = this.Mc.st / 2,\n          i = [],\n          n = this.Jt.Oh().slice(),\n          h = this._i.$c(),\n          s = this.Uc();\n\n      this.Jt === h.Ci() && this._i.$c().Oh().forEach(function (t) {\n        h.Tu(t) && n.push(t);\n      });\n      var r = this.Jt.Vh()[0],\n          e = this.Jt;\n      n.forEach(function (n) {\n        var s = n.fi(h, e);\n        s.forEach(function (t) {\n          t.Yt(null), t.Kt() && i.push(t);\n        }), r === n && s.length > 0 && (t = s[0].Pt());\n      });\n      var u = i.filter(function (i) {\n        return i.Pt() <= t;\n      }),\n          a = i.filter(function (i) {\n        return i.Pt() > t;\n      });\n\n      if (u.sort(function (t, i) {\n        return i.Pt() - t.Pt();\n      }), u.length && a.length && a.push(u[0]), a.sort(function (t, i) {\n        return t.Pt() - i.Pt();\n      }), i.forEach(function (t) {\n        return t.Yt(t.Pt());\n      }), this.Jt.I().alignLabels) {\n        for (var o = 1; o < u.length; o++) {\n          var l = u[o],\n              f = (v = u[o - 1]).wt(s, !1);\n          l.Pt() > (_ = v.Ht()) - f && l.Yt(_ - f);\n        }\n\n        for (var c = 1; c < a.length; c++) {\n          var v, _;\n\n          l = a[c], f = (v = a[c - 1]).wt(s, !0);\n          l.Pt() < (_ = v.Ht()) + f && l.Yt(_ + f);\n        }\n      }\n    }\n  }, t.prototype.Qc = function (t, i) {\n    var n = this;\n\n    if (null !== this.Mc) {\n      t.save();\n      var h = this.Mc,\n          s = this.Hc(),\n          r = this.Uc(),\n          e = this.Dc ? \"right\" : \"left\";\n      s.forEach(function (s) {\n        if (s.$t()) {\n          var u = s.W(f(n.Jt));\n          t.save(), u.h(t, r, n.gc, h.ht, e, i), t.restore();\n        }\n      }), t.restore();\n    }\n  }, t.prototype.tv = function (t, i) {\n    var n = this;\n\n    if (null !== this.Mc && null !== this.Jt) {\n      t.save();\n\n      var h = this.Mc,\n          s = this._i.Sc().ct(),\n          r = [],\n          e = this._i.$c(),\n          u = s.Ol().fi(e, this.Jt);\n\n      u.length && r.push(u);\n      var a = this.Uc(),\n          o = this.Dc ? \"right\" : \"left\";\n      r.forEach(function (s) {\n        s.forEach(function (s) {\n          t.save(), s.W(f(n.Jt)).h(t, a, n.gc, h.ht, o, i), t.restore();\n        });\n      }), t.restore();\n    }\n  }, t.prototype.nv = function (t) {\n    this.Tc.style.cursor = 1 === t ? \"ns-resize\" : \"default\";\n  }, t.prototype.Un = function () {\n    var t = this,\n        i = this.qc();\n\n    if (this.kc < i) {\n      var n = this._i.Sc();\n\n      null === this.bc && (this.bc = setTimeout(function () {\n        n && n.ct().Nl(), t.bc = null;\n      }, 100));\n    }\n\n    this.kc = i;\n  }, t.prototype.Nc = function (t) {\n    this.yc.en(), this.yc = new an(t.zt, t.et, t.ee);\n  }, t;\n}(),\n    ln = nn,\n    fn = function () {\n  function t(t, i) {\n    var n = this;\n    this.Mc = new $i(0, 0), this.hv = null, this.sv = null, this.rv = null, this.ev = !1, this.uv = new J(), this.av = 0, this.ov = !1, this.lv = null, this.fv = !1, this.cv = null, this.xc = function () {\n      return n.vv && n.hi().Or();\n    }, this.Cc = function () {\n      return n.vv && n.hi().Or();\n    }, this._v = t, this.vv = i, this.vv.hl().Ji(this.dv.bind(this), this, !0), this.wv = document.createElement(\"td\"), this.wv.style.padding = \"0\", this.wv.style.position = \"relative\";\n    var h = document.createElement(\"div\");\n    h.style.width = \"100%\", h.style.height = \"100%\", h.style.position = \"relative\", h.style.overflow = \"hidden\", this.Mv = document.createElement(\"td\"), this.Mv.style.padding = \"0\", this.bv = document.createElement(\"td\"), this.bv.style.padding = \"0\", this.wv.appendChild(h), this.Bc = Gi(h, new $i(16, 16)), this.Bc.subscribeCanvasConfigured(this.xc);\n    var s = this.Bc.canvas;\n    s.style.position = \"absolute\", s.style.zIndex = \"1\", s.style.left = \"0\", s.style.top = \"0\", this.Ec = Gi(h, new $i(16, 16)), this.Ec.subscribeCanvasConfigured(this.Cc);\n    var r = this.Ec.canvas;\n    r.style.position = \"absolute\", r.style.zIndex = \"2\", r.style.left = \"0\", r.style.top = \"0\", this.mv = document.createElement(\"tr\"), this.mv.appendChild(this.Mv), this.mv.appendChild(this.wv), this.mv.appendChild(this.bv), this.gv();\n    var e = this.Sc().I().handleScroll;\n    this.Ic = new hn(this.Ec.canvas, this, {\n      Af: !e.vertTouchDrag,\n      Vf: !e.horzTouchDrag\n    });\n  }\n\n  return t.prototype.en = function () {\n    null !== this.hv && this.hv.en(), null !== this.sv && this.sv.en(), this.Ec.unsubscribeCanvasConfigured(this.Cc), this.Ec.destroy(), this.Bc.unsubscribeCanvasConfigured(this.xc), this.Bc.destroy(), null !== this.vv && this.vv.hl().hn(this), this.Ic.en();\n  }, t.prototype.$c = function () {\n    return f(this.vv);\n  }, t.prototype.pv = function (i) {\n    null !== this.vv && this.vv.hl().hn(this), this.vv = i, null !== this.vv && this.vv.hl().Ji(t.prototype.dv.bind(this), this, !0), this.gv();\n  }, t.prototype.Sc = function () {\n    return this._v;\n  }, t.prototype.Wc = function () {\n    return this.mv;\n  }, t.prototype.gv = function () {\n    if (null !== this.vv && (this.yv(), 0 !== this.hi().O().length)) {\n      if (null !== this.hv) {\n        var t = this.vv.Ho();\n        this.hv.li(f(t));\n      }\n\n      if (null !== this.sv) {\n        var i = this.vv.Yo();\n        this.sv.li(f(i));\n      }\n    }\n  }, t.prototype.Fo = function () {\n    return null !== this.vv ? this.vv.Fo() : 0;\n  }, t.prototype.Io = function (t) {\n    this.vv && this.vv.Io(t);\n  }, t.prototype.Df = function (t) {\n    if (this.vv) {\n      var i = t.sc,\n          n = t.rc;\n      tn || this.kv(i, n);\n    }\n  }, t.prototype.Uf = function (t) {\n    if (this.ov = !1, this.fv = null !== this.lv, this.vv) {\n      if (document.activeElement !== document.body && document.activeElement !== document.documentElement) f(document.activeElement).blur();else {\n        var i = document.getSelection();\n        null !== i && i.removeAllRanges();\n      }\n      var n = this.hi();\n\n      if (!this.vv.Ci().Qt() && !n.U().Qt()) {\n        if (null !== this.lv) {\n          var h = n.Ol();\n          this.cv = {\n            x: h.Mt(),\n            y: h.bt()\n          }, this.lv = {\n            x: t.sc,\n            y: t.rc\n          };\n        }\n\n        tn || this.kv(t.sc, t.rc);\n      }\n    }\n  }, t.prototype.Tf = function (t) {\n    if (this.vv) {\n      var i = t.sc,\n          n = t.rc;\n\n      if (this.xv() && this.Nv(), !tn) {\n        this.kv(i, n);\n        var h = this.zu(i, n);\n        this.hi().Tl(h && {\n          Bl: h.Bl,\n          Sv: h.Sv\n        }), null !== h && void 0 !== h.lc.Cv && h.lc.Cv(i, n);\n      }\n    }\n  }, t.prototype.Wf = function (t) {\n    if (null !== this.vv) {\n      var i = t.sc,\n          n = t.rc,\n          h = this.zu(i, n);\n\n      if (null !== h && void 0 !== h.lc.Dv && h.lc.Dv(i, n), this.uv.rn()) {\n        var s = this.hi().Ol().j();\n        this.uv.sn(s, {\n          x: i,\n          y: n\n        });\n      }\n\n      this.Tv();\n    }\n  }, t.prototype.Of = function (t) {\n    if (null !== this.vv) {\n      var i = this.hi(),\n          n = t.sc,\n          h = t.rc;\n\n      if (null !== this.lv) {\n        this.fv = !1;\n        var s = f(this.cv),\n            r = s.x + (n - this.lv.x),\n            e = s.y + (h - this.lv.y);\n        this.kv(r, e);\n      } else this.xv() || this.kv(n, h);\n\n      if (!i.U().Qt()) {\n        var u = this._v.I().handleScroll;\n\n        if (u.pressedMouseMove && \"touch\" !== t.me || (u.horzTouchDrag || u.vertTouchDrag) && \"mouse\" !== t.me) {\n          var a = this.vv.Ci();\n          null !== this.rv || this.Bv() || (this.rv = {\n            x: t.tc,\n            y: t.ic\n          }), null === this.rv || this.rv.x === t.tc && this.rv.y === t.ic || this.ev || (a.Qt() || i.Zo(this.vv, a, t.rc), i.jl(t.sc), this.ev = !0), this.ev && (a.Qt() || i.Jo(this.vv, a, t.rc), i.Ul(t.sc));\n        }\n      }\n    }\n  }, t.prototype.Ff = function (t) {\n    if (null !== this.vv) {\n      this.ov = !1;\n      var i = this.hi();\n\n      if (this.ev) {\n        var n = this.vv.Ci();\n        i.Go(this.vv, n), i.ql(), this.rv = null, this.ev = !1;\n      }\n    }\n  }, t.prototype.Qf = function (t) {\n    if (this.ov = !0, null === this.lv && ln) {\n      var i = {\n        x: t.sc,\n        y: t.rc\n      };\n      this.Ev(i, i);\n    }\n  }, t.prototype.Gf = function (t) {\n    null !== this.vv && (this.vv.ct().Tl(null), nn || this.Nv());\n  }, t.prototype.Lv = function () {\n    return this.uv;\n  }, t.prototype.Yf = function () {\n    this.av = 1;\n  }, t.prototype.Kf = function (t, i) {\n    if (this._v.I().handleScale.pinch) {\n      var n = 5 * (i - this.av);\n      this.av = i, this.hi().Wl(t.g, n);\n    }\n  }, t.prototype.zu = function (t, i) {\n    var n = this.vv;\n    if (null === n) return null;\n\n    for (var h = 0, s = n.Oh(); h < s.length; h++) {\n      var r = s[h],\n          e = this.Av(r.ci(n), t, i);\n      if (null !== e) return {\n        Bl: r,\n        lc: e.lc,\n        Sv: e.Sv\n      };\n    }\n\n    return null;\n  }, t.prototype.Vv = function (t, i) {\n    f(\"left\" === i ? this.hv : this.sv).Yc(new $i(t, this.Mc.st));\n  }, t.prototype.Ov = function () {\n    return this.Mc;\n  }, t.prototype.Yc = function (t) {\n    if (t.ht < 0 || t.st < 0) throw new Error(\"Try to set invalid size to PaneWidget \" + JSON.stringify(t));\n    this.Mc.on(t) || (this.Mc = t, this.Bc.resizeCanvas({\n      width: t.ht,\n      height: t.st\n    }), this.Ec.resizeCanvas({\n      width: t.ht,\n      height: t.st\n    }), this.wv.style.width = t.ht + \"px\", this.wv.style.height = t.st + \"px\");\n  }, t.prototype.zv = function () {\n    var t = f(this.vv);\n    t.qo(t.Ho()), t.qo(t.Yo());\n\n    for (var i = 0, n = t.Vh(); i < n.length; i++) {\n      var h = n[i];\n\n      if (t.Tu(h)) {\n        var s = h.Z();\n        null !== s && t.qo(s), h.Wi();\n      }\n    }\n  }, t.prototype.iv = function () {\n    return this.Bc.canvas;\n  }, t.prototype.Xc = function (t) {\n    if (0 !== t && null !== this.vv) {\n      if (t > 1 && this.zv(), null !== this.hv && this.hv.Xc(t), null !== this.sv && this.sv.Xc(t), 1 !== t) {\n        var i = Zi(this.Bc.canvas);\n        i.save(), this.Jc(i, this.Pv(), this.Bc.pixelRatio), this.vv && (this.Fv(i, this.Bc.pixelRatio), this.Iv(i, this.Bc.pixelRatio), this.Wv(i, this.Bc.pixelRatio)), i.restore();\n      }\n\n      var n = Zi(this.Ec.canvas);\n      n.clearRect(0, 0, Math.ceil(this.Mc.ht * this.Ec.pixelRatio), Math.ceil(this.Mc.st * this.Ec.pixelRatio)), this.Rv(n, this.Ec.pixelRatio);\n    }\n  }, t.prototype.jv = function () {\n    return this.hv;\n  }, t.prototype.Uv = function () {\n    return this.sv;\n  }, t.prototype.Pv = function () {\n    return this._v.I().layout.backgroundColor;\n  }, t.prototype.dv = function () {\n    null !== this.vv && this.vv.hl().hn(this), this.vv = null;\n  }, t.prototype.Jc = function (t, i, n) {\n    var h = this;\n    z(t, n, function () {\n      P(t, 0, 0, h.Mc.ht, h.Mc.st, i);\n    });\n  }, t.prototype.Fv = function (t, i) {\n    var n = f(this.vv),\n        h = n.sl().No().W(n.wt(), n.dt());\n    null !== h && (t.save(), h.h(t, i, !1), t.restore());\n  }, t.prototype.Iv = function (t, i) {\n    var n = this.hi().Vl();\n    this.qv(n, t, i), this.Hv(n, t, i);\n  }, t.prototype.Rv = function (t, i) {\n    this.Hv(this.hi().Ol(), t, i);\n  }, t.prototype.Wv = function (t, i) {\n    for (var n = f(this.vv).Oh(), h = 0, s = n; h < s.length; h++) {\n      var r = s[h];\n      this.qv(r, t, i);\n    }\n\n    for (var e = 0, u = n; e < u.length; e++) {\n      r = u[e];\n      this.Hv(r, t, i);\n    }\n  }, t.prototype.Hv = function (t, i, n) {\n    for (var h = f(this.vv), s = t.ci(h), r = h.wt(), e = h.dt(), u = h.ct().Dl(), a = null !== u && u.Bl === t, o = null !== u && a && void 0 !== u.Sv ? u.Sv.Pu : void 0, l = 0, c = s; l < c.length; l++) {\n      var v = c[l].W(r, e);\n      null !== v && (i.save(), v.h(i, n, a, o), i.restore());\n    }\n  }, t.prototype.qv = function (t, i, n) {\n    for (var h = f(this.vv), s = t.ci(h), r = h.wt(), e = h.dt(), u = h.ct().Dl(), a = null !== u && u.Bl === t, o = null !== u && a && void 0 !== u.Sv ? u.Sv.Pu : void 0, l = 0, c = s; l < c.length; l++) {\n      var v = c[l].W(r, e);\n      null !== v && void 0 !== v.o && (i.save(), v.o(i, n, a, o), i.restore());\n    }\n  }, t.prototype.Av = function (t, i, n) {\n    for (var h = 0, s = t; h < s.length; h++) {\n      var r = s[h],\n          e = r.W(this.Mc.st, this.Mc.ht);\n\n      if (null !== e && e.zu) {\n        var u = e.zu(i, n);\n        if (null !== u) return {\n          lc: r,\n          Sv: u\n        };\n      }\n    }\n\n    return null;\n  }, t.prototype.yv = function () {\n    if (null !== this.vv) {\n      var t = this._v;\n      t.I().leftPriceScale.visible || null === this.hv || (this.Mv.removeChild(this.hv.Wc()), this.hv.en(), this.hv = null), t.I().rightPriceScale.visible || null === this.sv || (this.bv.removeChild(this.sv.Wc()), this.sv.en(), this.sv = null);\n      var i = t.ct().Jl();\n      t.I().leftPriceScale.visible && null === this.hv && (this.hv = new on(this, t.I().layout, i, \"left\"), this.Mv.appendChild(this.hv.Wc())), t.I().rightPriceScale.visible && null === this.sv && (this.sv = new on(this, t.I().layout, i, \"right\"), this.bv.appendChild(this.sv.Wc()));\n    }\n  }, t.prototype.xv = function () {\n    return ln && null === this.lv;\n  }, t.prototype.Bv = function () {\n    return ln && this.ov || null !== this.lv;\n  }, t.prototype.Yv = function (t) {\n    return Math.max(0, Math.min(t, this.Mc.ht - 1));\n  }, t.prototype.Kv = function (t) {\n    return Math.max(0, Math.min(t, this.Mc.st - 1));\n  }, t.prototype.kv = function (t, i) {\n    this.hi().Kl(this.Yv(t), this.Kv(i), f(this.vv));\n  }, t.prototype.Nv = function () {\n    this.hi().Xl();\n  }, t.prototype.Tv = function () {\n    this.fv && (this.lv = null, this.Nv());\n  }, t.prototype.Ev = function (t, i) {\n    this.lv = t, this.fv = !1, this.kv(i.x, i.y);\n    var n = this.hi().Ol();\n    this.cv = {\n      x: n.Mt(),\n      y: n.bt()\n    };\n  }, t.prototype.hi = function () {\n    return this._v.ct();\n  }, t;\n}(),\n    cn = function () {\n  function t(t, i, n, h) {\n    var s = this;\n    this.B = !0, this.Mc = new $i(0, 0), this.xc = function () {\n      return s.Xc(3);\n    }, this.Dc = \"left\" === t, this.pl = n.Jl, this.xi = i, this.$v = h, this.Tc = document.createElement(\"div\"), this.Tc.style.width = \"25px\", this.Tc.style.height = \"100%\", this.Tc.style.overflow = \"hidden\", this.Bc = Gi(this.Tc, new $i(16, 16)), this.Bc.subscribeCanvasConfigured(this.xc);\n  }\n\n  return t.prototype.en = function () {\n    this.Bc.unsubscribeCanvasConfigured(this.xc), this.Bc.destroy();\n  }, t.prototype.Wc = function () {\n    return this.Tc;\n  }, t.prototype.Ov = function () {\n    return this.Mc;\n  }, t.prototype.Yc = function (t) {\n    if (t.ht < 0 || t.st < 0) throw new Error(\"Try to set invalid size to PriceAxisStub \" + JSON.stringify(t));\n    this.Mc.on(t) || (this.Mc = t, this.Bc.resizeCanvas({\n      width: t.ht,\n      height: t.st\n    }), this.Tc.style.width = t.ht + \"px\", this.Tc.style.minWidth = t.ht + \"px\", this.Tc.style.height = t.st + \"px\", this.B = !0);\n  }, t.prototype.Xc = function (t) {\n    if ((!(t < 3) || this.B) && 0 !== this.Mc.ht && 0 !== this.Mc.st) {\n      this.B = !1;\n      var i = Zi(this.Bc.canvas);\n      this.Jc(i, this.Bc.pixelRatio), this.uu(i, this.Bc.pixelRatio);\n    }\n  }, t.prototype.iv = function () {\n    return this.Bc.canvas;\n  }, t.prototype.uu = function (t, i) {\n    if (this.$v()) {\n      var n = this.Mc.ht;\n      t.save(), t.fillStyle = this.xi.timeScale.borderColor;\n      var h = Math.floor(this.pl.I().Dt * i),\n          s = this.Dc ? Math.round(n * i) - h : 0;\n      t.fillRect(s, 0, h, h), t.restore();\n    }\n  }, t.prototype.Jc = function (t, i) {\n    var n = this;\n    z(t, i, function () {\n      P(t, 0, 0, n.Mc.ht, n.Mc.st, n.xi.layout.backgroundColor);\n    });\n  }, t;\n}();\n\nfunction vn(t, i) {\n  return t.Fs > i.Fs ? t : i;\n}\n\nvar _n = function () {\n  function t(t) {\n    var i = this;\n    this.Xv = null, this.Zv = null, this.re = null, this.Jv = !1, this.Mc = new $i(0, 0), this.xc = function () {\n      return i._v.ct().Or();\n    }, this.Cc = function () {\n      return i._v.ct().Or();\n    }, this._v = t, this.xi = t.I().layout, this.Gv = document.createElement(\"tr\"), this.Qv = document.createElement(\"td\"), this.Qv.style.padding = \"0\", this.t_ = document.createElement(\"td\"), this.t_.style.padding = \"0\", this.Tc = document.createElement(\"td\"), this.Tc.style.height = \"25px\", this.Tc.style.padding = \"0\", this.i_ = document.createElement(\"div\"), this.i_.style.width = \"100%\", this.i_.style.height = \"100%\", this.i_.style.position = \"relative\", this.i_.style.overflow = \"hidden\", this.Tc.appendChild(this.i_), this.Bc = Gi(this.i_, new $i(16, 16)), this.Bc.subscribeCanvasConfigured(this.xc);\n    var n = this.Bc.canvas;\n    n.style.position = \"absolute\", n.style.zIndex = \"1\", n.style.left = \"0\", n.style.top = \"0\", this.Ec = Gi(this.i_, new $i(16, 16)), this.Ec.subscribeCanvasConfigured(this.Cc);\n    var h = this.Ec.canvas;\n    h.style.position = \"absolute\", h.style.zIndex = \"2\", h.style.left = \"0\", h.style.top = \"0\", this.Gv.appendChild(this.Qv), this.Gv.appendChild(this.Tc), this.Gv.appendChild(this.t_), this.n_(), this._v.ct().Po().Ji(this.n_.bind(this), this), this.Ic = new hn(this.Ec.canvas, this, {\n      Af: !0,\n      Vf: !1\n    });\n  }\n\n  return t.prototype.en = function () {\n    this.Ic.en(), null !== this.Xv && this.Xv.en(), null !== this.Zv && this.Zv.en(), this.Ec.unsubscribeCanvasConfigured(this.Cc), this.Ec.destroy(), this.Bc.unsubscribeCanvasConfigured(this.xc), this.Bc.destroy();\n  }, t.prototype.Wc = function () {\n    return this.Gv;\n  }, t.prototype.h_ = function () {\n    return this.Xv;\n  }, t.prototype.s_ = function () {\n    return this.Zv;\n  }, t.prototype.Uf = function (t) {\n    if (!this.Jv) {\n      this.Jv = !0;\n\n      var i = this._v.ct();\n\n      !i.U().Qt() && this._v.I().handleScale.axisPressedMouseMove.time && i.Il(t.sc);\n    }\n  }, t.prototype.qf = function () {\n    var t = this._v.ct();\n\n    !t.U().Qt() && this.Jv && (this.Jv = !1, this._v.I().handleScale.axisPressedMouseMove.time && t.Yl());\n  }, t.prototype.Of = function (t) {\n    var i = this._v.ct();\n\n    !i.U().Qt() && this._v.I().handleScale.axisPressedMouseMove.time && i.Hl(t.sc);\n  }, t.prototype.Ff = function (t) {\n    this.Jv = !1;\n\n    var i = this._v.ct();\n\n    i.U().Qt() && !this._v.I().handleScale.axisPressedMouseMove.time || i.Yl();\n  }, t.prototype.If = function () {\n    this._v.I().handleScale.axisDoubleClickReset && this._v.ct().pe();\n  }, t.prototype.Df = function (t) {\n    this._v.ct().I().handleScale.axisPressedMouseMove.time && this.nv(1);\n  }, t.prototype.Gf = function (t) {\n    this.nv(0);\n  }, t.prototype.Ov = function () {\n    return this.Mc;\n  }, t.prototype.r_ = function (t, i, n) {\n    this.Mc && this.Mc.on(t) || (this.Mc = t, this.Bc.resizeCanvas({\n      width: t.ht,\n      height: t.st\n    }), this.Ec.resizeCanvas({\n      width: t.ht,\n      height: t.st\n    }), this.Tc.style.width = t.ht + \"px\", this.Tc.style.height = t.st + \"px\"), null !== this.Xv && this.Xv.Yc(new $i(i, t.st)), null !== this.Zv && this.Zv.Yc(new $i(n, t.st));\n  }, t.prototype.e_ = function () {\n    var t = this.u_();\n    return Math.ceil(t.Dt + t.Ct + t.zt + t.Tt + t.Bt);\n  }, t.prototype.V = function () {\n    this._v.ct().U().An();\n  }, t.prototype.iv = function () {\n    return this.Bc.canvas;\n  }, t.prototype.Xc = function (t) {\n    if (0 !== t) {\n      if (1 !== t) {\n        var i = Zi(this.Bc.canvas);\n        this.Jc(i, this.Bc.pixelRatio), this.uu(i, this.Bc.pixelRatio), this.Gc(i, this.Bc.pixelRatio), null !== this.Xv && this.Xv.Xc(t), null !== this.Zv && this.Zv.Xc(t);\n      }\n\n      var n = Zi(this.Ec.canvas),\n          h = this.Ec.pixelRatio;\n      n.clearRect(0, 0, Math.ceil(this.Mc.ht * h), Math.ceil(this.Mc.st * h)), this.a_([this._v.ct().Ol()], n, h);\n    }\n  }, t.prototype.Jc = function (t, i) {\n    var n = this;\n    z(t, i, function () {\n      P(t, 0, 0, n.Mc.ht, n.Mc.st, n.Pv());\n    });\n  }, t.prototype.uu = function (t, i) {\n    if (this._v.I().timeScale.borderVisible) {\n      t.save(), t.fillStyle = this.o_();\n      var n = Math.max(1, Math.floor(this.u_().Dt * i));\n      t.fillRect(0, 0, Math.ceil(this.Mc.ht * i), n), t.restore();\n    }\n  }, t.prototype.Gc = function (t, i) {\n    var n = this,\n        h = this._v.ct().U().An();\n\n    if (h && 0 !== h.length) {\n      var s = h.reduce(vn, h[0]).Fs;\n      s > 30 && s < 40 && (s = 30), t.save(), t.strokeStyle = this.o_();\n      var r = this.u_(),\n          e = r.Dt + r.Ct + r.Tt + r.zt - r.Ot;\n      t.textAlign = \"center\", t.fillStyle = this.o_();\n      var u = Math.floor(this.u_().Dt * i),\n          a = Math.max(1, Math.floor(i)),\n          o = Math.floor(.5 * i);\n\n      if (this._v.ct().U().I().borderVisible) {\n        t.beginPath();\n\n        for (var l = Math.round(r.Ct * i), f = h.length; f--;) {\n          var c = Math.round(h[f].Tn * i);\n          t.rect(c - o, u, a, l);\n        }\n\n        t.fill();\n      }\n\n      t.fillStyle = this.oe(), z(t, i, function () {\n        t.font = n.l_();\n\n        for (var i = 0, r = h; i < r.length; i++) {\n          (o = r[i]).Fs < s && t.fillText(o.Bn, o.Tn, e);\n        }\n\n        t.font = n.f_();\n\n        for (var u = 0, a = h; u < a.length; u++) {\n          var o;\n          (o = a[u]).Fs >= s && t.fillText(o.Bn, o.Tn, e);\n        }\n      });\n    }\n  }, t.prototype.a_ = function (t, i, n) {\n    for (var h = this.u_(), s = 0, r = t; s < r.length; s++) {\n      for (var e = 0, u = r[s].vi(); e < u.length; e++) {\n        var a = u[e];\n        i.save(), a.W().h(i, h, n), i.restore();\n      }\n    }\n  }, t.prototype.Pv = function () {\n    return this.xi.backgroundColor;\n  }, t.prototype.o_ = function () {\n    return this._v.I().timeScale.borderColor;\n  }, t.prototype.oe = function () {\n    return this.xi.textColor;\n  }, t.prototype.ue = function () {\n    return this.xi.fontSize;\n  }, t.prototype.l_ = function () {\n    return zt(this.ue(), this.xi.fontFamily);\n  }, t.prototype.f_ = function () {\n    return zt(this.ue(), this.xi.fontFamily, \"bold\");\n  }, t.prototype.u_ = function () {\n    null === this.re && (this.re = {\n      Dt: 1,\n      Ot: NaN,\n      Tt: NaN,\n      Bt: NaN,\n      ni: NaN,\n      Ct: 3,\n      zt: NaN,\n      xt: \"\",\n      ii: new oi()\n    });\n    var t = this.re,\n        i = this.l_();\n\n    if (t.xt !== i) {\n      var n = this.ue();\n      t.zt = n, t.xt = i, t.Tt = Math.ceil(n / 2.5), t.Bt = t.Tt, t.ni = Math.ceil(n / 2), t.Ot = Math.round(this.ue() / 5), t.ii.pu();\n    }\n\n    return this.re;\n  }, t.prototype.nv = function (t) {\n    this.Tc.style.cursor = 1 === t ? \"ew-resize\" : \"default\";\n  }, t.prototype.n_ = function () {\n    var t = this._v.ct(),\n        i = t.I();\n\n    i.leftPriceScale.visible || null === this.Xv || (this.Qv.removeChild(this.Xv.Wc()), this.Xv.en(), this.Xv = null), i.rightPriceScale.visible || null === this.Zv || (this.t_.removeChild(this.Zv.Wc()), this.Zv.en(), this.Zv = null);\n    var n = {\n      Jl: this._v.ct().Jl()\n    };\n\n    if (i.leftPriceScale.visible && null === this.Xv) {\n      var h = function h() {\n        return i.leftPriceScale.borderVisible && t.U().I().borderVisible;\n      };\n\n      this.Xv = new cn(\"left\", this._v.I(), n, h), this.Qv.appendChild(this.Xv.Wc());\n    }\n\n    if (i.rightPriceScale.visible && null === this.Zv) {\n      h = function h() {\n        return i.rightPriceScale.borderVisible && t.U().I().borderVisible;\n      };\n\n      this.Zv = new cn(\"right\", this._v.I(), n, h), this.t_.appendChild(this.Zv.Wc());\n    }\n  }, t;\n}(),\n    dn = function () {\n  function t(t, i) {\n    var n;\n    this.c_ = [], this.v_ = 0, this.Vn = 0, this.Ys = 0, this.__ = 0, this.d_ = 0, this.w_ = null, this.M_ = !1, this.uv = new J(), this.ml = new J(), this.xi = i, this.Gv = document.createElement(\"div\"), this.Gv.classList.add(\"tv-lightweight-charts\"), this.Gv.style.overflow = \"hidden\", this.Gv.style.width = \"100%\", this.Gv.style.height = \"100%\", (n = this.Gv).style.userSelect = \"none\", n.style.webkitUserSelect = \"none\", n.style.msUserSelect = \"none\", n.style.MozUserSelect = \"none\", n.style.webkitTapHighlightColor = \"transparent\", this.b_ = document.createElement(\"table\"), this.b_.setAttribute(\"cellspacing\", \"0\"), this.Gv.appendChild(this.b_), this.m_ = this.g_.bind(this), this.Gv.addEventListener(\"wheel\", this.m_, {\n      passive: !1\n    }), this.hi = new Ki(this.gl.bind(this), this.xi), this.ct().zl().Ji(this.p_.bind(this), this), this.y_ = new _n(this), this.b_.appendChild(this.y_.Wc());\n    var h = this.xi.width,\n        s = this.xi.height;\n\n    if (0 === h || 0 === s) {\n      var r = t.getBoundingClientRect();\n      0 === h && (h = Math.floor(r.width), h -= h % 2), 0 === s && (s = Math.floor(r.height), s -= s % 2);\n    }\n\n    this.k_(h, s), this.x_(), t.appendChild(this.Gv), this.N_(), this.hi.U().$r().Ji(this.hi.Nl.bind(this.hi), this), this.hi.Po().Ji(this.hi.Nl.bind(this.hi), this);\n  }\n\n  return t.prototype.ct = function () {\n    return this.hi;\n  }, t.prototype.I = function () {\n    return this.xi;\n  }, t.prototype.S_ = function () {\n    return this.c_;\n  }, t.prototype.en = function () {\n    this.Gv.removeEventListener(\"wheel\", this.m_), 0 !== this.v_ && window.cancelAnimationFrame(this.v_), this.hi.zl().hn(this), this.hi.U().$r().hn(this), this.hi.Po().hn(this), this.hi.en();\n\n    for (var t = 0, i = this.c_; t < i.length; t++) {\n      var n = i[t];\n      this.b_.removeChild(n.Wc()), n.Lv().hn(this), n.en();\n    }\n\n    this.c_ = [], f(this.y_).en(), null !== this.Gv.parentElement && this.Gv.parentElement.removeChild(this.Gv), this.ml.en(), this.uv.en();\n  }, t.prototype.k_ = function (t, i, n) {\n    if (void 0 === n && (n = !1), this.Vn !== i || this.Ys !== t) {\n      this.Vn = i, this.Ys = t;\n      var h = i + \"px\",\n          s = t + \"px\";\n      f(this.Gv).style.height = h, f(this.Gv).style.width = s, this.b_.style.height = h, this.b_.style.width = s, n ? this.C_(new It(3)) : this.hi.Nl();\n    }\n  }, t.prototype.Xc = function (t) {\n    void 0 === t && (t = new It(3));\n\n    for (var i = 0; i < this.c_.length; i++) {\n      this.c_[i].Xc(t.Me(i).de);\n    }\n\n    this.y_.Xc(t.we());\n  }, t.prototype.sh = function (t) {\n    this.hi.sh(t), this.N_();\n    var i = t.width || this.Ys,\n        n = t.height || this.Vn;\n    this.k_(i, n);\n  }, t.prototype.Lv = function () {\n    return this.uv;\n  }, t.prototype.zl = function () {\n    return this.ml;\n  }, t.prototype.D_ = function () {\n    var t = this;\n    null !== this.w_ && (this.C_(this.w_), this.w_ = null);\n    var i = this.c_[0],\n        n = Ji(document, new $i(this.Ys, this.Vn)),\n        h = Zi(n),\n        s = Xi(n);\n    return z(h, s, function () {\n      var n = 0,\n          s = 0,\n          r = function r(i) {\n        for (var r = 0; r < t.c_.length; r++) {\n          var e = t.c_[r],\n              u = e.Ov().st,\n              a = f(\"left\" === i ? e.jv() : e.Uv()),\n              o = a.iv();\n          h.drawImage(o, n, s, a.Kc(), u), s += u;\n        }\n      };\n\n      t.T_() && (r(\"left\"), n = f(i.jv()).Kc()), s = 0;\n\n      for (var e = 0; e < t.c_.length; e++) {\n        var u = t.c_[e],\n            a = u.Ov(),\n            o = u.iv();\n        h.drawImage(o, n, s, a.ht, a.st), s += a.st;\n      }\n\n      n += i.Ov().ht, t.B_() && (s = 0, r(\"right\"));\n\n      var l = function l(i) {\n        var r = f(\"left\" === i ? t.y_.h_() : t.y_.s_()),\n            e = r.Ov(),\n            u = r.iv();\n        h.drawImage(u, n, s, e.ht, e.st);\n      };\n\n      if (t.xi.timeScale.visible) {\n        n = 0, t.T_() && (l(\"left\"), n = f(i.jv()).Kc());\n        var c = t.y_.Ov();\n        o = t.y_.iv();\n        h.drawImage(o, n, s, c.ht, c.st), t.B_() && (n = i.Ov().ht, l(\"right\"), h.restore());\n      }\n    }), n;\n  }, t.prototype.E_ = function (t) {\n    return \"none\" === t ? 0 : (\"left\" !== t || this.T_()) && (\"right\" !== t || this.B_()) ? 0 === this.c_.length ? 0 : f(\"left\" === t ? this.c_[0].jv() : this.c_[0].Uv()).Kc() : 0;\n  }, t.prototype.L_ = function () {\n    for (var t = 0, i = 0, n = 0, h = 0, s = this.c_; h < s.length; h++) {\n      var r = s[h];\n      this.T_() && (i = Math.max(i, f(r.jv()).qc())), this.B_() && (n = Math.max(n, f(r.Uv()).qc())), t += r.Fo();\n    }\n\n    var e = this.Ys,\n        u = this.Vn,\n        a = Math.max(e - i - n, 0),\n        o = this.xi.timeScale.visible ? this.y_.e_() : 0;\n    o % 2 && (o += 1);\n\n    for (var l = 0 + o, c = u < l ? 0 : u - l, v = c / t, _ = 0, d = 0; d < this.c_.length; ++d) {\n      (r = this.c_[d]).pv(this.hi.Al()[d]);\n      var w,\n          M = 0;\n      M = d === this.c_.length - 1 ? c - _ : Math.round(r.Fo() * v), _ += w = Math.max(M, 2), r.Yc(new $i(a, w)), this.T_() && r.Vv(i, \"left\"), this.B_() && r.Vv(n, \"right\"), r.$c() && this.hi.Pl(r.$c(), w);\n    }\n\n    this.y_.r_(new $i(a, o), i, n), this.hi.Sr(a), this.__ !== i && (this.__ = i), this.d_ !== n && (this.d_ = n);\n  }, t.prototype.g_ = function (t) {\n    var i = t.deltaX / 100,\n        n = -t.deltaY / 100;\n\n    if (0 !== i && this.xi.handleScroll.mouseWheel || 0 !== n && this.xi.handleScale.mouseWheel) {\n      switch (t.cancelable && t.preventDefault(), t.deltaMode) {\n        case t.DOM_DELTA_PAGE:\n          i *= 120, n *= 120;\n          break;\n\n        case t.DOM_DELTA_LINE:\n          i *= 32, n *= 32;\n      }\n\n      if (0 !== n && this.xi.handleScale.mouseWheel) {\n        var h = Math.sign(n) * Math.min(1, Math.abs(n)),\n            s = t.clientX - this.Gv.getBoundingClientRect().left;\n        this.ct().Wl(s, h);\n      }\n\n      0 !== i && this.xi.handleScroll.mouseWheel && this.ct().Rl(-80 * i);\n    }\n  }, t.prototype.C_ = function (t) {\n    var i = t.we();\n\n    if (3 === i && this.A_(), 3 === i || 2 === i) {\n      for (var n = this.hi.Al(), h = 0; h < n.length; h++) {\n        t.Me(h)._h && n[h].il();\n      }\n\n      for (var s = t.ye(), r = 0, e = s; r < e.length; r++) {\n        var u = e[r];\n        this.ke(u);\n      }\n\n      s.length > 0 && (this.hi.Vr(), this.hi.io(), this.hi.Or()), this.y_.V();\n    }\n\n    this.Xc(t);\n  }, t.prototype.ke = function (t) {\n    var i = this.hi.U();\n\n    switch (t.me) {\n      case 0:\n        i.Zr();\n        break;\n\n      case 1:\n        i.Jr(t.J);\n        break;\n\n      case 2:\n        i.vr(t.J);\n        break;\n\n      case 3:\n        i._r(t.J);\n\n        break;\n\n      case 4:\n        i.Ir();\n    }\n  }, t.prototype.gl = function (t) {\n    var i = this;\n    null !== this.w_ ? this.w_._n(t) : this.w_ = t, this.M_ || (this.M_ = !0, this.v_ = window.requestAnimationFrame(function () {\n      i.M_ = !1, i.v_ = 0, null !== i.w_ && (i.C_(i.w_), i.w_ = null);\n    }));\n  }, t.prototype.A_ = function () {\n    this.x_();\n  }, t.prototype.x_ = function () {\n    for (var t = this.hi.Al(), i = t.length, n = this.c_.length, h = i; h < n; h++) {\n      var s = l(this.c_.pop());\n      this.b_.removeChild(s.Wc()), s.Lv().hn(this), s.en();\n    }\n\n    for (h = n; h < i; h++) {\n      (s = new fn(this, t[h])).Lv().Ji(this.V_.bind(this), this), this.c_.push(s), this.b_.insertBefore(s.Wc(), this.y_.Wc());\n    }\n\n    for (h = 0; h < i; h++) {\n      var r = t[h];\n      (s = this.c_[h]).$c() !== r ? s.pv(r) : s.gv();\n    }\n\n    this.N_(), this.L_();\n  }, t.prototype.O_ = function (t, i) {\n    var n,\n        h = new Map();\n    null !== t && this.hi.O().forEach(function (i) {\n      var n = i.Zu(t);\n      null !== n && h.set(i, n);\n    });\n\n    if (null !== t) {\n      var s = this.hi.U().si(t);\n      null !== s && (n = s);\n    }\n\n    var r = this.ct().Dl(),\n        e = null !== r && r.Bl instanceof Fi ? r.Bl : void 0,\n        u = null !== r && void 0 !== r.Sv ? r.Sv.Iu : void 0;\n    return {\n      P: n,\n      z_: i || void 0,\n      P_: e,\n      F_: h,\n      I_: u\n    };\n  }, t.prototype.V_ = function (t, i) {\n    var n = this;\n    this.uv.sn(function () {\n      return n.O_(t, i);\n    });\n  }, t.prototype.p_ = function (t, i) {\n    var n = this;\n    this.ml.sn(function () {\n      return n.O_(t, i);\n    });\n  }, t.prototype.N_ = function () {\n    var t = this.xi.timeScale.visible ? \"\" : \"none\";\n    this.y_.Wc().style.display = t;\n  }, t.prototype.T_ = function () {\n    return this.xi.leftPriceScale.visible;\n  }, t.prototype.B_ = function () {\n    return this.xi.rightPriceScale.visible;\n  }, t;\n}();\n\nfunction wn(t, i, n) {\n  var h = n.value,\n      s = {\n    Ps: i,\n    P: t,\n    J: [h, h, h, h]\n  };\n  return \"color\" in n && void 0 !== n.color && (s.et = n.color), s;\n}\n\nfunction Mn(t, i, n) {\n  return {\n    Ps: i,\n    P: t,\n    J: [n.open, n.high, n.low, n.close]\n  };\n}\n\nfunction bn(t) {\n  return void 0 !== t.J;\n}\n\nfunction mn(t) {\n  return function (i, n, h) {\n    return void 0 === (s = h).open && void 0 === s.value ? {\n      P: i,\n      Ps: n\n    } : t(i, n, h);\n    var s;\n  };\n}\n\nvar gn = {\n  Candlestick: mn(Mn),\n  Bar: mn(Mn),\n  Area: mn(wn),\n  Histogram: mn(wn),\n  Line: mn(wn)\n};\n\nfunction pn(t) {\n  return gn[t];\n}\n\nfunction yn(t) {\n  return 60 * t * 60 * 1e3;\n}\n\nfunction kn(t) {\n  return 60 * t * 1e3;\n}\n\nvar xn,\n    Nn = [{\n  W_: 1,\n  Fs: 20\n}, {\n  W_: (xn = 1, 1e3 * xn),\n  Fs: 19\n}, {\n  W_: kn(1),\n  Fs: 20\n}, {\n  W_: kn(5),\n  Fs: 21\n}, {\n  W_: kn(30),\n  Fs: 22\n}, {\n  W_: yn(1),\n  Fs: 30\n}, {\n  W_: yn(3),\n  Fs: 31\n}, {\n  W_: yn(6),\n  Fs: 32\n}, {\n  W_: yn(12),\n  Fs: 33\n}];\n\nfunction Sn(t, i) {\n  if (null !== i) {\n    var n = new Date(1e3 * i),\n        h = new Date(1e3 * t);\n    if (h.getUTCFullYear() !== n.getUTCFullYear()) return 70;\n    if (h.getUTCMonth() !== n.getUTCMonth()) return 60;\n    if (h.getUTCDate() !== n.getUTCDate()) return 50;\n\n    for (var s = Nn.length - 1; s >= 0; --s) {\n      if (Math.floor(n.getTime() / Nn[s].W_) !== Math.floor(h.getTime() / Nn[s].W_)) return Nn[s].Fs;\n    }\n  }\n\n  return 20;\n}\n\nfunction Cn(t) {\n  if (!At(t)) throw new Error(\"time must be of type BusinessDay\");\n  var i = new Date(Date.UTC(t.year, t.month - 1, t.day, 0, 0, 0, 0));\n  return {\n    Cs: Math.round(i.getTime() / 1e3),\n    Ss: t\n  };\n}\n\nfunction Dn(t) {\n  if (!Vt(t)) throw new Error(\"time must be of type isUTCTimestamp\");\n  return {\n    Cs: t\n  };\n}\n\nfunction Tn(t) {\n  return 0 === t.length ? null : At(t[0].time) ? Cn : Dn;\n}\n\nfunction Bn(t) {\n  return Vt(t) ? Dn(t) : At(t) ? Cn(t) : Cn(En(t));\n}\n\nfunction En(t) {\n  var i = new Date(t);\n  if (isNaN(i.getTime())) throw new Error(\"Invalid date string=\" + t + \", expected format=yyyy-mm-dd\");\n  return {\n    day: i.getUTCDate(),\n    month: i.getUTCMonth() + 1,\n    year: i.getUTCFullYear()\n  };\n}\n\nfunction Ln(t) {\n  w(t.time) && (t.time = En(t.time));\n}\n\nfunction An(t) {\n  return {\n    Ps: 0,\n    R_: new Map(),\n    Ih: t\n  };\n}\n\nvar Vn = function () {\n  function t() {\n    this.j_ = new Map(), this.U_ = new Map(), this.q_ = new Map(), this.H_ = [];\n  }\n\n  return t.prototype.en = function () {\n    this.j_.clear(), this.U_.clear(), this.q_.clear(), this.H_ = [];\n  }, t.prototype.Y_ = function (t, i) {\n    var n = this;\n    this.q_.has(t) && this.j_.forEach(function (i) {\n      return i.R_.delete(t);\n    });\n    var h = [];\n\n    if (0 !== i.length) {\n      !function (t) {\n        t.forEach(Ln);\n      }(i);\n      var s = f(Tn(i)),\n          r = pn(t.fa());\n      h = i.map(function (i) {\n        var h = s(i.time),\n            e = n.j_.get(h.Cs);\n        void 0 === e && (e = An(h), n.j_.set(h.Cs, e));\n        var u = r(h, e.Ps, i);\n        return e.R_.set(t, u), u;\n      });\n    }\n\n    return this.K_(), this.X_(t, h), this.Z_(t);\n  }, t.prototype.tf = function (t) {\n    return this.Y_(t, []);\n  }, t.prototype.J_ = function (t, i) {\n    Ln(i);\n    var n = f(Tn([i]))(i.time),\n        h = this.q_.get(t);\n    if (void 0 !== h && n.Cs < h.Cs) throw new Error(\"Cannot update oldest data, last time=\" + h.Cs + \", new time=\" + n.Cs);\n    var s = this.j_.get(n.Cs),\n        r = void 0 === s;\n    void 0 === s && (s = An(n), this.j_.set(n.Cs, s));\n    var e = pn(t.fa())(n, s.Ps, i);\n    s.R_.set(t, e);\n    var u = this.G_(t, e);\n\n    if (!r) {\n      var a = new Map();\n      return null !== u && a.set(t, u), {\n        Q_: a,\n        U: {\n          Br: this.td()\n        }\n      };\n    }\n\n    return this.Z_(t);\n  }, t.prototype.G_ = function (t, i) {\n    var n = this.U_.get(t);\n    void 0 === n && (n = [], this.U_.set(t, n));\n    var h = 0 !== n.length ? n[n.length - 1] : null,\n        s = null;\n    return null === h || i.P.Cs > h.P.Cs ? bn(i) && (n.push(i), s = {\n      Nl: !1,\n      nd: [i]\n    }) : bn(i) ? (n[n.length - 1] = i, s = {\n      Nl: !1,\n      nd: [i]\n    }) : (n.splice(-1, 1), s = {\n      Nl: !0,\n      nd: n\n    }), this.q_.set(t, i.P), s;\n  }, t.prototype.X_ = function (t, i) {\n    0 !== i.length ? (this.U_.set(t, i.filter(bn)), this.q_.set(t, i[i.length - 1].P)) : (this.U_.delete(t), this.q_.delete(t));\n  }, t.prototype.K_ = function () {\n    var t = new Map();\n    this.j_.forEach(function (i, n) {\n      i.R_.size > 0 && t.set(n, i);\n    }), this.j_ = t;\n  }, t.prototype.hd = function (t) {\n    for (var i = -1, n = 0; n < this.H_.length && n < t.length; ++n) {\n      var h = this.H_[n],\n          s = t[n];\n\n      if (h.P.Cs !== s.P.Cs) {\n        i = n;\n        break;\n      }\n\n      s.zs = h.zs;\n    }\n\n    if (-1 === i && this.H_.length !== t.length && (i = Math.min(this.H_.length, t.length)), -1 === i) return -1;\n\n    var r = function r(i) {\n      var n = l(e.j_.get(t[i].P.Cs));\n      n.Ps = i, n.R_.forEach(function (t) {\n        t.Ps = i;\n      });\n    },\n        e = this;\n\n    for (n = i; n < t.length; ++n) {\n      r(n);\n    }\n\n    return function (t, i) {\n      void 0 === i && (i = 0);\n\n      for (var n = 0 === i || 0 === t.length ? null : t[i - 1].P.Cs, h = 0, s = i; s < t.length; ++s) {\n        var r = t[s];\n        r.zs = Sn(r.P.Cs, n), h += r.P.Cs - (n || r.P.Cs), n = r.P.Cs;\n      }\n\n      if (0 === i && t.length > 1) {\n        var e = Math.ceil(h / (t.length - 1)),\n            u = t[0].P.Cs - e;\n        t[0].zs = Sn(t[0].P.Cs, u);\n      }\n    }(t, i), this.H_ = t, i;\n  }, t.prototype.td = function () {\n    var t = 0;\n    return this.U_.forEach(function (i) {\n      0 !== i.length && (t = Math.max(t, i[i.length - 1].Ps));\n    }), t;\n  }, t.prototype.Z_ = function (t) {\n    var i = Array.from(this.j_.values()).map(function (t) {\n      return {\n        zs: 0,\n        P: t.Ih\n      };\n    });\n    i.sort(function (t, i) {\n      return t.P.Cs - i.P.Cs;\n    });\n    var n = this.hd(i),\n        h = {\n      Q_: new Map(),\n      U: {\n        Br: this.td()\n      }\n    };\n    if (-1 !== n) this.U_.forEach(function (t, i) {\n      h.Q_.set(i, {\n        nd: t,\n        Nl: !0\n      });\n    }), h.U.sd = this.H_;else {\n      var s = this.U_.get(t);\n      h.Q_.set(t, {\n        nd: s || [],\n        Nl: !0\n      });\n    }\n    return h;\n  }, t;\n}();\n\nvar On = {\n  color: \"#FF0000\",\n  price: 0,\n  lineStyle: 2,\n  lineWidth: 1,\n  axisLabelVisible: !0,\n  title: \"\"\n},\n    zn = function () {\n  function t(t) {\n    this.ea = t;\n  }\n\n  return t.prototype.applyOptions = function (t) {\n    this.ea.sh(t);\n  }, t.prototype.options = function () {\n    return this.ea.I();\n  }, t.prototype.rd = function () {\n    return this.ea;\n  }, t;\n}();\n\nfunction Pn(t) {\n  var i = t.overlay,\n      n = function (t, i) {\n    var n = {};\n\n    for (var h in t) {\n      Object.prototype.hasOwnProperty.call(t, h) && i.indexOf(h) < 0 && (n[h] = t[h]);\n    }\n\n    if (null != t && \"function\" == typeof Object.getOwnPropertySymbols) {\n      var s = 0;\n\n      for (h = Object.getOwnPropertySymbols(t); s < h.length; s++) {\n        i.indexOf(h[s]) < 0 && Object.prototype.propertyIsEnumerable.call(t, h[s]) && (n[h[s]] = t[h[s]]);\n      }\n    }\n\n    return n;\n  }(t, [\"overlay\"]);\n\n  return i && (n.priceScaleId = \"\"), n;\n}\n\nvar Fn = function () {\n  function t(t, i, n) {\n    this.Oe = t, this.ed = i, this.ud = n;\n  }\n\n  return t.prototype.priceFormatter = function () {\n    return this.Oe.Kh();\n  }, t.prototype.Q_ = function () {\n    return this.Oe;\n  }, t.prototype.priceToCoordinate = function (t) {\n    var i = this.Oe.Y();\n    return null === i ? null : this.Oe.Z().X(t, i.J);\n  }, t.prototype.coordinateToPrice = function (t) {\n    var i = this.Oe.Y();\n    return null === i ? null : this.Oe.Z().Di(t, i.J);\n  }, t.prototype.barsInLogicalRange = function (t) {\n    if (null === t) return null;\n    var i = new Et(new Ct(t.from, t.to)).Us(),\n        n = this.Oe.qi();\n    if (n.Qt()) return null;\n    var h = n.Ca(i.ss(), 1),\n        s = n.Ca(i.rs(), -1),\n        r = f(n.xa()),\n        e = f(n.Ui());\n    if (null !== h && null !== s && h.Ps > s.Ps) return {\n      barsBefore: t.from - r,\n      barsAfter: e - t.to\n    };\n    var u = {\n      barsBefore: null === h || h.Ps === r ? t.from - r : h.Ps - r,\n      barsAfter: null === s || s.Ps === e ? e - t.to : e - s.Ps\n    };\n    return null !== h && null !== s && (u.from = h.P.Ss || h.P.Cs, u.to = s.P.Ss || s.P.Cs), u;\n  }, t.prototype.setData = function (t) {\n    this.Oe.fa(), this.ed.ad(this.Oe, t);\n  }, t.prototype.update = function (t) {\n    this.Oe.fa(), this.ed.ho(this.Oe, t);\n  }, t.prototype.setMarkers = function (t) {\n    var i = t.map(function (t) {\n      return _u(_u({}, t), {\n        time: Bn(t.time)\n      });\n    });\n    this.Oe.eo(i);\n  }, t.prototype.applyOptions = function (t) {\n    var i = Pn(t);\n    this.Oe.sh(i);\n  }, t.prototype.options = function () {\n    return b(this.Oe.I());\n  }, t.prototype.priceScale = function () {\n    return this.ud.priceScale(this.Oe.Z().hh());\n  }, t.prototype.createPriceLine = function (t) {\n    var i = v(b(On), t),\n        n = this.Oe.uo(i);\n    return new zn(n);\n  }, t.prototype.removePriceLine = function (t) {\n    this.Oe.ao(t.rd());\n  }, t.prototype.seriesType = function () {\n    return this.Oe.fa();\n  }, t;\n}(),\n    In = function (t) {\n  function i() {\n    return null !== t && t.apply(this, arguments) || this;\n  }\n\n  return e(i, t), i.prototype.applyOptions = function (i) {\n    mt(i), t.prototype.applyOptions.call(this, i);\n  }, i;\n}(Fn),\n    Wn = {\n  autoScale: !0,\n  mode: 0,\n  invertScale: !1,\n  alignLabels: !0,\n  borderVisible: !0,\n  borderColor: \"#2B2B43\",\n  entireTextOnly: !1,\n  visible: !1,\n  drawTicks: !0,\n  scaleMargins: {\n    bottom: .1,\n    top: .2\n  }\n},\n    Rn = {\n  color: \"rgba(0, 0, 0, 0)\",\n  visible: !1,\n  fontSize: 48,\n  fontFamily: Ot,\n  fontStyle: \"\",\n  text: \"\",\n  horzAlign: \"center\",\n  vertAlign: \"center\"\n},\n    jn = {\n  width: 0,\n  height: 0,\n  layout: {\n    backgroundColor: \"#FFFFFF\",\n    textColor: \"#191919\",\n    fontSize: 11,\n    fontFamily: Ot\n  },\n  crosshair: {\n    vertLine: {\n      color: \"#758696\",\n      width: 1,\n      style: 3,\n      visible: !0,\n      labelVisible: !0,\n      labelBackgroundColor: \"#4c525e\"\n    },\n    horzLine: {\n      color: \"#758696\",\n      width: 1,\n      style: 3,\n      visible: !0,\n      labelVisible: !0,\n      labelBackgroundColor: \"#4c525e\"\n    },\n    mode: 1\n  },\n  grid: {\n    vertLines: {\n      color: \"#D6DCDE\",\n      style: 0,\n      visible: !0\n    },\n    horzLines: {\n      color: \"#D6DCDE\",\n      style: 0,\n      visible: !0\n    }\n  },\n  overlayPriceScales: _u({}, Wn),\n  leftPriceScale: _u(_u({}, Wn), {\n    visible: !1\n  }),\n  rightPriceScale: _u(_u({}, Wn), {\n    visible: !0\n  }),\n  timeScale: {\n    rightOffset: 0,\n    barSpacing: 6,\n    fixLeftEdge: !1,\n    lockVisibleTimeRangeOnResize: !1,\n    rightBarStaysOnScroll: !1,\n    borderVisible: !0,\n    borderColor: \"#2B2B43\",\n    visible: !0,\n    timeVisible: !1,\n    secondsVisible: !0,\n    shiftVisibleRangeOnNewBar: !0\n  },\n  watermark: Rn,\n  localization: {\n    locale: Qi ? navigator.language : \"\",\n    dateFormat: \"dd MMM 'yy\"\n  },\n  handleScroll: {\n    mouseWheel: !0,\n    pressedMouseMove: !0,\n    horzTouchDrag: !0,\n    vertTouchDrag: !0\n  },\n  handleScale: {\n    axisPressedMouseMove: {\n      time: !0,\n      price: !0\n    },\n    axisDoubleClickReset: !0,\n    mouseWheel: !0,\n    pinch: !0\n  }\n},\n    Un = {\n  upColor: \"#26a69a\",\n  downColor: \"#ef5350\",\n  wickVisible: !0,\n  borderVisible: !0,\n  borderColor: \"#378658\",\n  borderUpColor: \"#26a69a\",\n  borderDownColor: \"#ef5350\",\n  wickColor: \"#737375\",\n  wickUpColor: \"#26a69a\",\n  wickDownColor: \"#ef5350\"\n},\n    qn = {\n  upColor: \"#26a69a\",\n  downColor: \"#ef5350\",\n  openVisible: !0,\n  thinBars: !0\n},\n    Hn = {\n  color: \"#2196f3\",\n  lineStyle: 0,\n  lineWidth: 3,\n  lineType: 0,\n  crosshairMarkerVisible: !0,\n  crosshairMarkerRadius: 4,\n  crosshairMarkerBorderColor: \"\",\n  crosshairMarkerBackgroundColor: \"\"\n},\n    Yn = {\n  topColor: \"rgba( 46, 220, 135, 0.4)\",\n  bottomColor: \"rgba( 40, 221, 100, 0)\",\n  lineColor: \"#33D778\",\n  lineStyle: 0,\n  lineWidth: 3,\n  lineType: 0,\n  crosshairMarkerVisible: !0,\n  crosshairMarkerRadius: 4,\n  crosshairMarkerBorderColor: \"\",\n  crosshairMarkerBackgroundColor: \"\"\n},\n    Kn = {\n  color: \"#26a69a\",\n  base: 0\n},\n    $n = {\n  title: \"\",\n  visible: !0,\n  lastValueVisible: !0,\n  priceLineVisible: !0,\n  priceLineSource: 0,\n  priceLineWidth: 1,\n  priceLineColor: \"\",\n  priceLineStyle: 2,\n  baseLineVisible: !0,\n  baseLineWidth: 1,\n  baseLineColor: \"#B2B5BE\",\n  baseLineStyle: 0,\n  priceFormat: {\n    type: \"price\",\n    precision: 2,\n    minMove: .01\n  }\n},\n    Xn = function () {\n  function t(t, i) {\n    this.od = t, this.ld = i;\n  }\n\n  return t.prototype.applyOptions = function (t) {\n    this.od.ct().El(this.ld, t);\n  }, t.prototype.options = function () {\n    return this.Jt().I();\n  }, t.prototype.width = function () {\n    return Ft(this.ld) ? this.od.E_(\"left\" === this.ld ? \"left\" : \"right\") : 0;\n  }, t.prototype.Jt = function () {\n    return f(this.od.ct().Ll(this.ld)).Z;\n  }, t;\n}(),\n    Zn = function () {\n  function t(t) {\n    this.fd = new J(), this.tr = new J(), this.hi = t, this.To().Yr().Ji(this.vd.bind(this)), this.To().Kr().Ji(this._d.bind(this));\n  }\n\n  return t.prototype.en = function () {\n    this.To().Yr().hn(this), this.To().Kr().hn(this), this.fd.en();\n  }, t.prototype.scrollPosition = function () {\n    return this.To().Pr();\n  }, t.prototype.scrollToPosition = function (t, i) {\n    i ? this.To().Hr(t, 1e3) : this.hi._r(t);\n  }, t.prototype.scrollToRealTime = function () {\n    this.To().qr();\n  }, t.prototype.getVisibleRange = function () {\n    var t,\n        i,\n        n = this.To().mr();\n    return null === n ? null : {\n      from: null !== (t = n.from.Ss) && void 0 !== t ? t : n.from.Cs,\n      to: null !== (i = n.to.Ss) && void 0 !== i ? i : n.to.Cs\n    };\n  }, t.prototype.setVisibleRange = function (t) {\n    var i = {\n      from: Bn(t.from),\n      to: Bn(t.to)\n    },\n        n = this.To().kr(i);\n    this.hi.if(n);\n  }, t.prototype.getVisibleLogicalRange = function () {\n    var t = this.To().br();\n    return null === t ? null : {\n      from: t.ss(),\n      to: t.rs()\n    };\n  }, t.prototype.setVisibleLogicalRange = function (t) {\n    o(t.from <= t.to, \"The from index cannot be after the to index.\"), this.hi.if(t);\n  }, t.prototype.resetTimeScale = function () {\n    this.hi.pe();\n  }, t.prototype.fitContent = function () {\n    this.hi.Zr();\n  }, t.prototype.logicalToCoordinate = function (t) {\n    var i = this.hi.U();\n    return i.Qt() ? null : i.G(t);\n  }, t.prototype.coordinateToLogical = function (t) {\n    var i = this.hi.U();\n    return i.Qt() ? null : i.Lr(t);\n  }, t.prototype.timeToCoordinate = function (t) {\n    var i = Bn(t),\n        n = this.hi.U(),\n        h = n.dr(i, !1);\n    return null === h ? null : n.G(h);\n  }, t.prototype.coordinateToTime = function (t) {\n    var i,\n        n = this.hi.U(),\n        h = n.Lr(t),\n        s = n.si(h);\n    return null === s ? null : null !== (i = s.Ss) && void 0 !== i ? i : s.Cs;\n  }, t.prototype.subscribeVisibleTimeRangeChange = function (t) {\n    this.fd.Ji(t);\n  }, t.prototype.unsubscribeVisibleTimeRangeChange = function (t) {\n    this.fd.nn(t);\n  }, t.prototype.subscribeVisibleLogicalRangeChange = function (t) {\n    this.tr.Ji(t);\n  }, t.prototype.unsubscribeVisibleLogicalRangeChange = function (t) {\n    this.tr.nn(t);\n  }, t.prototype.applyOptions = function (t) {\n    this.To().sh(t);\n  }, t.prototype.options = function () {\n    return b(this.To().I());\n  }, t.prototype.To = function () {\n    return this.hi.U();\n  }, t.prototype.vd = function () {\n    this.fd.rn() && this.fd.sn(this.getVisibleRange());\n  }, t.prototype._d = function () {\n    this.tr.rn() && this.tr.sn(this.getVisibleLogicalRange());\n  }, t;\n}();\n\nfunction Jn(t) {\n  if (void 0 !== t && \"custom\" !== t.type) {\n    var i = t;\n    void 0 !== i.minMove && void 0 === i.precision && (i.precision = function (t) {\n      if (t >= 1) return 0;\n\n      for (var i = 0; i < 8; i++) {\n        var n = Math.round(t);\n        if (Math.abs(n - t) < 1e-8) return i;\n        t *= 10;\n      }\n\n      return i;\n    }(i.minMove));\n  }\n}\n\nfunction Gn(t) {\n  return function (t) {\n    if (M(t.handleScale)) {\n      var i = t.handleScale;\n      t.handleScale = {\n        axisDoubleClickReset: i,\n        axisPressedMouseMove: {\n          time: i,\n          price: i\n        },\n        mouseWheel: i,\n        pinch: i\n      };\n    } else if (void 0 !== t.handleScale && M(t.handleScale.axisPressedMouseMove)) {\n      var n = t.handleScale.axisPressedMouseMove;\n      t.handleScale.axisPressedMouseMove = {\n        time: n,\n        price: n\n      };\n    }\n\n    var h = t.handleScroll;\n    M(h) && (t.handleScroll = {\n      horzTouchDrag: h,\n      vertTouchDrag: h,\n      mouseWheel: h,\n      pressedMouseMove: h\n    });\n  }(t), function (t) {\n    if (t.priceScale) {\n      t.leftPriceScale = t.leftPriceScale || {}, t.rightPriceScale = t.rightPriceScale || {};\n      var i = t.priceScale.position;\n      delete t.priceScale.position, t.leftPriceScale = v(t.leftPriceScale, t.priceScale), t.rightPriceScale = v(t.rightPriceScale, t.priceScale), \"left\" === i && (t.leftPriceScale.visible = !0, t.rightPriceScale.visible = !1), \"right\" === i && (t.leftPriceScale.visible = !1, t.rightPriceScale.visible = !0), \"none\" === i && (t.leftPriceScale.visible = !1, t.rightPriceScale.visible = !1), t.overlayPriceScales = t.overlayPriceScales || {}, void 0 !== t.priceScale.invertScale && (t.overlayPriceScales.invertScale = t.priceScale.invertScale), void 0 !== t.priceScale.scaleMargins && (t.overlayPriceScales.scaleMargins = t.priceScale.scaleMargins);\n    }\n  }(t), t;\n}\n\nvar Qn = function () {\n  function t(t, i) {\n    var n = this;\n    this.dd = new Vn(), this.wd = new Map(), this.Md = new Map(), this.bd = new J(), this.md = new J();\n    var h = void 0 === i ? b(jn) : v(b(jn), Gn(i));\n    this.od = new dn(t, h), this.od.Lv().Ji(function (t) {\n      n.bd.rn() && n.bd.sn(n.gd(t()));\n    }, this), this.od.zl().Ji(function (t) {\n      n.md.rn() && n.md.sn(n.gd(t()));\n    }, this);\n    var s = this.od.ct();\n    this.pd = new Zn(s);\n  }\n\n  return t.prototype.remove = function () {\n    this.od.Lv().hn(this), this.od.zl().hn(this), this.pd.en(), this.od.en(), this.wd.clear(), this.Md.clear(), this.bd.en(), this.md.en(), this.dd.en();\n  }, t.prototype.resize = function (t, i, n) {\n    this.od.k_(t, i, n);\n  }, t.prototype.addAreaSeries = function (t) {\n    void 0 === t && (t = {}), Jn((t = Pn(t)).priceFormat);\n    var i = v(b($n), Yn, t),\n        n = this.od.ct().Gl(\"Area\", i),\n        h = new Fn(n, this, this);\n    return this.wd.set(h, n), this.Md.set(n, h), h;\n  }, t.prototype.addBarSeries = function (t) {\n    void 0 === t && (t = {}), Jn((t = Pn(t)).priceFormat);\n    var i = v(b($n), qn, t),\n        n = this.od.ct().Gl(\"Bar\", i),\n        h = new Fn(n, this, this);\n    return this.wd.set(h, n), this.Md.set(n, h), h;\n  }, t.prototype.addCandlestickSeries = function (t) {\n    void 0 === t && (t = {}), mt(t = Pn(t)), Jn(t.priceFormat);\n    var i = v(b($n), Un, t),\n        n = this.od.ct().Gl(\"Candlestick\", i),\n        h = new In(n, this, this);\n    return this.wd.set(h, n), this.Md.set(n, h), h;\n  }, t.prototype.addHistogramSeries = function (t) {\n    void 0 === t && (t = {}), Jn((t = Pn(t)).priceFormat);\n    var i = v(b($n), Kn, t),\n        n = this.od.ct().Gl(\"Histogram\", i),\n        h = new Fn(n, this, this);\n    return this.wd.set(h, n), this.Md.set(n, h), h;\n  }, t.prototype.addLineSeries = function (t) {\n    void 0 === t && (t = {}), Jn((t = Pn(t)).priceFormat);\n    var i = v(b($n), Hn, t),\n        n = this.od.ct().Gl(\"Line\", i),\n        h = new Fn(n, this, this);\n    return this.wd.set(h, n), this.Md.set(n, h), h;\n  }, t.prototype.removeSeries = function (t) {\n    var i = l(this.wd.get(t)),\n        n = this.dd.tf(i);\n    this.od.ct().tf(i), this.yd(n), this.wd.delete(t), this.Md.delete(i);\n  }, t.prototype.ad = function (t, i) {\n    this.yd(this.dd.Y_(t, i));\n  }, t.prototype.ho = function (t, i) {\n    this.yd(this.dd.J_(t, i));\n  }, t.prototype.subscribeClick = function (t) {\n    this.bd.Ji(t);\n  }, t.prototype.unsubscribeClick = function (t) {\n    this.bd.nn(t);\n  }, t.prototype.subscribeCrosshairMove = function (t) {\n    this.md.Ji(t);\n  }, t.prototype.unsubscribeCrosshairMove = function (t) {\n    this.md.nn(t);\n  }, t.prototype.priceScale = function (t) {\n    return void 0 === t && (t = this.od.ct().nf()), new Xn(this.od, t);\n  }, t.prototype.timeScale = function () {\n    return this.pd;\n  }, t.prototype.applyOptions = function (t) {\n    this.od.sh(Gn(t));\n  }, t.prototype.options = function () {\n    return this.od.I();\n  }, t.prototype.takeScreenshot = function () {\n    return this.od.D_();\n  }, t.prototype.yd = function (t) {\n    var i = this.od.ct();\n    i.Zl(t.U.Br, t.U.sd), t.Q_.forEach(function (t, i) {\n      return i.ho(t.nd, t.Nl);\n    }), i.Vr();\n  }, t.prototype.kd = function (t) {\n    return l(this.Md.get(t));\n  }, t.prototype.gd = function (t) {\n    var i = this,\n        n = new Map();\n    t.F_.forEach(function (t, h) {\n      n.set(i.kd(h), t);\n    });\n    var h = void 0 === t.P_ ? void 0 : this.kd(t.P_);\n    return {\n      time: t.P && (t.P.Ss || t.P.Cs),\n      point: t.z_,\n      hoveredSeries: h,\n      hoveredMarkerId: t.I_,\n      seriesPrices: n\n    };\n  }, t;\n}();\n\nfunction th(t, i) {\n  var n;\n\n  if (w(t)) {\n    var h = document.getElementById(t);\n    o(null !== h, \"Cannot find element in DOM with id=\" + t), n = h;\n  } else n = t;\n\n  return new Qn(n, i);\n}\n\nfunction ih() {\n  return \"3.3.0\";\n}\n\nexport { F as CrosshairMode, n as LineStyle, i as LineType, dt as PriceLineSource, ft as PriceScaleMode, Tt as TickMarkType, th as createChart, At as isBusinessDay, Vt as isUTCTimestamp, ih as version };","map":null,"metadata":{},"sourceType":"module"}