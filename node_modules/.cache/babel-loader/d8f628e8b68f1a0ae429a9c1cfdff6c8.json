{"ast":null,"code":"import React from 'react';\nexport function Wxpay(fields, success) {\n  var that = this;\n  return function onBridgeReady() {\n    WeixinJSBridge.invoke('getBrandWCPayRequest', {\n      \"appId\": that.state.data.appId,\n      //公众号名称，由商户传入\n      \"timeStamp\": that.state.data.timeStamp,\n      //时间戳，自1970年以来的秒数\n      \"nonceStr\": that.state.data.nonceStr,\n      //随机串\n      \"package\": that.state.data[\"package\"],\n      //预支付交易码\n      \"signType\": that.state.data.signType,\n      //微信签名方式：\n      \"paySign\": that.state.data.paySign //微信签名\n\n    }, function (res) {\n      if (res.err_msg == \"get_brand_wcpay_request:ok\") {\n        alert(\"支付成功\");\n        that.props.history.push(RouterList[\"private\"]); // 使用以上方式判断前端返回,微信团队郑重提示：\n        //res.err_msg将在用户支付成功后返回ok，但并不保证它绝对可靠。\n      } else {\n        alert(\"支付失败,请重试\");\n      }\n    });\n  };\n}","map":{"version":3,"sources":["/Users/hielf/workspace/projects/panda_quant2/app/javascript/components/Utils/Wxpay.js"],"names":["React","Wxpay","fields","success","that","onBridgeReady","WeixinJSBridge","invoke","state","data","appId","timeStamp","nonceStr","signType","paySign","res","err_msg","alert","props","history","push","RouterList"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,SAASC,KAAT,CAAeC,MAAf,EAAuBC,OAAvB,EAAgC;AACrC,MAAMC,IAAI,GAAG,IAAb;AACA,SAAO,SAASC,aAAT,GAAyB;AAC9BC,IAAAA,cAAc,CAACC,MAAf,CACE,sBADF,EAC0B;AACtB,eAAQH,IAAI,CAACI,KAAL,CAAWC,IAAX,CAAgBC,KADF;AACa;AACnC,mBAAYN,IAAI,CAACI,KAAL,CAAWC,IAAX,CAAgBE,SAFN;AAEgB;AACtC,kBAAWP,IAAI,CAACI,KAAL,CAAWC,IAAX,CAAgBG,QAHL;AAGe;AACrC,iBAAUR,IAAI,CAACI,KAAL,CAAWC,IAAX,WAJY;AAIa;AACnC,kBAAWL,IAAI,CAACI,KAAL,CAAWC,IAAX,CAAgBI,QALL;AAKc;AACpC,iBAAUT,IAAI,CAACI,KAAL,CAAWC,IAAX,CAAgBK,OANJ,CAMY;;AANZ,KAD1B,EASE,UAASC,GAAT,EAAa;AACX,UAAGA,GAAG,CAACC,OAAJ,IAAe,4BAAlB,EAAgD;AAC9CC,QAAAA,KAAK,CAAC,MAAD,CAAL;AACAb,QAAAA,IAAI,CAACc,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwBC,UAAU,WAAlC,EAF8C,CAG9C;AACA;AACD,OALD,MAKK;AACHJ,QAAAA,KAAK,CAAC,UAAD,CAAL;AACD;AACF,KAlBH;AAoBD,GArBD;AAsBD","sourcesContent":["import React from 'react'\n\nexport function Wxpay(fields, success) {\n  const that = this;\n  return function onBridgeReady() {\n    WeixinJSBridge.invoke(\n      'getBrandWCPayRequest', {\n        \"appId\":that.state.data.appId,     //公众号名称，由商户传入\n        \"timeStamp\":that.state.data.timeStamp,//时间戳，自1970年以来的秒数\n        \"nonceStr\":that.state.data.nonceStr, //随机串\n        \"package\":that.state.data.package, //预支付交易码\n        \"signType\":that.state.data.signType,//微信签名方式：\n        \"paySign\":that.state.data.paySign //微信签名\n      },\n      function(res){\n        if(res.err_msg == \"get_brand_wcpay_request:ok\" ){\n          alert(\"支付成功\");\n          that.props.history.push(RouterList.private);\n          // 使用以上方式判断前端返回,微信团队郑重提示：\n          //res.err_msg将在用户支付成功后返回ok，但并不保证它绝对可靠。\n        }else{\n          alert(\"支付失败,请重试\");\n        }\n      }\n    );\n  };\n}\n"]},"metadata":{},"sourceType":"module"}