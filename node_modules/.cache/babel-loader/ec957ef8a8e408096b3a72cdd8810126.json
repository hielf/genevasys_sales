{"ast":null,"code":"import React from 'react';\n\nvar WxPay = function WxPay(props) {\n  return WeixinJSBridge.invoke('getBrandWCPayRequest', {\n    \"appId\": props.state.data.appId,\n    //公众号名称，由商户传入\n    \"timeStamp\": props.state.data.timeStamp,\n    //时间戳，自1970年以来的秒数\n    \"nonceStr\": props.state.data.nonceStr,\n    //随机串\n    \"package\": props.state.data[\"package\"],\n    //预支付交易码\n    \"signType\": props.state.data.signType,\n    //微信签名方式：\n    \"paySign\": props.state.data.paySign //微信签名\n\n  }, function (res) {\n    if (res.err_msg == \"get_brand_wcpay_request:ok\") {\n      alert(\"支付成功\");\n      that.props.history.push(RouterList[\"private\"]); // 使用以上方式判断前端返回,微信团队郑重提示：\n      //res.err_msg将在用户支付成功后返回ok，但并不保证它绝对可靠。\n    } else {\n      alert(\"支付失败,请重试\");\n    }\n  });\n};\n\nexport default WxPay;","map":{"version":3,"sources":["/Users/hielf/workspace/projects/panda_quant2/app/javascript/components/Utils/WxPay.js"],"names":["React","WxPay","props","WeixinJSBridge","invoke","state","data","appId","timeStamp","nonceStr","signType","paySign","res","err_msg","alert","that","history","push","RouterList"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,IAAMC,KAAK,GAAG,SAARA,KAAQ,CAACC,KAAD,EAAW;AAEvB,SAEIC,cAAc,CAACC,MAAf,CACE,sBADF,EAC0B;AACtB,aAAQF,KAAK,CAACG,KAAN,CAAYC,IAAZ,CAAiBC,KADH;AACc;AACpC,iBAAYL,KAAK,CAACG,KAAN,CAAYC,IAAZ,CAAiBE,SAFP;AAEiB;AACvC,gBAAWN,KAAK,CAACG,KAAN,CAAYC,IAAZ,CAAiBG,QAHN;AAGgB;AACtC,eAAUP,KAAK,CAACG,KAAN,CAAYC,IAAZ,WAJY;AAIc;AACpC,gBAAWJ,KAAK,CAACG,KAAN,CAAYC,IAAZ,CAAiBI,QALN;AAKe;AACrC,eAAUR,KAAK,CAACG,KAAN,CAAYC,IAAZ,CAAiBK,OANL,CAMa;;AANb,GAD1B,EASE,UAASC,GAAT,EAAa;AACX,QAAGA,GAAG,CAACC,OAAJ,IAAe,4BAAlB,EAAgD;AAC9CC,MAAAA,KAAK,CAAC,MAAD,CAAL;AACAC,MAAAA,IAAI,CAACb,KAAL,CAAWc,OAAX,CAAmBC,IAAnB,CAAwBC,UAAU,WAAlC,EAF8C,CAG9C;AACA;AACD,KALD,MAKK;AACHJ,MAAAA,KAAK,CAAC,UAAD,CAAL;AACD;AACF,GAlBH,CAFJ;AAwBD,CA1BD;;AA4BA,eAAeb,KAAf","sourcesContent":["import React from 'react'\n\nconst WxPay = (props) => {\n\n  return (\n\n      WeixinJSBridge.invoke(\n        'getBrandWCPayRequest', {\n          \"appId\":props.state.data.appId,     //公众号名称，由商户传入\n          \"timeStamp\":props.state.data.timeStamp,//时间戳，自1970年以来的秒数\n          \"nonceStr\":props.state.data.nonceStr, //随机串\n          \"package\":props.state.data.package, //预支付交易码\n          \"signType\":props.state.data.signType,//微信签名方式：\n          \"paySign\":props.state.data.paySign //微信签名\n        },\n        function(res){\n          if(res.err_msg == \"get_brand_wcpay_request:ok\" ){\n            alert(\"支付成功\");\n            that.props.history.push(RouterList.private)\n            // 使用以上方式判断前端返回,微信团队郑重提示：\n            //res.err_msg将在用户支付成功后返回ok，但并不保证它绝对可靠。\n          }else{\n            alert(\"支付失败,请重试\")\n          }\n        }\n      )\n\n  )\n}\n\nexport default WxPay\n"]},"metadata":{},"sourceType":"module"}