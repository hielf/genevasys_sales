{"ast":null,"code":"import React from 'react';\n\nvar WxPay = function WxPay(props) {\n  return function onBridgeReady() {\n    WeixinJSBridge.invoke('getBrandWCPayRequest', {\n      \"appId\": props.state.data.appId,\n      //公众号名称，由商户传入\n      \"timeStamp\": props.state.data.timeStamp,\n      //时间戳，自1970年以来的秒数\n      \"nonceStr\": props.state.data.nonceStr,\n      //随机串\n      \"package\": props.state.data[\"package\"],\n      //预支付交易码\n      \"signType\": props.state.data.signType,\n      //微信签名方式：\n      \"paySign\": props.state.data.paySign //微信签名\n\n    }, function (res) {\n      if (res.err_msg == \"get_brand_wcpay_request:ok\") {\n        alert(\"支付成功\");\n        that.props.history.push(RouterList[\"private\"]); // 使用以上方式判断前端返回,微信团队郑重提示：\n        //res.err_msg将在用户支付成功后返回ok，但并不保证它绝对可靠。\n      } else {\n        alert(\"支付失败,请重试\");\n      }\n    });\n  };\n};\n\nexport default WxPay;","map":{"version":3,"sources":["/Users/hielf/workspace/projects/panda_quant2/app/javascript/components/Utils/WxPay.js"],"names":["React","WxPay","props","onBridgeReady","WeixinJSBridge","invoke","state","data","appId","timeStamp","nonceStr","signType","paySign","res","err_msg","alert","that","history","push","RouterList"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,IAAMC,KAAK,GAAG,SAARA,KAAQ,CAACC,KAAD,EAAW;AAEvB,SACE,SAASC,aAAT,GAAyB;AACvBC,IAAAA,cAAc,CAACC,MAAf,CACE,sBADF,EAC0B;AACtB,eAAQH,KAAK,CAACI,KAAN,CAAYC,IAAZ,CAAiBC,KADH;AACc;AACpC,mBAAYN,KAAK,CAACI,KAAN,CAAYC,IAAZ,CAAiBE,SAFP;AAEiB;AACvC,kBAAWP,KAAK,CAACI,KAAN,CAAYC,IAAZ,CAAiBG,QAHN;AAGgB;AACtC,iBAAUR,KAAK,CAACI,KAAN,CAAYC,IAAZ,WAJY;AAIc;AACpC,kBAAWL,KAAK,CAACI,KAAN,CAAYC,IAAZ,CAAiBI,QALN;AAKe;AACrC,iBAAUT,KAAK,CAACI,KAAN,CAAYC,IAAZ,CAAiBK,OANL,CAMa;;AANb,KAD1B,EASE,UAASC,GAAT,EAAa;AACX,UAAGA,GAAG,CAACC,OAAJ,IAAe,4BAAlB,EAAgD;AAC9CC,QAAAA,KAAK,CAAC,MAAD,CAAL;AACAC,QAAAA,IAAI,CAACd,KAAL,CAAWe,OAAX,CAAmBC,IAAnB,CAAwBC,UAAU,WAAlC,EAF8C,CAG9C;AACA;AACD,OALD,MAKK;AACHJ,QAAAA,KAAK,CAAC,UAAD,CAAL;AACD;AACF,KAlBH;AAoBD,GAtBH;AAwBD,CA1BD;;AA4BA,eAAed,KAAf","sourcesContent":["import React from 'react'\n\nconst WxPay = (props) => {\n\n  return (\n    function onBridgeReady() {\n      WeixinJSBridge.invoke(\n        'getBrandWCPayRequest', {\n          \"appId\":props.state.data.appId,     //公众号名称，由商户传入\n          \"timeStamp\":props.state.data.timeStamp,//时间戳，自1970年以来的秒数\n          \"nonceStr\":props.state.data.nonceStr, //随机串\n          \"package\":props.state.data.package, //预支付交易码\n          \"signType\":props.state.data.signType,//微信签名方式：\n          \"paySign\":props.state.data.paySign //微信签名\n        },\n        function(res){\n          if(res.err_msg == \"get_brand_wcpay_request:ok\" ){\n            alert(\"支付成功\");\n            that.props.history.push(RouterList.private);\n            // 使用以上方式判断前端返回,微信团队郑重提示：\n            //res.err_msg将在用户支付成功后返回ok，但并不保证它绝对可靠。\n          }else{\n            alert(\"支付失败,请重试\");\n          }\n        }\n      );\n    }\n  )\n}\n\nexport default WxPay\n"]},"metadata":{},"sourceType":"module"}